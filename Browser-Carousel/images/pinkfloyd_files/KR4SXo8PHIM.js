if (self.CavalryLogger) { CavalryLogger.start_js(["bntH5"]); }

__d("AsyncLoader",["AsyncRequest","BaseAsyncLoader"],(function(a,b,c,d,e,f){function a(a,b){this._endpoint=a,this._type=b}Object.assign(a.prototype,b("BaseAsyncLoader").prototype);a.prototype.send=function(a,c,d,e,f){new(b("AsyncRequest"))(a).setData({ids:c}).setHandler(e).setErrorHandler(f).setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).send()};e.exports=a}),null);
__d("ChatHovercard",["Arbiter","AsyncLoader","Bootloader","JSLogger","TimeSlice","debounce","emptyFunction","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=5,h=new(b("AsyncLoader"))("/ajax/chat/hovercard/sidebar.php","hover"),i=b("JSLogger").create("chat_hovercard");b("Arbiter").subscribe("Hovercard/dirty",h.reset.bind(h));function j(a,c){var d=function(){h.get(a,c)};b("TimeSlice").guard(d,"superfluous request to first open DD",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()}function k(a,c){__p&&__p();if(!a)return;j(a,function(d){__p&&__p();b("setTimeoutAcrossTransitions")(function(){__p&&__p();if(!d){i.error("fetch_failure",{id:a});return}b("Bootloader").loadModules(["Hovercard"],function(b){b=b.getDialog(d);if(!b){i.error("no_hovercard",{id:a,endpoint:d});return}a==c.getActiveID()&&c.showHovercard(a,b)},"ChatHovercard")},0)})}function l(a,b){__p&&__p();var c=[];function d(b){b>=0&&b<a.length&&c.push(a[b])}b=a.indexOf(b);if(b>-1){d(b);for(var e=1;e<g;e++)d(b+e),d(b-e)}return c.filter(function(a){return a})}function m(a,c){c=c.getActiveID();if(c){a=a.getShowingUsers();a=l(a,c);j(a,b("emptyFunction"))}}function a(a){var c=a.getHoverController();c.registerDefault(k);c.subscribe("hover",b("debounce")(m.bind(null,a,c),100))}e.exports=a}),null);
__d("ChatOrderedListHover",["csx","ArbiterMixin","CSS","ErrorUtils","Event","LayerHideOnBlur","Parent","clearTimeout","gkx","mixin","setTimeoutAcrossTransitions","shield"],(function(a,b,c,d,e,f,g){__p&&__p();var h;function i(a){b("CSS").addClass(a,"fetching")}function j(a){b("CSS").removeClass(a,"fetching")}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d._orderedList=c;d._root=c.getRoot();b("Event").listen(d._root,"mouseover",d._mouseOver.bind(babelHelpers.assertThisInitialized(d)));b("Event").listen(d._root,"mouseleave",d._mouseLeave.bind(babelHelpers.assertThisInitialized(d)));c.subscribe("click",b("shield")(d._hide,babelHelpers.assertThisInitialized(d)));return d}var d=c.prototype;d._mouseOver=function(a){if(this._paused)return;a=a.getTarget();a=b("Parent").bySelector(a,"._42fz")||b("Parent").bySelector(a,"._5a58");a&&this._setActiveItem(a)};d._mouseLeave=function(a){this._setActiveItem(null)};d._clearTimeouts=function(){this._showTimeout&&b("clearTimeout")(this._showTimeout),this._showTimeout=null,this._hideTimeout&&b("clearTimeout")(this._hideTimeout),this._hideTimeout=null,this._hoverTimeout&&b("clearTimeout")(this._hoverTimeout),this._hoverTimeout=null};d._hide=function(){this._showingDialog&&(this._showingDialog.hide(),this._showingDialog=null,this._showingID=null)};d._show=function(){var a=this.getActiveID(),c=!1;this._defaultHandler&&(c=!0,(h||(h=b("ErrorUtils"))).applyWithGuard(this._defaultHandler,{},[a,this]));c&&this._showingID!=this.getActiveID()&&i(this._activeItem)};d._setActiveItem=function(a){__p&&__p();var c=this;if(a!=this._activeItem){this._clearTimeouts();this._activeItem&&j(this._activeItem);if(a){this._activeItem=a;a=b("gkx")("1353340");var d=a?1100:this._showingDialog?0:600;this._showTimeout=b("setTimeoutAcrossTransitions")(function(){return c._show()},d);a?this._hoverTimeout=b("setTimeoutAcrossTransitions")(function(){c.inform("hover")},1e3):this.inform("hover")}else this._activeItem=null,this._hideTimeout=b("setTimeoutAcrossTransitions")(function(){return c._hide()},10),this.inform("leave")}};d.registerDefault=function(a){this._defaultHandler=a};d.getActiveID=function(){var a=this._activeItem&&this._orderedList.getUserForNode(this._activeItem);return a||null};d.showHovercard=function(a,c){__p&&__p();if(a==this.getActiveID()&&a!=this._showingID){this._clearTimeouts();j(this._activeItem);this._hide();this._showingDialog=c;this._showingID=a;var d=c.subscribe("mouseenter",this._setActiveItem.bind(this,this._activeItem)),e=c.subscribe("mouseleave",function(){d.unsubscribe(),this._setActiveItem(null)}.bind(this)),f=c.subscribe("hide",function(){this.inform("hovercard_hide"),d.unsubscribe(),e.unsubscribe(),f.unsubscribe()}.bind(this));c.enableBehavior(b("LayerHideOnBlur")).setContext(this._activeItem).setPosition("left").show();this.inform("hovercard_show")}};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a.prototype,{_root:null,_activeItem:null,_hideTimeout:null,_showTimeout:null,_hoverTimeout:null,_showingDialog:null,_showingID:null,_defaultHandler:null});e.exports=a}),null);
__d("ChatSidebarConstants",[],(function(a,b,c,d,e,f){"use strict";var g={IMAGE_SIZE:32,getImageSize:function(){return g.IMAGE_SIZE},getItemHeight:function(){return g.IMAGE_SIZE+8}};e.exports=g}),null);
__d("ChatUnreadCountStore",["ChatDispatcher","ChatUnreadCountActionTypes","FluxStore","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("ChatDispatcher"))||this}var d=c.prototype;d.__onDispatch=function(a){a=a.type;switch(a){case b("ChatUnreadCountActionTypes").COUNT_UPDATED:this.__emitChange();break;default:break}};d.get=function(a){return b("ifRequired")("ChatUnreadCount",function(b){return b.get().getUnreadCountForUID(a)||0},function(){return 0})};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("ChatSidebarUserDetailsFactory",["AvailableListConstants","ChatUnreadCountStore","LastActiveTimes","PresencePrivacy","PresenceStatusStore","ShortProfilesStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getUsersDetailedData:function(a,c){var d={},e=[];a.forEach(function(a){if(!Object.prototype.hasOwnProperty.call(d,a)){var b=g._getDetailsForUserId(a,c);d[a]=b;b||e.push(a)}});e.length>0&&b("ShortProfilesStore").getMulti(e);return d},_getDetailsForUserId:function(a,c){var d=b("ShortProfilesStore").getNow(a);if(d){var e=b("PresenceStatusStore").get(a);return{shortProfile:d,presencePrivacyAllows:b("PresencePrivacy").allows(a),lastActiveTime:b("LastActiveTimes").getShortDisplay(a),unreadCount:b("gkx")("780925")?0:b("ChatUnreadCountStore").get(a),isPlaying:c?b("PresenceStatusStore").getIsPlaying(a):!1,status:e===b("AvailableListConstants").ACTIVE?e:null}}return null}};e.exports=g}),null);
__d("MessengerDivebarSizingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerDivebarSizingLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setMaxItemSlots=function(a){this.$1.max_item_slots=a;return this};c.setNumAdminedPages=function(a){this.$1.num_admined_pages=a;return this};c.setNumGroups=function(a){this.$1.num_groups=a;return this};c.setNumNearby=function(a){this.$1.num_nearby=a;return this};c.setNumPymm=function(a){this.$1.num_pymm=a;return this};c.setNumRecents=function(a){this.$1.num_recents=a;return this};c.setNumTopFriends=function(a){this.$1.num_top_friends=a;return this};c.setNumTopFriendsShown=function(a){this.$1.num_top_friends_shown=a;return this};c.setSidebarType=function(a){this.$1.sidebar_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={max_item_slots:!0,num_admined_pages:!0,num_groups:!0,num_nearby:!0,num_pymm:!0,num_recents:!0,num_top_friends:!0,num_top_friends_shown:!0,sidebar_type:!0,time:!0,weight:!0};e.exports=a}),null);
__d("ChatOrderedList",["csx","Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","Bootloader","ChatConfig","ChatHovercard","ChatOptions","ChatOrderedListHover","ChatSidebarConstants","ChatSidebarPreloadStore","ChatSidebarStore","ChatSidebarUserDetailsFactory","CSS","CurrentUser","DataStore","DOM","Event","MessengerDivebarSizingTypedLogger","Parent","PresenceOrderedList","PresencePrivacy","React","ReactDOM","ShortProfilesStore","debounceAcrossTransitions","emptyFunction","gkx","mixin","onAfterDisplay","qex"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("React");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g){__p&&__p();var i;i=a.call(this)||this;i._debouncedRender=b("emptyFunction");i._render=function(){__p&&__p();if(!i._isVisible||i._isHovering){i._isHovering&&(i._skippedRenderDuringHover=!0);return}b("PresenceOrderedList").getSorted(i._numTopFriends,function(a){__p&&__p();var c=b("CurrentUser").isWorkUser()?b("PresenceOrderedList").getAllSorted(a.concat(i._nearby)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return!a||a.type==="fb4c"}):b("PresenceOrderedList").getAvailableSorted(a.concat(i._nearby)),d=b("CurrentUser").isWorkUser()?b("PresenceOrderedList").getAllSorted(a.concat(i._nearby)).filter(function(a){a=b("ShortProfilesStore").getNow(a);return a&&a.type!=="fb4c"}):[];a=a.filter(function(a){return!i._nearby||i._nearby.indexOf(a)===-1});var e=b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE?i._nearby.filter(function(a){return b("PresencePrivacy").allows(a)}):i._nearby,f=b("PresencePrivacy").getVisibility()==b("PresencePrivacy").ONLINE?a.filter(function(a){return b("PresencePrivacy").allows(a)}):a;a=b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getVisibility()?a.filter(function(a){return!b("PresencePrivacy").allows(a)}):[];var g=b("ChatSidebarStore").isAfterDomLoad(),j=i._chatSidebarRecentCallsStore?i._chatSidebarRecentCallsStore.getState():{},k=i._chatSidebarRecentCallsStore?i._chatSidebarRecentCallsStore.getParticipants():[];k=b("ChatSidebarUserDetailsFactory").getUsersDetailedData([].concat(c,e,a,f,k,d),g);g=i._orderedListComponent;b("ReactDOM").render(h.jsx(g,{adminedPages:i._adminedPages,availableUsers:c,groups:i._groups,isAfterDomLoad:b("ChatSidebarStore").isAfterDomLoad(),isSidebar:i._isSidebar,isUserOffline:b("PresencePrivacy").isUserOffline(),marketplaceThreads:i._marketplaceThreads,maxItemSlots:i._maxItemSlots+1,nearby:e,offlineUsers:a,pageListModule:i._pageListModule,pymmList:i._pymmList,recentCalls:j,scrollContainer:i._scrollContainer,topUsers:f,usersDetailedData:k,workOthers:d}),i._orderedList);i.inform("render")})};i._debouncedRender=b("debounceAcrossTransitions")(i._render,300);i._typeAheadActive=!1;i._root=d;i._isVisible=!1;i._excludedIds={};i._numTopFriends=5;i._adminedPages=[];i._marketplaceThreads=[];i._pageListModule=null;i._pymmList={config:null,pages:[]};i._groups=[];i._nearby=[];i._hoverController=null;i._isHovering=!1;i._skippedRenderDuringHover=!1;i._isSidebar=c;i._maxItemSlots=0;i._orderedListComponent=g;i._chatSidebarRecentCallsStore=null;i._orderedList=b("DOM").find(i._root,".fbChatOrderedList");b("Event").listen(i._orderedList,"mouseover",function(){i.isSidebar&&(i._isHovering=!0)});b("Event").listen(i._orderedList,"mouseout",function(){i._isHovering=!1,i._skippedRenderDuringHover&&(i._skippedRenderDuringHover=!1,i._debouncedRender())});i._scrollableOrderedList=b("Parent").byClass(i._root,"scrollableOrderedList");i._scrollableArea=b("Parent").byClass(i._root,"scrollable");c&&new(b("ChatHovercard"))(babelHelpers.assertThisInitialized(i));b("Arbiter").subscribe("jslogger/dump",function(a,c){i.getSortedList(function(a){c.chat_lists=c.chat_lists||{sorted_list:a,available_list:b("PresenceOrderedList").getAvailableSorted(),excluded_list:i._excludedIds}})});b("Arbiter").subscribe("sidebar/typeahead/active",function(a,b){i._typeAheadActive=b,i._render()});b("ShortProfilesStore").addListener(function(){return i._debouncedRender()});b("ChatSidebarStore").addListener(function(){return i._debouncedRender()});e=b("qex")._("698066");e&&b("Bootloader").loadModules(["ChatSidebarRecentCallsStore"],function(a){i._chatSidebarRecentCallsStore=a,a.addListener(function(){return i._debouncedRender()})},"ChatOrderedList");b("gkx")("678257")?b("onAfterDisplay")(function(){b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){return i._debouncedRender()}),b("AvailableList").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return i._debouncedRender()})}):(b("PresencePrivacy").subscribe("privacy-user-presence-changed",function(){return i._debouncedRender()}),b("AvailableList").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return i._debouncedRender()}));return i}var d=c.prototype;d.getShowingUsers=function(){return b("DOM").scry(this._root,"li._42fz,li._5a58").map(this.getUserForNode)};d.getUserForNode=function(a){return b("DataStore").get(a,"id")||b("DataStore").get(a,"serverthreadid")};d.getHoverController=function(){this._hoverController||(this._hoverController=new(b("ChatOrderedListHover"))(this));return this._hoverController};d.getItemHeight=function(){return b("ChatSidebarConstants").getItemHeight()};d.getRoot=function(){return this._root};d.getSortedList=function(a){b("PresenceOrderedList").getSorted(this._numTopFriends,function(b){return a(b)})};d.hide=function(){if(!this._isVisible)return;this._isVisible=!1;b("CSS").hide(this._scrollableOrderedList||this._root);this.inform("hide")};d.setNumTopFriends=function(a,c,d){__p&&__p();var e=this;b("ChatSidebarPreloadStore").onLoaded(function(f){__p&&__p();var g=f.groups,h=f.nearby,i=f.adminedPages,j=f.marketplaceThreads,k=f.pageListModule;f=f.pymmList;var l=new(b("MessengerDivebarSizingTypedLogger"))();l.setMaxItemSlots(a).setSidebarType(d);a--;b("ChatConfig").get("show_header")&&a--;var m=b("gkx")("678259"),n=!b("ChatOptions").getSetting("hide_businesses")&&f.pages&&d!=="buddylist";m&&n&&(a-=3);i=b("ChatOptions").getSetting("hide_admined_pages")?[]:i;m&&i.length&&d!=="buddylist"&&(a-=i.length+1);m=(j==null?void 0:j.length)&&!b("ChatOptions").getSetting("hide_marketplace");m&&b("qex")._("690094")&&d!=="buddylist"&&(e._marketplaceThreads=j,a-=j.length);e._maxItemSlots=a;m=a;j=b("ChatSidebarStore").getGroupsToShow(g||[])||[];g=n?f:{config:null,pages:[]};n=j.length;n===0&&b("gkx")("678261")&&!b("ChatOptions").getSetting("hide_groups")&&n++;n>0&&(m-=n+1);b("ChatConfig").get("nearby_friends_www_chatbar")&&h.length>0&&(m-=h.length+1);b("ChatConfig").get("show_admined_pages")&&i.length>0&&d!=="buddylist"&&(m-=i.length+1);b("ChatConfig").get("show_businesses")&&g.pages.length>0&&d!=="buddylist"&&(m-=2);f=m;m=Math.min(a,Math.max(m,b("ChatConfig").get("min_top_friends")||0));if(m!==e._numTopFriends||j.length!==e._groups.length||h.length!==e._nearby.length||i.length!==e._adminedPages.length||g.pages.length!==e._pymmList.pages.length){e._groups=j;e._numTopFriends=m;e._nearby=h;e._adminedPages=i;e._pageListModule=k;e._pymmList=g;l.setNumTopFriends(m).setNumNearby(h.length).setNumGroups(j.length).setNumAdminedPages(i.length).setNumPymm(g.pages.length);n=0;d==="buddylist"&&i.length>0&&(n+=i.length+1,l.setNumAdminedPages(0));d==="buddylist"&&g.pages.length>0&&(l.setNumPymm(0),n+=2);f+=n;m>f&&(f+=1);l.setNumTopFriendsShown(Math.max(f,0));b("ChatSidebarStore").getVisibleType()===d&&l.log();c?(typeof e._debouncedRender.reset==="function"&&e._debouncedRender.reset(),e._render()):e._debouncedRender()}})};d.show=function(){if(this._isVisible)return;this._isVisible=!0;b("CSS").show(this._scrollableOrderedList||this._root);this._render();this.inform("show")};d.isVisible=function(){return this._isVisible};d.setScrollContainer=function(a){b("DOM").contains(a,this._root)&&(this._scrollContainer=a)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("ChatTypeaheadCore",["csx","cx","fbt","Bootloader","BootloadOnRender.react","CurrentUser","DOM","JSResource","LazyComponent.react","MeetupExperiments","MercuryBootloadOnInteraction.react","React","ReactDOM","WorkSMBHelpSidebar","emptyFunction","ge","gkx","onAfterDisplay","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("React"),k=b("WorkSMBHelpSidebar").module,l=b("gkx")("678264")?b("MercuryBootloadOnInteraction.react"):b("BootloadOnRender.react"),m,n="",o=[],p={search:"._58al",settings:"._5vmb",compose:"._5q85",groupcreate:"._1-4-",startvideocall:"._8_v6"},q=!1,r=b("emptyFunction"),s=b("qex")._("1211265"),t=b("qex")._("1211264"),u=b("MeetupExperiments").supportLinkCreationInChatSideBar();a={_handleInteraction:function(a,c){if(!b("gkx")("678264"))return;o.push(a);a==="search"&&(n=c?c:"")},_handleCompositionStart:function(){q=!0},_handleCompositionEnd:function(){q=!1,r(),r=b("emptyFunction")},takeOverRender:function(a){!q?a():r===b("emptyFunction")&&(r=a)},processInteractionsQueue:function(){o.forEach(function(a){if(!p[a])return;var c=b("DOM").scry(b("ge")("chatsearch"),p[a]);c&&c[0]&&(a!=="search"?c[0].click():m=c[0],c[0].focus())})},focusSearchField:function(a,c){if(!m){a=b("DOM").scry(a,"._3rhb input");a.length>0&&(m=a[0])}m&&(m.focus(),c.prevent())},getLastSearchQuery:function(){return n},deferRenderChatSidebarSheet:function(a){b("onAfterDisplay")(function(){b("Bootloader").loadModules(["ChatSidebarSheet.react"],function(c){var d=b("ge")("chatsidebarsheet");b("ReactDOM").render(j.jsx(c,{className:"fbChatSidebarMessage",viewer:b("CurrentUser").getID(),isSideBar:a}),d)},"ChatTypeaheadCore")})},init:function(a,c,d){__p&&__p();var e=this;b("gkx")("678264")&&this.deferRenderChatSidebarSheet(d);var f=j.jsx("a",{href:"#",className:"_3a-4 _5q85",onClick:function(){return e._handleInteraction("compose")}}),g=t?null:j.jsx("div",{className:"_46fv",children:j.jsx("a",{href:"#",className:"_1-4-",onClick:function(){return e._handleInteraction("groupcreate")}})}),h=u?j.jsx("a",{href:"#",className:"_8_v6",onClick:function(){return e._handleInteraction("startvideocall")}}):null,m=j.jsx("div",{className:"_5qth _6a _6e",children:j.jsx("a",{href:"#",className:"button _5vmb",onClick:function(){return e._handleInteraction("settings")}})});b("ReactDOM").render(j.jsxs("div",{children:[j.jsx("div",{id:"chatsidebarsheet"}),j.jsx(l,{loader:b("JSResource")("ChatTypeaheadWrapper.react").__setRef("ChatTypeaheadCore"),placeholder:j.jsxs("div",{children:[k&&j.jsx(k,{}),s?null:j.jsx("div",{className:"_1nq2",children:j.jsx("div",{className:"_5iwm _5iwn _62it",children:j.jsx("label",{className:"_58ak _3rhb",children:j.jsx("input",{className:"_58al",type:"text",onChange:function(a){return e._handleInteraction("search",a.target.value)},onFocus:function(a){return e._handleInteraction("search",a.target.value)},onCompositionStart:this._handleCompositionStart,onCompositionEnd:this._handleCompositionEnd,placeholder:i._("Search")})})})}),d?u?j.jsxs("div",{className:"_531b",children:[f,g,h,m]}):j.jsxs("div",{className:"_531b",children:[m,f,g]}):null]}),takeOverRender:this.takeOverRender,component:j.jsx(b("LazyComponent.react"),{id:c,isSidebar:d})})]}),a)}};e.exports=a}),null);
__d("BootloaderGamesPresenceIconContainer.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{userID:a.userID}),loader:b("JSResource")("GamesPresenceIconContainer.react").__setRef("BootloaderGamesPresenceIconContainer.react"),placeholder:g.jsx("div",{})})}e.exports=a}),null);
__d("ChatSidebarHeader.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{onClick:this.props.onClick,className:b("joinClasses")(this.props.className,"_55ob"),children:h.jsx("div",{className:"_55oc",children:this.props.children})})};return c}(h.Component);e.exports=a}),null);
__d("XPagesBrowserController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/",{category:{type:"String"},ref:{type:"String"},cityid:{type:"Int"},similar:{type:"Int"},frompageid:{type:"Int"},actAsPageID:{type:"Int"},source:{type:"String"},pyml:{type:"Int"},viewallpywo:{type:"Bool",defaultValue:!1},notif_id:{type:"Int"},notif_page_id:{type:"Int"}})}),null);
__d("ChatSidebarAdminedPagesSection.react",["cx","fbt","ChatSidebarHeader.react","LeftRight.react","React","SRLink.react","XPagesBrowserController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React"),j=3;function a(a){var c=null;if(a.adminedPages.length>=j){var d=b("XPagesBrowserController").getURIBuilder().setString("category","your_pages").setString("ref",a.adminedPages[0].ref).getURI();c=i.jsx(b("SRLink.react"),{className:"_2l56",href:d,target:"_blank",children:h._("SEE ALL")})}d=a.pageListModule;return i.jsxs(i.Fragment,{children:[i.jsx(b("ChatSidebarHeader.react"),{className:"_4kqp",children:i.jsxs(b("LeftRight.react"),{children:[h._("YOUR PAGES"),c]})}),i.jsx(d,{adminedPages:a.adminedPages,onMouseEnter:a.onMouseEnterItem})]})}e.exports=a}),null);
__d("ChatSidebarCreateNewGroupItem.react",["ix","cx","fbt","Bootloader","Image.react","MercuryConfig","QE2Logger","React","SRLink.react","TooltipData","XWorkSaveGroupPurposeController","asset","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("React");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){b("QE2Logger").logExposureForUser("workchat_synced_groups_universe");if(b("MercuryConfig").WorkSyncedGroupAutoCreateEnabled)return;var c=d.props,e=c.slot,f=c.slotOffset,g=c.totalSlots;b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","MessengerGCFJewelNewGroupButtonInit"],function(a,b){new a().setSlotClicked(f+e).setSlotsVisibleBeforeScrolling(g).setRelativeSlotClicked(e).setSidebarSection("groups").log(),b.onLinkClick()},"ChatSidebarCreateNewGroupItem.react");a.preventDefault()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=i._("Create New Group"),c=g("492281"),d=20,e="_55ln _qhr",f=b("MercuryConfig").WorkSyncedGroupAutoCreateEnabled?b("XWorkSaveGroupPurposeController").getURIBuilder().setString("purpose","work_team").setString("ref","group_creation_button_on_chat_sidebar").setBool("back_disallowed",!0).getURI():"#",h=b("MercuryConfig").WorkSyncedGroupAutoCreateEnabled?"dialog":"ignore";return j.jsx("div",babelHelpers["extends"]({},b("TooltipData").propsFor(this.$1()),{children:j.jsx(b("SRLink.react"),{className:e,href:f,onClick:this.$2,rel:h,children:j.jsxs("div",{className:"_55lp",children:[j.jsx("div",{className:"_55lq _tt_","aria-hidden":!0,children:j.jsx(b("Image.react"),{className:"_tu0",src:c,width:d,height:d,alt:""})}),j.jsx("div",{className:"_55lr",children:a})]})})}))};d.$1=function(){return i._("Create New Group")};return c}(j.PureComponent);a.propTypes={slot:b("prop-types").number,slotOffset:b("prop-types").number,totalSlots:b("prop-types").number};e.exports=a}),null);
__d("ChatSidebarNameWithGameInfo.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React","TextWithEmoticons.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.name,d=a.userID;a=a.nameCanHaveEmoji!=null&&a.nameCanHaveEmoji;var e=a?g.jsx(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c}):c;return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{originalElement:e,userID:d}),loader:b("JSResource")("ChatSidebarItemUserPlayingGameInfoContainer.react").__setRef("ChatSidebarNameWithGameInfo.react"),placeholder:a?e:g.jsx("div",{children:c})})}e.exports=a}),null);
__d("ChatSidebarProfile.react",["cx","Image.react","React","SplitImage.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("React");function i(a,c,d){d=Math.round(c/3);d=c-d;return h.jsxs("div",{className:"_44yp",style:{height:c,width:c},children:[h.jsx("div",{className:"_1gyw",children:h.jsx(b("Image.react"),{src:a[0],width:d,height:d,alt:""})}),h.jsx("div",{className:"_1gyw",children:h.jsx(b("Image.react"),{src:a[1],width:d,height:d,alt:""})})]})}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.images,d=a.imageSize,e=a.isActive;a=a.showMultiCompany;var f=c.length>1;c=f?i(c,d):h.jsx(b("SplitImage.react"),{className:"_1gyw",size:d,srcs:c});return h.jsxs("div",{"aria-hidden":!0,className:"_7049 _6--1"+(f?" _44yq":""),style:{height:d,width:d},children:[c,a===!0?h.jsx("div",{className:"_4rwy"}):e?h.jsx("div",{className:"_1gyx"}):null]})};return c}(h.PureComponent);e.exports=a}),null);
__d("ChatSidebarStatus.react",["cssVar","cx","fbt","ix","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k=b("React");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,b=this.renderStatusIcon();if(b==null&&a.statusTime==null)return null;var c=!0,d=a.unreadCount;d!=null&&d>0&&(b=a.statusTime!=null?null:b,c=!1);a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&a.isWorkUser&&(c=!1);return k.jsxs("div",{className:"_568z"+(a.showRelationshipIndicator?" _2oov":""),children:[c?this.renderLastActiveTime():null,b]})};d.renderStatusIcon=function(){__p&&__p();var a=this.props;if(a.isMessengerOnlyContact===!0)return k.jsx(b("Image.react"),{alt:i._("Using Messenger without Facebook"),className:"_568_",src:j("28076")});else if(a.showingPresenceOnProfile===!1&&a.isDoNotDisturb===!0&&a.isWorkUser)return k.jsx("span",{"aria-label":i._("Do Not Disturb"),className:"_3zdc"});else if(a.isMultiCompany===!0&&a.isWorkUser)return k.jsx("div",{"aria-label":i._("Multi company chat"),className:"_6p8n"});else if(a.status===2)if(a.showRelationshipIndicator===!0)return k.jsx(b("Image.react"),{src:j("593722"),alt:i._("hearts icon")});else if(a.showingPresenceOnProfile===!1)return k.jsx("span",{"aria-label":i._("Active Now"),style:{background:"#42b72a",borderRadius:"50%",display:"inline-block",height:"6px",marginLeft:"4px",veritcalAlign:"middle",width:"6px"}});return null};d.renderLastActiveTime=function(){return k.jsx("div",{className:"_568-",children:this.props.statusTime})};return c}(k.PureComponent);e.exports=a}),null);
__d("RenderOnClient.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return this.props.component};return b}(a.Component);e.exports=c}),null);
__d("ChatSidebarItem.react",["cx","ix","BootloaderGamesPresenceIconContainer.react","BootloadOnRender.react","ChatSidebarConstants","ChatSidebarNameWithGameInfo.react","ChatSidebarProfile.react","ChatSidebarStatus.react","CurrentUser","ErrorBoundary.react","Image.react","JSResource","LazyComponent.react","React","RenderOnClient.react","ShortProfiles","SRLink.react","SRXUIBadge.react","TextWithEmoticons.react","gkx","isFalsey","lazyLoadComponent","qex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("ChatSidebarCallButtons.react").__setRef("ChatSidebarItem.react")),k=b("gkx")("865973");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasHovered:!1,hover:!1},c.$2=function(){c.setState({hasHovered:!0,hover:!0}),c.props.onMouseEnter!=null&&c.props.onMouseEnter()},c.$3=function(){c.setState({hover:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a="_55ln"+(this.props.context?" _55lo":"")+" _qhr",c=this.props.nameCanHaveEmoji===!0?i.jsx(b("RenderOnClient.react"),{component:i.jsx(b("TextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:this.props.name})}):this.props.name,d=b("ShortProfiles").getNow(this.props.userID||"");return k&&(d==null?void 0:d.is_blocked)?null:i.jsx(b("ErrorBoundary.react"),{fallbackComponent:this.$1,children:i.jsx(b("SRLink.react"),{className:a,href:this.props.href,onClick:this.props.onClick,onMouseEnter:this.$2,onMouseLeave:this.$3,rel:"ignore",children:i.jsxs("div",{className:"_55lp",children:[this.$4(),i.jsxs("div",{className:"_5bon",children:[b("qex")._("1346596")?this.renderRtcCallButtons():this.renderWaveButton(),this.renderPlayingGame(),this.renderBirthday(),this.renderUnreadCount(),this.renderStatus()]}),i.jsx("div",{className:"_55lr",children:this.props.isPlayingGame===!0&&this.props.userID!=null&&this.props.statusTime===null&&this.props.birthday!==!0?this.$5():c}),i.jsx("div",{className:"_55ls",children:this.props.context})]})})})};d.renderUnreadCount=function(){var a=this.props.unreadCount;return b("isFalsey")(a)?null:i.jsx(b("SRXUIBadge.react"),{count:a,maxcount:9})};d.renderStatus=function(){return i.jsx(b("ChatSidebarStatus.react"),{isMessengerOnlyContact:this.props.isMessengerOnlyContact,isDoNotDisturb:this.props.isDoNotDisturb,isWorkUser:b("CurrentUser").isWorkUser(),isMultiCompany:this.props.isMultiCompany,showingPresenceOnProfile:!1,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,unreadCount:this.props.unreadCount,statusTime:this.props.statusTime})};d.renderWaveButton=function(){var a=b("ShortProfiles").getNow(this.props.userID||"");if(k&&(a==null?void 0:a.is_blocked)||!this.props.showWave||this.props.userID==null)return null;return!this.state.hasHovered&&b("gkx")("678661")?i.jsx("div",{}):i.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("WaveButton.react").__setRef("ChatSidebarItem.react"),placeholder:i.jsx("div",{}),component:i.jsx(b("LazyComponent.react"),{userID:this.props.userID,hover:this.state.hover})})};d.renderRtcCallButtons=function(){var a=b("ShortProfiles").getNow(this.props.userID||"");if(k&&(a==null?void 0:a.is_blocked)||this.props.threadID==null)return null;return!this.state.hasHovered?null:i.jsx(i.Suspense,{fallback:null,children:i.jsx(j,{hover:this.state.hover,shortName:a==null?void 0:a.firstName,threadID:this.props.threadID})})};d.renderBirthday=function(){if(this.props.birthday!==!0)return null;var a="_5dv3",c=h("74517");return i.jsx(b("Image.react"),{className:a,src:c})};d.renderPlayingGame=function(){return this.props.statusTime!=null||this.props.birthday===!0||this.props.isPlayingGame!==!0?null:i.jsx(b("RenderOnClient.react"),{component:i.jsx(b("BootloaderGamesPresenceIconContainer.react"),{userID:this.props.userID})})};d.$1=function(){return i.jsx(b("SRLink.react"),{"aria-hidden":!0,tabIndex:-1})};d.$4=function(){var a=this.props.imageSize,c=this.props.image,d=this.props.images;a=a!=null?a:b("ChatSidebarConstants").getImageSize();var e=[];c!=null?e=[c]:d!=null&&(e=d);return i.jsx(b("ChatSidebarProfile.react"),{showingPresenceOnProfile:!1,imageSize:a,isActive:!1,images:e})};d.$5=function(){return i.jsx(b("RenderOnClient.react"),{component:i.jsx(b("ChatSidebarNameWithGameInfo.react"),{name:this.props.name,nameCanHaveEmoji:this.props.nameCanHaveEmoji,userID:this.props.userID})})};return c}(i.PureComponent);e.exports=a}),null);
__d("ChatSidebarThread.react",["Bootloader","ChatSidebarItem.react","ChatSidebarParticipantTooltipBuilder","MercuryIDs","MercuryParticipantListRenderer","React","TooltipData","WebMessengerThreadPermalinks","WorkForeignEntityInfo.bs","prop-types","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){var c=d.props,e=c.slot,f=c.slotOffset,g=c.threadFBID,h=c.totalSlots;g&&b("requireWeak")("FantaTabActions",function(a){a.openTab(d.props.numOtherParticipants===1?b("MercuryIDs").getThreadIDFromUserID(g):b("MercuryIDs").getThreadIDFromThreadFBID(g),["divebar_groups"])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(f+e).setSlotsVisibleBeforeScrolling(h).setRelativeSlotClicked(e).setSidebarSection("groups").log(),g&&b.logClickOpen(d.props.referrer,g)},"ChatSidebarThread.react");a.preventDefault()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.name,c=h(this.props.threadFBID,this.props.participants,this.props.numOtherParticipants),d=a?c:void 0,e=this.props.image?[]:i(this.props.participants);a=a?a:c;c=!b("WorkForeignEntityInfo.bs").areAllCoworkers(this.props.participants);return g.jsx("div",babelHelpers["extends"]({},b("TooltipData").propsFor(this.$1()),{children:g.jsx(b("ChatSidebarItem.react"),{birthday:this.props.birthday,context:d,href:this.props.threadFBID&&b("WebMessengerThreadPermalinks").getThreadURIFromServerID(this.props.threadFBID),imageSize:this.props.imageSize,image:this.props.image,images:e,isDoNotDisturb:this.props.isDoNotDisturb,isMultiCompany:c,name:a,nameCanHaveEmoji:!0,onClick:this.$2,referrer:this.props.referrer,status:this.props.status,threadID:this.props.threadFBID&&b("MercuryIDs").getThreadIDFromThreadFBID(this.props.threadFBID),unreadCount:this.props.unreadCount,showWave:!1,showRelationshipIndicator:!1})}))};d.$1=function(){return b("ChatSidebarParticipantTooltipBuilder").buildParticipantsTooltip(this.props.participants,this.props.numOtherParticipants)};return c}(g.PureComponent);a.propTypes={birthday:(c=b("prop-types")).bool,image:c.string,imageSize:c.number,name:c.string,participants:c.array.isRequired,numOtherParticipants:c.number.isRequired,referrer:c.string,slot:c.number,slotOffset:c.number,status:c.number,threadFBID:c.string,totalSlots:c.number,unreadCount:c.number};a.defaultProps={numOtherParticipants:b("ChatSidebarParticipantTooltipBuilder").MAX_NUM_PARTICIPANTS_TO_RENDER};function h(a,c,d){return new(b("MercuryParticipantListRenderer"))().setIsNewThread(!a).setUseShortName(d>1).setTotalParticipantCount(d).renderParticipantList(c).toString()}function i(a){return a.map(function(a){return a.image_src}).filter(function(a){return a})}e.exports=a}),null);
__d("ChatSidebarGroupThreadsGroup.react",["cx","ChatSidebarConstants","ChatSidebarThread.react","MercuryIDs","PresencePrivacy","PresenceStatus","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("React");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e=a.mercury_thread.participants;e=e.map(function(a){return typeof a==="string"&&b("MercuryIDs").isValid(a)?b("MercuryIDs").getUserIDFromParticipantID(a):a});var f=d.props.isDisconnected||b("PresencePrivacy").isUserOffline();return h.jsx("li",{className:"_42fz"+(f?" _570-":""),"data-id":a.uid,children:h.jsx(b("ChatSidebarThread.react"),{image:a.mercury_thread.image_src,imageSize:b("ChatSidebarConstants").getImageSize(),name:a.mercury_thread.name,participants:a.participants_to_render,numOtherParticipants:e.length-1,referrer:"ordered_list",slot:c,slotOffset:d.props.slotOffset,status:b("PresenceStatus").getGroup(e),threadFBID:a.uid,totalSlots:d.props.totalSlots})},a.uid)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return h.jsx("ul",{children:this.props.groups.map(this.$1)})};return c}(h.Component);a.propTypes={groups:(c=b("prop-types")).array.isRequired,isDisconnected:c.bool,slotOffset:c.number,totalSlots:c.number};e.exports=a}),null);
__d("ChatSidebarItemPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var b=50+Math.ceil(50-2*(Math.pow(7+a.slot,2)%10));return h.jsx("li",{className:"_42fz"+(a.isDisconnected?" _570-":""),children:h.jsx("div",{className:"_55ln _qhr",children:h.jsxs("div",{className:"_55lp",children:[h.jsx("span",{className:"_1qh _55lq"}),h.jsx("span",{className:"_55lr",children:h.jsx("span",{className:"_1qh",style:{width:String(b)+"px"}})})]})})})}e.exports=a}),null);
__d("ChatSidebarMarketplaceSectionLazy.react",["ErrorBoundary.react","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("ChatSidebarMarketplaceSection.react").__setRef("ChatSidebarMarketplaceSectionLazy.react"));function a(a){return g.jsx(b("ErrorBoundary.react"),{children:g.jsx(g.Suspense,{fallback:null,children:g.jsx(h,{marketplaceThreads:a.marketplaceThreads})})})}e.exports=a}),null);
__d("ChatSidebarOfflineOverlayWrapper.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("BootloadOnRender.react"),{component:g.jsx(b("LazyComponent.react"),{}),loader:b("JSResource")("ChatOfflineOverlay.react").__setRef("ChatSidebarOfflineOverlayWrapper.react"),placeholder:g.jsx("div",{})})}e.exports=a}),null);
__d("ChatSidebarPymmListSection.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("ChatSidebarPymmListContainer.react").__setRef("ChatSidebarPymmListSection.react"),placeholder:g.jsx("div",{}),component:g.jsx(b("LazyComponent.react"),{pymmList:a.pymmList})})}e.exports=a}),null);
__d("ChatSidebarUser.react",["Bootloader","ChatSidebarItem.react","MercuryIDs","React","WebMessengerThreadPermalinks","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g=b("React");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.handleMouseEnter=function(){var a=d.props.userID;d.props.onMouseEnter&&d.props.onMouseEnter(a)},d.$1=function(a){var c=d.props,e=c.sectionName,f=c.slot,g=c.slotOffset,h=c.totalSlots,i=c.userID,j=b("MercuryIDs").getThreadIDFromUserID(i);b("requireWeak")("FantaTabActions",function(a){a.openTab(j,["divebar_"+e])});b("Bootloader").loadModules(["MessengerChatSidebarSlotsTypedLogger","ChatOpenTabEventLogger"],function(a,b){new a().setSlotClicked(g+f).setSlotsVisibleBeforeScrolling(h).setRelativeSlotClicked(f).setSidebarSection(e).log(),b.logUserClickOpen(e,i,{global_slot:f})},"ChatSidebarUser.react");a.preventDefault()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("WebMessengerThreadPermalinks").getThreadURIFromUserID(this.props.userID);return g.jsx(b("ChatSidebarItem.react"),{onClick:this.$1,onMouseEnter:this.handleMouseEnter,href:a,imageSize:this.props.imageSize,image:this.props.image,isDoNotDisturb:this.props.isDoNotDisturb,isPlayingGame:this.props.isPlayingGame,name:this.props.name,nameCanHaveEmoji:!1,showRelationshipIndicator:this.props.showRelationshipIndicator,status:this.props.status,birthday:this.props.birthday,statusTime:this.props.statusTime,context:this.props.context,unreadCount:this.props.unreadCount,isMessengerOnlyContact:this.props.isMessengerOnlyContact,userID:this.props.userID,threadID:b("MercuryIDs").getThreadIDFromUserID(this.props.userID),showWave:this.props.showWave})};return c}(g.PureComponent);e.exports=a}),null);
__d("ChatSidebarUserGroupProfile.react",["cx","ChatSidebarItemPlaceholder.react","ChatSidebarUser.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("React");function a(a){var c=a.slot,d=a.profileData;if(d==null)return h.jsx(b("ChatSidebarItemPlaceholder.react"),{isDisconnected:a.isDisconnected,slot:c},"placeholder"+c);var e=d.shortProfile;if(!e.id)return null;var f=d.status,g=f!==2?d.lastActiveTime:null,i=a.isDisconnected||d.presencePrivacyAllows!==!0,j=a.sectionName==="nearby"?e.location:null,k=b("gkx")("678663");return h.jsx("li",{className:"_42fz"+(i?" _570-":""),"data-id":e.id,children:h.jsx(b("ChatSidebarUser.react"),{birthday:e.is_birthday,image:e.thumbSrc,imageSize:a.imageSize,isDoNotDisturb:a.doNotDisturbMap[e.id]===!0,isPlayingGame:d.isPlaying===!0,name:e.name,onMouseEnter:a.onMouseEnter,showHoverCard:a.showHoverCard,showRelationshipIndicator:e.show_relationship_indicator,sectionName:a.sectionName,slot:c,slotOffset:a.slotOffset,status:f,statusTime:g,totalSlots:a.totalSlots,userID:e.id,unreadCount:d.unreadCount,isMessengerOnlyContact:e.is_messenger_only,context:j,showWave:k})},e.id)}e.exports=a}),null);
__d("ChatSidebarUserGroupContainer.react",["ChatSidebarUserGroupProfile.react","CurrentUser","React","WorkChatAvailabilityStatusLoader","clearTimeout","emptyFunction","onAfterLoadSafe","promiseDone","requireWeak","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React"),h=400,i=5e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=null;d.$2={};d.state={doNotDisturbMap:{}};d.$6=function(){d.$3||(d.$3=b("setTimeoutAcrossTransitions")(function(){b("requireWeak")("FantaTabsEagerBootloader",function(a){return a.bootload()}),d.$6=b("emptyFunction")},h))};d.$7=function(){b("clearTimeout")(d.$3),d.$3=null};d.$4();return d}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;b("onAfterLoadSafe")(function(){b("CurrentUser").isWorkUser()&&b("promiseDone")(b("WorkChatAvailabilityStatusLoader").load(),function(b){var c=b.store;a.props.ids.forEach(function(b){c.subscribeUser(b,a)});a.setState({doNotDisturbMap:a.$5(a.props.ids)});c.fetchUsers(a.props.ids);a.$1=c.addListener(function(){a.setState({doNotDisturbMap:a.$5(a.props.ids)})})})})};d.componentDidUpdate=function(){this.$4()};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.UNSAFE_componentDidReceiveProps=function(a){__p&&__p();var c=this;if(b("CurrentUser").isWorkUser()&&b("WorkChatAvailabilityStatusLoader").isLoaded()){var d=b("WorkChatAvailabilityStatusLoader").getStoreEnforce();d.fetchUsers(a.ids.filter(function(a){return c.props.ids.indexOf(a)<0}));this.props.ids.forEach(function(a){return d.unsubscribeUser(a,c)});a.ids.forEach(function(a){return d.subscribeUser(a,c)})}};d.render=function(){var a=this,c=this.props.ids.filter(function(b){return!!a.props.usersDetailedData[b]||a.$2[b]==null||a.$2[b]===!1});return g.jsx("ul",{onMouseEnter:this.$6,onMouseLeave:this.$7,children:c.map(function(c,d){return g.jsx(b("ChatSidebarUserGroupProfile.react"),{doNotDisturbMap:a.state.doNotDisturbMap,imageSize:a.props.imageSize,isDisconnected:a.props.isDisconnected,onMouseEnter:a.props.onMouseEnterItem,showHoverCard:a.props.showHoverCard,sectionName:a.props.sectionName,slotOffset:a.props.slotOffset,totalSlots:a.props.totalSlots,profileData:a.props.usersDetailedData[c],id:c,slot:d},c)})})};d.$5=function(a){if(!b("CurrentUser").isWorkUser()||!b("WorkChatAvailabilityStatusLoader").isLoaded())return{};var c=b("WorkChatAvailabilityStatusLoader").getStoreEnforce(),d={};a.forEach(function(a){d[a]=c.getIsDoNotDisturb(a)});return d};d.$4=function(){var a=this;this.props.ids.forEach(function(b){var c=a.props.usersDetailedData[b];c?a.$8(b):a.$9(b)})};d.$9=function(a){var c=this;this.$2[a]===void 0&&(this.$2[a]=b("setTimeoutAcrossTransitions")(function(){delete c.$2[a],c.forceUpdate()},i))};d.$8=function(a){var c=this.$2[a];if(!c)return;b("clearTimeout")(c);delete this.$2[a]};return c}(g.Component);e.exports=a}),null);
__d("ChatSidebarOrderedList.react",["ix","cx","fbt","Bootloader","ChatConfig","ChatOptions","ChatQuietLinks","ChatReliabilityInstrumentation","ChatSidebarActions","ChatSidebarAdminedPagesSection.react","ChatSidebarConstants","ChatSidebarCreateNewGroupItem.react","ChatSidebarGroupThreadsGroup.react","ChatSidebarHeader.react","ChatSidebarMarketplaceSectionLazy.react","ChatSidebarOfflineOverlayWrapper.react","ChatSidebarPymmListSection.react","ChatSidebarRecentCalls","ChatSidebarUserGroupContainer.react","Image.react","LeftRight.react","React","ReactDOM","RenderOnClient.react","Run","Scroll","SRLink.react","cxMargin","fbglyph","gkx","ifRequired","qex"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ChatSidebarRecentCalls").ChatSidebarRecentCalls,k=b("React");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isDisconnected:!1},c.$1=null,c.$2=null,c.$3=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("ChatQuietLinks").nukeLinks(b("ReactDOM").findDOMNode(this.refs.noLinks));b("Run").onAfterLoad(function(){b("ChatSidebarActions").afterDomLoad(),a.$4()})};d.componentWillUnmount=function(){this.$1!=null&&this.$1.unsubscribe()};d.render=function(){if(this.props.hide)return null;var a=this.props.offlineUsers&&this.props.offlineUsers.length>0?this.$5():this.$6();a=k.jsxs(k.Fragment,{children:[k.jsxs("div",{ref:"noLinks",children:[this.$7(),this.$8()]}),this.$9(),k.jsxs("div",{ref:"noLinks",children:[this.$10(),this.$11(),this.$12(),a]})]});return k.jsxs("div",{"data-testid":void 0,children:[k.jsx("div",{ref:"noLinks",children:this.$13()}),k.jsx("div",{ref:"noLinks",children:this.$14()}),k.jsx("div",{ref:"noLinks",children:this.$15()}),!this.$16()&&a,this.$17()]})};d.$18=function(a){var c=this.props.scrollContainer;if(!c)return;var d=c.clientHeight,e=c.scrollHeight,f=b("Scroll").getTop(c),g=Math.min(a.offsetTop,e-d);f!==g&&b("ifRequired")("Animation",function(a){var b=Math.abs(g-f)/c.clientHeight*500;new a(c).to("scrollTop",g).ease(a.ease.end).duration(b).go()},function(){b("Scroll").setTop(c,g)})};d.$7=function(){if(!b("ChatConfig").getBool("show_header"))return null;var a=this.state.isDisconnected||this.props.isUserOffline;return k.jsx(b("ChatSidebarHeader.react"),{className:a?"_570-":"",children:i._("CONTACTS")})};d.$5=function(){var a=b("ChatSidebarConstants").getImageSize(),c=this.props.offlineUsers.slice(0,-2),d=i._("MORE CONTACTS"),e=i._("These contacts can't see you on chat.");return k.jsxs(k.Fragment,{children:[k.jsx(b("ChatSidebarHeader.react"),{children:d}),k.jsxs(b("ChatSidebarHeader.react"),{className:"_5j9-",children:[e," ",k.jsx("a",{ajaxify:"/ajax/chat/privacy/settings_dialog.php?ref=whitelist_separator",href:"#",rel:"dialog",children:i._("Edit")})]}),k.jsx(b("ChatSidebarUserGroupContainer.react"),{ids:c,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:"offline_users",showHoverCard:this.props.isSidebar,slotOffset:this.$19(),totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})]})};d.$6=function(){__p&&__p();var a=this;if(this.props.availableUsers.length===0)return null;if(!this.props.isAfterDomLoad){var c=b("ChatSidebarConstants").getItemHeight();return k.jsx("div",{style:{height:c*this.props.availableUsers.length}})}c=b("ChatSidebarConstants").getImageSize();var d=i._("{MORE ONLINE CONTACTS} ({count})",[i._param("MORE ONLINE CONTACTS",i._("MORE CONTACTS")),i._param("count",this.props.availableUsers.length)]);return k.jsxs(k.Fragment,{children:[k.jsx(b("ChatSidebarHeader.react"),{ref:function(b){a.$3=b},onClick:function(){return a.$18(b("ReactDOM").findDOMNode(a.$3))},children:d}),k.jsx(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.availableUsers,imageSize:c,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:"more_online_friends",showHoverCard:this.props.isSidebar,slotOffset:this.$19(),totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})]})};d.$19=function(){var a=this.$20();a+=this.$21();var b=this.props.groups;a+=this.$22(b.length);return a};d.$9=function(){return!b("ChatConfig").getBool("nearby_friends_www_chatbar")||this.props.nearby.length===0?null:k.jsx(b("ChatSidebarHeader.react"),{ref:"nearbySeparator",children:k.jsxs(b("LeftRight.react"),{children:[i._("NEARBY"),k.jsx(b("SRLink.react"),{target:"_blank",href:"/help/android-app/291236034364603",children:k.jsx(b("Image.react"),{className:"_3-90",src:g("129548")})})]})})};d.$11=function(){if(!b("ChatConfig").getBool("nearby_friends_www_chatbar")||this.props.nearby.length===0)return null;var a=this.$20(),c=b("ChatSidebarConstants").getImageSize();return k.jsx(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.nearby,imageSize:c,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:"nearby",showHoverCard:this.props.isSidebar,slotOffset:a,totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})};d.$21=function(){return this.props.nearby.length};d.$12=function(){var a=this.state.isDisconnected||this.props.isUserOffline,c=this.props.groups,d=this.$20()+this.$21();if(this.$23())return k.jsxs(k.Fragment,{children:[this.$24(),k.jsx("ul",{children:k.jsx("li",{className:"_42fz"+(a?" _570-":""),children:k.jsx(b("RenderOnClient.react"),{component:k.jsx(b("ChatSidebarCreateNewGroupItem.react"),{slot:0,slotOffset:d,totalSlots:this.props.maxItemSlots})})})})]});else if(b("ChatOptions").getSetting("hide_groups")||this.props.groups.length===0)return null;return k.jsxs(k.Fragment,{children:[this.$24(),k.jsx(b("RenderOnClient.react"),{component:k.jsx(b("ChatSidebarGroupThreadsGroup.react"),{groups:c.slice(0,this.$22(c.length)),isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,slotOffset:d,totalSlots:this.props.maxItemSlots})})]})};d.$24=function(){var a=this,c=this.state.isDisconnected||this.props.isUserOffline;return k.jsx(b("ChatSidebarHeader.react"),{ref:function(b){a.$2=b},className:c?"_570-":"",onClick:function(){return a.$18(b("ReactDOM").findDOMNode(a.$2))},children:i._("GROUP CONVERSATIONS")})};d.$22=function(a){if(this.$23())return 1;else if(a===0)return 0;return Math.min(a,b("ChatConfig").getNumber("num_groups_to_show"))};d.$8=function(){var a=b("ChatSidebarConstants").getImageSize();return k.jsx(b("ChatSidebarUserGroupContainer.react"),{ids:this.props.topUsers,imageSize:a,isDisconnected:this.state.isDisconnected,loadExtras:this.props.isAfterDomLoad,onMouseEnterItem:this.props.onMouseEnterItem,sectionName:"ordered_list",showHoverCard:this.props.isSidebar,slotOffset:0,totalSlots:this.props.maxItemSlots,usersDetailedData:this.props.usersDetailedData})};d.$20=function(){return this.props.topUsers.length};d.$14=function(){var a=this.props.pymmList;if(a==null)return null;a=a.pages;return this.props.isSidebar!==!0||!b("ChatConfig").getBool("show_businesses")||a==null||a.length===0?null:k.jsx(b("RenderOnClient.react"),{component:k.jsx(b("ChatSidebarPymmListSection.react"),{pymmList:a})})};d.$13=function(){return b("gkx")("678659")||!b("ChatConfig").getBool("show_admined_pages")||this.props.adminedPages.length===0||this.props.pageListModule==null?null:k.jsx(b("RenderOnClient.react"),{component:k.jsx(b("ChatSidebarAdminedPagesSection.react"),{adminedPages:this.props.adminedPages,onMouseEnterItem:this.props.onMouseEnterItem,pageListModule:this.props.pageListModule})})};d.$10=function(){var a;a=((a=this.props.marketplaceThreads)==null?void 0:a.length)||0;return a===0||b("ChatOptions").getSetting("hide_marketplace")||!b("qex")._("690094")?null:k.jsx(b("RenderOnClient.react"),{component:k.jsx(b("ChatSidebarMarketplaceSectionLazy.react"),{marketplaceThreads:this.props.marketplaceThreads})})};d.$15=function(){return j?k.jsx(b("RenderOnClient.react"),{component:k.jsx(j,{recentCalls:this.props.recentCalls,usersDetailedData:this.props.usersDetailedData})}):null};d.$4=function(){var a=this;b("Bootloader").loadModules(["ChannelConnection"],function(c){a.$1=c.subscribe([c.CONNECTED,c.RECONNECTING,c.SHUTDOWN,c.MUTE_WARNING,c.UNMUTE_WARNING],function(){var d=c.disconnected();d!==a.state.isDisconnected&&(d?b("ChatReliabilityInstrumentation").logCHANNEL_DISCONNECT():b("ChatReliabilityInstrumentation").logCHANNEL_CONNECT(),a.setState({isDisconnected:d}))})},"ChatSidebarOrderedList.react")};d.$23=function(){return this.props.groups.length===0&&!b("ChatOptions").getSetting("hide_groups")};d.$16=function(){return this.props.isSidebar!==!0&&this.props.isUserOffline===!0};d.$17=function(){return!this.$16()?null:k.jsx(b("RenderOnClient.react"),{component:k.jsx(b("ChatSidebarOfflineOverlayWrapper.react"),{})})};return c}(k.PureComponent);e.exports=a}),null);