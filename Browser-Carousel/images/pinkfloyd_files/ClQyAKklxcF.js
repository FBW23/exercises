if (self.CavalryLogger) { CavalryLogger.start_js(["qKlD3"]); }

__d("FileHasher",["WebWorker","emptyFunction","fileSliceName","FileHashWorkerResource"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();a.isSupported=function(){return b("WebWorker").isSupported()};function a(){var a=this,c=b("FileHashWorkerResource");b("WebWorker").prepareResource(c);this.$1=new(b("WebWorker"))(c).setMessageHandler(function(b){a.$2(b)}).execute()}var c=a.prototype;c.hash=function(a,c){this.$2=c;this.$1.postMessage({file:a,fileSliceName:b("fileSliceName")});return this};c.destroy=function(){this.$2=b("emptyFunction"),this.$1.terminate()};return a}();e.exports=a}),null);
__d("SocialGoodCharityActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:SocialGoodCharityActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:SocialGoodCharityActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SocialGoodCharityActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAbTestNamesToGroups=function(a){this.$1.ab_test_names_to_groups=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setAttributes=function(a){this.$1.attributes=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setCampaignID=function(a){this.$1.campaign_id=a;return this};c.setCampaignType=function(a){this.$1.campaign_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitPostID=function(a){this.$1.explicit_post_id=a;return this};c.setFundraiserID=function(a){this.$1.fundraiser_id=a;return this};c.setHasPaymentMethodOnFile=function(a){this.$1.has_payment_method_on_file=a;return this};c.setParentEventType=function(a){this.$1.parent_event_type=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceAttributes=function(a){this.$1.source_attributes=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={ab_test_names_to_groups:!0,attributes:!0,campaign_id:!0,campaign_type:!0,event:!0,explicit_post_id:!0,fundraiser_id:!0,has_payment_method_on_file:!0,parent_event_type:!0,session_id:!0,source_attributes:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("SocialGoodCharityActionsLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACCEPT_FUNDRAISER_ORGANIZER_REQUEST:"accepted_fundraiser_organizer_request",ACCEPT_ORGANIZER_REQUEST_COMPLETE:"accept_organizer_request_complete",ADD_PENDING_ORGANIZER_COMPLETE:"add_pending_organizer_complete",AUTO_DELETE_FUNDRAISER_DRAFT:"auto_delete_fundraiser_draft",BIRTHDAY_FUNDRAISER_LEARN_MORE_VIEW:"birthday_fundraiser_learn_more_view",BLACKLIST_DAF_CHARITY:"blacklist_daf_charity",BLACKLIST_DAF_CHARITY_FAILED:"blacklist_daf_charity_failed",BULK_INVITE_USER_DIALOG_OPEN:"bulk_invite_user_dialog_open",CANCEL:"cancel",CATEGORY_DESCRIPTION_TOOLTIP_HOVER:"category_description_tooltip_hover",CAUSE_ITEM_CLICK:"cause_item_click",CHANGE_BENEFICIARY:"change_beneficiary",CHANGE_CATEGORY:"change_category",CHANGE_CHARITY:"change_charity",CHANGE_CHARITY_LOCATION:"change_charity_location",CHANGE_COVER_PHOTO:"change_cover_photo",CHANGE_COVER_PHOTO_BEGIN:"change_cover_photo_begin",CHANGE_COVER_VIDEO:"change_cover_video",CHANGE_CURRENCY:"change_currency",CHANGE_DESCRIPTION:"change_description",CHANGE_END_DATE:"change_end_date",CHANGE_GOAL_AMOUNT:"change_goal_amount",CHANGE_MASTER_NOTIF_SETTING:"change_master_notif_setting",CHANGE_TITLE:"change_title",CHANGED_CAUSE:"changed_cause",CHARITY_CREATION:"charity_creation",CHARITY_CREATION_COMPLETE:"charity_creation_complete",CHARITY_SRT_FLOW:"charity_srt_flow",CHARITY_SRT_JOB_APPROVED:"charity_srt_job_approved",CHARITY_SRT_JOB_CREATION:"charity_srt_job_creation",CHARITY_SRT_JOB_DECISION:"charity_srt_job_decision",CHARITY_SRT_JOB_INFO_FETCH:"charity_srt_job_info_fetch",CHARITY_SRT_THREAD_CREATION:"charity_srt_thread_creation",CHARITY_SRT_UNDO_COMPLIANCE_REVIEW:"charity_srt_undo_compliance_review",CHARITY_TRANSACTION_REPORTS:"charity_transaction_reports",CHARITY_VERIFICATION_DOCUMENT_UPLOAD:"charity_verification_document_upload",CHARITY_VERIFICATION_DOCUMENT_UPLOAD_COMPLETE:"charity_verification_document_upload_complete",CHARITY_VERIFICATION_SUSPEND:"charity_verification_suspend",CHOOSE_CREATE_P4C_INSTEAD:"choose_create_p4c_instead",CHOOSE_CREATE_P4P_ANYWAYS:"choose_create_p4p_anyways",CHOOSE_OTHER_CATEGORY:"choose_other_category",CLICK_BIRTHDAY_PRESENT_UPSELL_DONATION_IN_HONOR_OF:"click_birthday_present_upsell_donation_in_honor_of",CLICK_DONATE_MONTHLY:"click_donate_monthly",CLICK_DONATE_ONCE:"click_donate_once",CLICK_DONATION_HISTORY_ITEM:"click_donation_history_item",CLICK_LIKE_BUTTON:"click_like_button",CLICK_OPEN_EDIT_GROUP_FUNDRAISER_SETTINGS:"click_open_edit_group_fundraiser_settings",CLICK_OTHER_AMOUNT_BUTTON:"click_other_amount_button",CLICK_SUGGESTED_AMOUNT_BUTTON:"click_suggested_amount_button",CLICK_UNLIKE_BUTTON:"click_unlike_button",CLOSE_POST_UPSELL:"close_post_upsell",COMPLETE_DONATE:"complete_donate",COMPOSE_CLICK:"compose_click",CONFIRM:"confirm",CONFIRM_FUNDRAISER_MATCH_BEGIN:"confirm_fundraiser_match_begin",CONFIRM_FUNDRAISER_MATCH_CANNOT_AUTOCHARGE:"confirm_fundraiser_match_cannot_autocharge",CONFIRM_FUNDRAISER_MATCH_COMPLETE:"confirm_fundraiser_match_complete",CONFIRM_FUNDRAISER_MATCH_PAID:"confirm_fundraiser_match_paid",CONFIRM_FUNDRAISER_MATCH_VIEW_INTERSTITIAL:"confirm_fundraiser_match_view_interstitial",CONFIRM_FUNDRAISER_MATCH_ZERO_AMOUNT:"confirm_fundraiser_match_zero_amount",CONFIRM_INFO_DIALOG:"confirm_info_dialog",COPY_LINK_CLICK:"copy_link_click",COPY_NONPROFIT_FUNDRAISER_CREATION_SHORT_URL:"copy_nonprofit_fundraiser_creation_short_url",CORPORATE_SEEDING_GIFT_CREATE_ELIGIBLE:"corporate_seeding_gift_create_eligible",CORPORATE_SEEDING_GIFT_CREATE_START:"corporate_seeding_gift_create_start",CORPORATE_SEEDING_GIFT_CREATE_SUCCESS:"corporate_seeding_gift_create_success",CORPORATE_SEEDING_GIFT_INTERSTITIAL_ACCEPT:"corporate_seeding_gift_interstitial_accept",CORPORATE_SEEDING_GIFT_INTERSTITIAL_CANCEL:"corporate_seeding_gift_interstitial_cancel",CORPORATE_SEEDING_GIFT_INTERSTITIAL_LEARN_MORE:"corporate_seeding_gift_interstitial_learn_more",CORPORATE_SEEDING_GIFT_INTERSTITIAL_VIEW:"corporate_seeding_gift_interstitial_view",COVER_PHOTO_ATTACH:"cover_photo_attach",COVER_VIDEO_ATTACH:"cover_video_attach",COVER_VIDEO_METADATA_PARSED:"cover_video_metadata_parsed",COVER_VIDEO_REMOVED:"cover_video_removed",COVER_VIDEO_UPLOAD_FAILED:"cover_video_upload_failed",COVER_VIDEO_UPLOAD_STARTED:"cover_video_upload_started",COVER_VIDEO_UPLOADED:"cover_video_uploaded",CREATE_COMMENT:"create_comment",CREATE_DONATION_BUDGET_GOAL_COMPLETE_NOTIF:"create_donation_budget_goal_complete_notif",CREATE_DONATION_IN_HONOR_OF:"create_donation_in_honor_of",CREATE_FLOW_CHANGE_ACTOR:"create_flow_change_actor",CREATE_FLOW_CHANGE_P4P_COUNTRY:"fundraiser_change_p4p_country",CREATE_FLOW_CHANGE_P4P_CURRENCY:"fundraiser_change_p4p_currency",CREATE_FLOW_MATCH_CHANGE_AMOUNT:"create_flow_match_change_amount",CREATE_FLOW_MATCH_TOGGLE_INPUT:"create_flow_match_toggle_input",CREATE_FLOW_MULTISTEP_BASIC_INFO:"create_flow_multistep_basic_info",CREATE_FLOW_MULTISTEP_MEDIA:"create_flow_multistep_media",CREATE_FLOW_MULTISTEP_STORY:"create_flow_multistep_story",CREATE_FLOW_TAPPED_P4P_CHANGE_COUNTRY:"fundraiser_tapped_p4p_change_country",CREATE_FLOW_TAPPED_P4P_CHANGE_CURRENCY:"fundraiser_tapped_p4p_change_currency",CREATE_FUNDRAISER_BEGIN:"create_fundraiser_begin",CREATE_FUNDRAISER_CLICK:"create_fundraiser_click",CREATE_FUNDRAISER_DRAFT:"create_fundraiser_draft",CREATE_FUNDRAISER_MATCH_BEGIN:"create_fundraiser_match_begin",CREATE_FUNDRAISER_MATCH_COMPLETE:"create_fundraiser_match_complete",CREATE_FUNDRAISER_MATCH_VIEW_INTERSTITIAL:"create_fundraiser_match_view_interstitial",CREATE_FUNDRAISER_MATCHING_POOL_COMPLETE:"create_fundraiser_matching_pool_complete",CREATE_FUNDRAISER_MATCHING_RULE:"create_fundraiser_matching_rule",CREATE_FUNDRAISER_OPEN:"create_fundraiser_open",CREATE_FUNDRAISER_PROFILE_FRAME_BEGIN:"create_fundraiser_profile_frame_begin",CREATE_FUNDRAISER_PROFILE_FRAME_COMPLETE:"create_fundraiser_profile_frame_complete",CREATE_FUNDRAISER_PUBLISHED:"create_fundraiser_published",CREATE_FUNDRAISER_SCHEDULED_MATCH_COMPLETE:"create_fundraiser_scheduled_match_complete",CREATE_FUNDRAISER_UNPUBLISHED:"create_fundraiser_unpublished",CREATE_POST:"create_post",DECLINE_ORGANIZER_REQUEST_COMPLETE:"decline_organizer_request_complete",DEFAULT_COVER_VIDEO_SELECTED:"default_cover_video_selected",DELETE_BEGIN:"delete_begin",DELETE_COMMENT:"delete_comment",DELETE_COMPLETE:"delete_complete",DELETE_DONATION:"delete_donation",DELETE_FUNDRAISER_DRAFT:"delete_fundraiser_draft",DELETE_POST:"delete_post",DIALOG_BEFORE_UNLOAD:"dialog_before_unload",DIALOG_CANCEL:"dialog_cancel",DIALOG_CONFIRM:"dialog_confirm",DIALOG_UNLOAD:"dialog_unload",DIALOG_VALIDATION_ERROR:"dialog_validation_error",DISABLE_FUNDRAISER_FOR_STORY_BEGIN:"disable_fundraiser_for_story_begin",DISABLE_FUNDRAISER_FOR_STORY_COMPLETE:"disable_fundraiser_for_story_complete",DISCARD_FUNDRAISER_DRAFT:"discard_fundraiser_draft",DONATE_CLICK:"donate_click",DONATE_SOCIAL_PLUGIN_IMPRESSION:"donate_social_plugin_impression",DONATE_SOCIAL_PLUGIN_LOGGED_IN_CLICK:"donate_social_plugin_logged_in_click",DONATE_SOCIAL_PLUGIN_LOGGED_OUT_CLICK:"donate_social_plugin_logged_out_click",DONATE_TO_ENDED_CAMPAIGN_INTERSTITIAL_CANCEL:"donate_to_ended_campaign_interstitial_cancel",DONATE_TO_ENDED_CAMPAIGN_INTERSTITIAL_DONATE:"donate_to_ended_campaign_interstitial_donate",DONATE_TO_ENDED_CAMPAIGN_INTERSTITIAL_OTHER:"donate_to_ended_campaign_interstitial_other",DONATE_TO_ENDED_CAMPAIGN_INTERSTITIAL_VIEW:"donate_to_ended_campaign_interstitial_view",DONATION_IMPACT_DISMISS_PROMPT:"donation_impact_dismiss_prompt",DONATION_MATCH_COMPLETE:"donation_match_complete",DONATION_MATCH_SEEDED:"donation_match_seeded",DONATION_THANK_YOU_COMMENT_COMPLETE:"donation_thank_you_comment_complete",DONATION_THANK_YOU_COMMENT_DIALOG_OPEN:"donation_thank_you_comment_dialog_open",DOWNLOAD_DAILY_CHARITY_TRANSACTION_REPORTS:"download_daily_charity_transaction_reports",EDIT_FUNDRAISER_BEGIN:"edit_fundraiser_begin",EDIT_FUNDRAISER_CLICK:"edit_fundraiser_click",EDIT_FUNDRAISER_COMPLETE:"edit_fundraiser_complete",EDIT_FUNDRAISER_MATCH_BEGIN:"edit_fundraiser_match_begin",EDIT_FUNDRAISER_MATCH_COMPLETE:"edit_fundraiser_match_complete",EDIT_GROUP_FUNDRAISER_SETTINGS_BEGIN:"edit_group_fundraiser_settings_begin",EDIT_GROUP_FUNDRAISER_SETTINGS_CANCEL:"edit_group_fundraiser_settings_cancel",EDIT_GROUP_FUNDRAISER_SETTINGS_COMPLETE:"edit_group_fundraiser_settings_complete",EDIT_GROUP_FUNDRAISER_SETTINGS_CONFIRM:"edit_group_fundraiser_settings_confirm",EDIT_P4P_BENEFICIARY:"edit_p4p_beneficiary",END_FUNDRAISER_BEGIN:"end_fundraiser_begin",END_FUNDRAISER_COMPLETE:"end_fundraiser_complete",ENTITY_CREATION:"entity_creation",EXTERNAL_APP_DONATION:"external_app_donation",EXTERNAL_APP_DONATION_DELETION:"external_app_donation_deletion",FAILED_TO_FETCH_DONATE_URL_DONATION_IN_HONOR_OF:"failed_to_fetch_donate_url_donation_in_honor_of",FAILED_TO_FETCH_DONATE_URL_PERMANENT_FUNDRAISER_DONATION:"failed_to_fetch_donate_url_permanent_fundraiser_donation",FAILED_TO_FETCH_NONPROFIT_BOTTOM_SHEET:"failed_to_fetch_nonprofit_bottom_sheet",FAQ_SHARE_ARTICLE:"faq_share_article",FAQ_VIEW_ANSWER:"faq_view_answer",FBMF_BIRTHDAY_GIFT_DONATION_CREATE:"fbmf_birthday_gift_donation_create",FBMF_BIRTHDAY_GIFT_DONATION_DELETE:"fbmf_birthday_gift_donation_delete",FEED_PAYLOAD_CHANGE_DESCRIPTION:"feed_payload_change_description",FEED_PAYLOAD_CHANGE_GOAL:"feed_payload_change_goal",FETCH_DONATION_BUDGET:"fetch_donation_budget",FILTER_PAGE_FUNDRAISERS_TAB:"filter_page_fundraisers_tab",FOLLOW_CLICK:"follow_click",FOLLOW_COMPLETE:"follow_complete",FRP_GRANULAR_REJECT_MODEL_DECISION:"frp_granular_reject_model_decision",FRP_GRANULAR_REJECT_MODEL_DIALOG_EDIT:"frp_granular_reject_model_dialog_edit",FRP_GRANULAR_REJECT_MODEL_DIALOG_NONPROFIT_PIVOT:"frp_granular_reject_model_dialog_nonprofit_pivot",FRP_GRANULAR_REJECT_MODEL_LOADING:"frp_granular_reject_model_loading",FRP_GRANULAR_REJECT_MODEL_RESPONSE_ACCEPTED:"frp_granular_reject_model_response_accepted",FRP_GRANULAR_REJECT_MODEL_RESPONSE_ERROR:"frp_granular_reject_model_response_error",FRP_GRANULAR_REJECT_MODEL_RESPONSE_INVALID:"frp_granular_reject_model_response_invalid",FRP_GRANULAR_REJECT_MODEL_RESPONSE_REJECTED:"frp_granular_reject_model_response_rejected",FUNDRAISER_ACTIVATION:"fundraiser_activation",FUNDRAISER_ADD_ORGANIZERS:"fundraiser_add_organizers",FUNDRAISER_APPROVED_BY_SRT:"fundraiser_approved_by_srt",FUNDRAISER_AUTONOTIFY_COMPLETE:"fundraiser_autonotify_complete",FUNDRAISER_BIRTHDAY_CENTER_PROMPT_VIEW:"fundraiser_birthday_center_prompt_view",FUNDRAISER_CHAT_SUPPORT_CLICK:"fundraiser_chat_support_click",FUNDRAISER_CHECKLIST_EXPAND_ITEM:"expand_creator_checklist_item",FUNDRAISER_CHECKLIST_TAP_CTA:"tap_creator_checklist_item_cta",FUNDRAISER_CREATE_OPT_OUT_PREFILL_DESCRIPTION:"fundraiser_create_opt_out_prefill_description",FUNDRAISER_CREATE_OPT_OUT_PREFILL_TITLE:"fundraiser_create_opt_out_prefill_title",FUNDRAISER_CREATE_POST_CLICK:"fundraiser_create_post_click",FUNDRAISER_CRISIS_FOR_CHARITY_DONATION_ASYNC_UPDATE:"fundraiser_crisis_for_charity_donation_async_update",FUNDRAISER_CRISIS_FOR_CHARITY_DONATION_ASYNC_UPDATE_SUCCESS:"fundraiser_crisis_for_charity_donation_async_update_success",FUNDRAISER_DONATION_ASYNC_UPDATE:"fundraiser_donation_async_update",FUNDRAISER_DONATION_ASYNC_UPDATE_SUCCESS:"fundraiser_donation_async_update_success",FUNDRAISER_DONATION_FLOW_EMAIL_OPT_IN_CHECKED:"fundraiser_donation_flow_email_opt_in_checked",FUNDRAISER_DONATION_FLOW_EMAIL_OPT_OUT_CHECKED:"fundraiser_donation_flow_email_opt_out_checked",FUNDRAISER_EDIT_ORGANIZERS:"fundraiser_edit_organizers",FUNDRAISER_FOR_CAUSE_ANALYSIS_RULE_MATCHED:"fundraiser_for_cause_analysis_rule_matched",FUNDRAISER_FOR_STORY_DONATION_ASYNC_UPDATE:"fundraiser_for_story_donation_async_update",FUNDRAISER_FOR_STORY_DONATION_ASYNC_UPDATE_SUCCESS:"fundraiser_for_story_donation_async_update_success",FUNDRAISER_FOR_STORY_REPLACE_PLACEHOLDER_ATTACHMENT:"fundraiser_for_story_replace_placeholder_attachment",FUNDRAISER_FOR_STORY_SET_GOAL_AMOUNT:"fundraiser_for_story_set_goal_amount",FUNDRAISER_FOR_STORY_TIP_ACTION_CLICK:"fundraiser_for_story_tip_action_click",FUNDRAISER_FOR_STORY_TIP_DISMISS:"fundraiser_for_story_tip_dismiss",FUNDRAISER_FOR_STORY_VIEW_MORE_INFO:"fundraiser_for_story_view_more_info",FUNDRAISER_FOR_STORY_VIEW_NONPROFIT_SUGGESTION:"fundraiser_for_story_view_nonprofit_suggestion",FUNDRAISER_GOAL_HIT:"fundraiser_goal_hit",FUNDRAISER_HUB_CATEGORY_CLICK:"fundraiser_hub_category_click",FUNDRAISER_HUB_CHARITY_SEARCH_LOAD_MORE:"fundraiser_hub_charity_search_load_more",FUNDRAISER_HUB_CHARITY_SEARCH_LOAD_MORE_RESPONSE_EMPTY:"fundraiser_hub_charity_search_load_more_response_empty",FUNDRAISER_HUB_CHARITY_SEARCH_QUERY:"fundraiser_hub_charity_search_query",FUNDRAISER_HUB_CHARITY_SEARCH_RESPONSE_EMPTY:"fundraiser_hub_charity_search_response_empty",FUNDRAISER_HUB_CHARITY_SEARCH_RESULTS:"fundraiser_hub_charity_search_results",FUNDRAISER_LIVE_RECORDING:"fundraiser_live_broadcast_recording",FUNDRAISER_LIVE_STARTING:"fundraiser_live_broadcast_starting",FUNDRAISER_MATCH_DELETE_BEGIN:"fundraiser_match_delete_begin",FUNDRAISER_MATCH_DELETE_COMPLETE:"fundraiser_match_delete_complete",FUNDRAISER_MATCH_HARD_DELETE_CALLED:"fundraiser_match_hard_delete_called",FUNDRAISER_MATCH_MET:"fundraiser_match_met",FUNDRAISER_MATCH_REVIEW_VIEW_INTERSTITIAL:"fundraiser_match_review_view_interstitial",FUNDRAISER_MORE_BUTTON_CLICK:"fundraiser_more_button_click",FUNDRAISER_PAGE_BIRTHDAY_REMIND_FAQ:"fundraiser_page_birthday_remind_faq",FUNDRAISER_PAGE_CREATE_BIRTHDAY_REMINDER:"fundraiser_page_create_birthday_reminder",FUNDRAISER_PAGE_PERSONAL_REVIEW_INFO_LEARN_MORE_CLICK:"fundraiser_page_personal_review_info_learn_more_click",FUNDRAISER_PAGE_SHARE_IMPRESSION:"fundraiser_page_share_impression",FUNDRAISER_PAUSED_BY_SRT:"fundraiser_paused_by_srt",FUNDRAISER_PAYOUT_SETUP_CLICK:"fundraiser_payout_setup_click",FUNDRAISER_PAYOUT_VERIFICATION_CLICK:"fundraiser_payout_verification_click",FUNDRAISER_PROMPT_RENDER:"fundraiser_prompt_render",FUNDRAISER_REJECTED_BY_SRT:"fundraiser_rejected_by_srt",FUNDRAISER_RHC_TIP_X_OUT:"fundraiser_rhc_tip_x_out",FUNDRAISER_SCHEDULED_MATCH_DELETE_BEGIN:"fundraiser_scheduled_match_delete_begin",FUNDRAISER_SCHEDULED_MATCH_DELETE_COMPLETE:"fundraiser_scheduled_match_delete_complete",FUNDRAISER_SEARCH_LOAD_MORE:"fundraiser_search_load_more",FUNDRAISER_SEARCH_LOAD_MORE_RESPONSE_EMPTY:"fundraiser_search_load_more_response_empty",FUNDRAISER_SEARCH_QUERY:"fundraiser_search_query",FUNDRAISER_SEARCH_RESPONSE_EMPTY:"fundraiser_search_response_empty",FUNDRAISER_SEARCH_RESULTS:"fundraiser_search_results",FUNDRAISER_SEE_ALL_CLICK:"fundraiser_see_all_click",FUNDRAISER_SHARE_NONPROFIT_POST:"share_nonprofit_post",FUNDRAISER_SUMMARY_CLICK:"fundraiser_summary_click",FUNDRAISER_TAP_NONPROFIT_POST:"tap_nonprofit_post",FUNDRAISER_UNPAUSED_BY_SRT:"fundraiser_unpaused_by_Srt",GEN_CUSTOMIZED_SINGLE_FIELD_AMOUNT:"gen_customized_single_field_amount",GEN_PRICE_CONFIG:"gen_price_config",GENERATE_SOCIAL_CONTEXT:"generate_social_context",GIVING_TUESDAY_MATCH_COMMUNICATION_SCRIPT_END:"giving_tuesday_match_communication_script_end",GIVING_TUESDAY_MATCH_COMMUNICATION_SCRIPT_START:"giving_tuesday_match_communication_script_start",GIVING_TUESDAY_MATCHING_TALLY:"giving_tuesday_matching_tally",GIVING_TUESDAY_VIEW_DONOR_MATCH_INFO:"giving_tuesday_view_donor_match_info",GOTO_PAGE_ACTIONBAR:"fundraiser_page_tapped_go_to_page",GOTO_PAGE_SUBTITLE:"fundraiser_charity_page_subtitle",GROUP_ADMIN_FUNDRAISER_PROFILE_FOR_CHARITY_LINKED_CARD_STATE_VIEWED:"group_admin_fundraiser_profile_for_charity_linked_card_state_viewed",GROUP_ADMIN_FUNDRAISER_PROFILE_FOR_CHARITY_NOT_LINKED_CARD_STATE_VIEWED:"group_admin_fundraiser_profile_for_charity_not_linked_card_state_viewed",GROUP_FUNDRAISER_CONFIRMATION_PAGE:"group_fundraiser_confirmation_page",GROUP_MEMBER_FUNDRAISER_PROFILE_FOR_CHARITY_LINKED_CARD_STATE_VIEWED:"group_member_fundraiser_profile_for_charity_linked_card_state_viewed",GUIDESTAR_FUNDRAISER_HEADER_DISMISSED:"guidestar_fundraiser_header_dismissed",GUIDESTAR_SCRIPT_ERROR:"guidestar_script_error",HIDE:"hide",HUB_ACTIVITY_LINK_CLICK:"hub_activity_link_click",IDLE_TO_DONATE_BANNER_DISMISSED:"idle_to_donate_banner_dismissed",IDLE_TO_DONATE_BANNER_SHOWN:"idle_to_donate_banner_shown",INCREASE_GOAL_AMOUNT_EQUAL:"increase_goal_amount_equal",INCREASE_GOAL_AMOUNT_INPUT_CHANGE:"increase_goal_amount_input_change",INCREASE_GOAL_AMOUNT_NULL:"increase_goal_amount_null",INCREASE_GOAL_AMOUNT_SCREEN_SHOWN:"increase_goal_amount_screen_shown",INCREASE_GOAL_AMOUNT_SMALLER:"increase_goal_amount_smaller",INITIALIZATION:"initialization",INITIALIZATION_BEGIN:"initialization_begin",INITIALIZATION_DEBUG:"initialization_debug",INITIALIZATION_ERROR:"initialization_error",INITIALIZATION_FROM_LOGGED_OUT_USER:"initialization_from_logged_out_user",INTERACT_WITH_MISSION_CARD:"interact_with_mission_card",INTERESTED_COMPLETE:"interested_complete",INVITE_CLICK:"invite_click",INVITE_COMPLETE:"invite_complete",INVITE_DIALOG_BOOTSTRAP_ENTRIES:"invite_dialog_bootstrap_entries",INVITE_DIALOG_BOOTSTRAP_FILTER_GROUPS:"invite_dialog_bootstrap_filter_groups",INVITE_DIALOG_COLLAPSE_GROUP:"invite_dialog_collaps_group",INVITE_DIALOG_DESELECT_ALL_ENTRIES:"invite_dialog_deselect_all_entries",INVITE_DIALOG_DESELECT_ENTRY:"invite_dialog_deselect_entry",INVITE_DIALOG_EXPAND_GROUP:"invite_dialog_expand_group",INVITE_DIALOG_INITIAL_LOAD:"invite_dialog_inital_load",INVITE_DIALOG_SELECT_ALL_ENTRIES:"invite_dialog_select_all_entries",INVITE_DIALOG_SELECT_ENTRY:"invite_dialog_select_entry",INVITE_DIALOG_SET_ACTIVE_FILTER:"invite_dialog_set_active_filter",INVITE_DIALOG_SET_DONATED_TO_FUNDRAISER_FILTER:"invite_dialog_set_donated_to_fundraiser_filter",INVITE_DIALOG_SET_FRIEND_FILTER:"invite_dialog_set_friend_filter",INVITE_DIALOG_SET_GROUP_FILTER:"invite_dialog_set_group_filter",INVITE_DIALOG_SET_MUTUAL_FRIENDS_FILTER:"invite_dialog_set_mutual_friends_filter",INVITE_DIALOG_SET_POSTED_BIRTHDAY_WISH_FILTER:"invite_dialog_set_posted_birthday_wish_filter",INVITE_DIALOG_UPDATE_MESSAGE:"invite_dialog_update_message",INVITE_DIALOG_UPDATE_QUERY:"invite_dialog_update_query",INVITE_EMAIL_COMPLETE:"invite_email_complete",INVITE_EMAIL_DIALOG_OPEN:"invite_email_dialog_open",INVITE_NULL_MISSION:"invite_null_mission",INVITE_USER_COMPLETE:"invite_user_complete",INVITE_USER_DIALOG_OPEN:"invite_user_dialog_open",INVITE_USER_FRIEND_INVITER_SEND:"invite_user_friend_inviter_send",LEADERSHIP_INFO:"leadership_info",LEARN_MORE_CLICK:"learn_more_click",LIKE_GIVING_FUND:"like_giving_fund",LIVE_VIDEO_ATTACHMENT_VIEW:"fundraiser_live_video_attachment_view",LIVE_VIDEO_START:"fundraiser_live_video_start",LOAD_GROUP_FUNDRAISER_SETTINGS_ROW:"load_group_fundraiser_settings_row",LOAD_NONPROFIT_DETECTED_DIALOG:"load_nonprofit_detected_dialog",LOAD_NONPROFIT_SELECTOR_DONATION_IN_HONOR_OF:"load_nonprofit_selector_donation_in_honor_of",MATCHING_AUTOCHARGE_PAYMENTS_SCRIPT:"matching_autocharge_payments_script",MISSING_GRAPHQL_FIELDS:"fundraiser_page_missing_fields",NONPROFIT_KEYWORD_DETECTED:"nonprofit_keyword_detected",NOTIF_CAPPED_NOT_SENT:"notif_capped_not_sent",NOTIF_CLICK:"notif_click",NOTIF_GENERATE:"notif_generate",NOTIF_IMPRESSION:"notif_impression",NOTIF_MARKASREAD:"notif_markasread",NOTIF_MARKASSEEN:"notif_markasseen",NOTIF_NEGATIVE_FEEDBACK:"notif_negative_feedback",ONBOARDING_PAGE_LOAD:"onboarding_page_load",OPEN_CAUSE_BENEFICIARY_SELECTOR:"open_cause_beneficiary_selector",OPEN_CHARITY_BENEFICIARY_SELECTOR:"open_charity_beneficiary_selector",OPEN_CUSTOM_BENEFICIARY_FLOW:"open_custom_beneficiary_flow",OPEN_FRIEND_BENEFICIARY_SELECTOR:"open_friend_beneficiary_selector",OPEN_FRIEND_BENEFICIARY_SELECTOR_CLICK:"open_friend_beneficiary_selector_click",OPEN_GROUP_SHARE_DIALOG:"open_group_share_dialog",OPEN_NONPROFIT_FUNDRAISER_CREATION_SHORT_URL:"open_nonprofit_fundraiser_creation_short_url",ORGANIZATION_DETAILS:"organization_details",OUTRO_DISMISSED:"fundraiser_outro_dismissed",OUTRO_SHOWN:"fundraiser_outro_shown",P4P_CONNECT_STRIPE:"p4p_connect_stripe",PAGE_DONATION_SETTINGS_LOAD_ERROR:"page_donation_settings_load_error",PAGE_TERM_REVIEW_INITIALIZED:"page_term_review_initialized",PAGE_VERIFICATION_INITIALIZED:"page_verification_initialized",PAYMENT_APPLICATION_INITIALIZED:"payment_application_initialized",PAYMENT_INFO:"payment_info",PERSONAL_CAUSE_ANALYSIS_RULE_MATCHED:"personal_cause_analysis_rule_matched",PERSONAL_CAUSE_KEYWORDS_MATCHED_ON_COMMENT:"personal_cause_keywords_matched_on_comment",PERSONAL_UPDATE_BEGIN:"personal_update_begin",PERSONAL_UPDATE_NULL_MISSION:"personal_update_null_mission",PERSONAL_UPDATE_SEND_COUNT:"personal_update_send_count",PERSONAL_UPDATE_SEND_EMAIL:"personal_update_send_email",PERSONAL_UPDATE_SEND_MESSAGE:"personal_update_send_message",POST_DONATION_BUTTON_TAP:"fundraiser_thank_you_button_tap",POST_DONATION_VIEW:"fundraiser_view_thank_you",POST_STATUS_UPDATE:"post_status_update",PPGF_SCRIPT_ERROR:"ppgf_script_error",PROFILE_PROMPT_CLICK:"profile_prompt_click",PROFILE_PROMPT_DISMISS:"profile_prompt_dismiss",PROFILE_PROMPT_FAILED_TO_RETRIEVE_TOP_FUNDRAISER_AFTER_PASSING_ELIGIBILITY_CHECK:"profile_prompt_failed_to_retrieve_top_fundraiser_after_passing_eligibility_check",PROFILE_PROMPT_IMPRESSION:"profile_prompt_impression",PROFILE_PROMPT_SOFT_DISMISS:"profile_prompt_soft_dismiss",PUBLISH_BIRTHDAY_FUNDRAISER_NOW:"publish_birthday_fundraiser_now",QP_AUCTION_FUNDRAISER_CLICK:"qp_auction_fundraiser_click",QP_AUCTION_FUNDRAISER_IMPRESSION:"qp_auction_fundraiser_impression",QUICK_PROMOTION_DISMISS_CLICK:"quick_promotion_dismiss_click",QUICK_PROMOTION_IMPRESSION:"quick_promotion_impression",QUICK_PROMOTION_PRIMARY_CLICK:"quick_promotion_primary_click",QUICK_PROMOTION_SECONDARY_CLICK:"quick_promotion_secondary_click",REACTION_INVITE_CLICK_DEPRECATED:"reaction_invite_click",RECEIVE_NMOR_DONATION_RESPONSE:"receive_nmor_donation_response",RECURRING_DONATION_ACTIVATE:"recurring_donation_activate",RECURRING_DONATION_CANCEL:"recurring_donation_cancel",RECURRING_DONATION_CREATE:"recurring_donation_create",RECURRING_DONATION_REINITED:"recurring_donation_reinited",RED_NOSE_DAY_MATCHING_TALLY:"red_nose_day_matching_tally",REMOVE_ORGANIZER_COMPLETE:"remove_organizer_complete",REMOVE_PENDING_ORGANIZER_COMPLETE:"remove_pending_organizer_complete",REMOVE_SELF_FROM_INVITE_LIST:"remove_self_from_invite_list",REPORT_FUNDRAISER_CLICK:"report_fundraiser_click",REPOSITION_COVER_PHOTO:"reposition_cover_photo",SAVE_COMPLETE:"save_complete",SAVE_FUNDRAISER_DRAFT:"save_fundraiser_draft",SCHEDULE_MATCH_JOB:"schedule_match_job",SCHEDULE_MATCH_RUNNING_JOB:"schedule_match_running_job",SEARCH_BENEFICIARIES:"fundraiser_creation_search_beneficiaries",SEARCH_CHARITIES:"search_charities",SEARCH_GRAPHQL_RESPONSE_EMPTY:"search_graphql_response_empty",SEARCH_RESPONSE:"search_response",SEARCH_RESPONSE_EMPTY:"search_response_empty",SEE_MORE_CATEGORIES:"see_more_categories",SEE_SELF_DONATIONS:"see_self_donations",SELECT_NONPROFIT_DONATION_IN_HONOR_OF:"select_nonprofit_donation_in_honor_of",SELECT_NONPROFIT_PERMANENT_FUNDRAISER_DONATION:"select_nonprofit_permanent_fundraiser_donation",SEND_NMOR_DONATION_REQUEST:"send_nmor_donation_request",SET_FUNDRAISER_DRAFT:"set_fundraiser_draft",SHARE_CLICK:"share_click",SHARE_CLICK_CANCEL:"share_click_cancel",SHARE_COMPLETE:"share_complete",SHARE_DONATION_COMPLETE:"share_donation_complete",SHARE_EMAIL_WITH_CHARITY:"share_email_with_charity",SHARE_FAIL:"share_fail",SHARE_QR_CODE_CLICK:"share_qr_code_click",SHOW_POST_UPSELL:"show_post_upsell",SINGLE_CLICK_INVITE_FETCH_DATA_FAILURE:"fundraiser_single_click_invite_fetch_data_failure",SINGLE_CLICK_INVITE_SENT:"fundraiser_single_click_invite_sent",SINGLE_CLICK_INVITE_SENT_FAILURE:"fundraiser_single_click_invite_sent_failure",SINGLE_CLICK_INVITE_VIEW:"fundraiser_single_click_invite_view",SOCIAL_CONTEXT_UNIT_SEE_ALL:"social_context_unit_tapped_see_all",STARTER_TEMPLATE_ANSWER_CHANGE:"starter_template_answer_change",STARTER_TEMPLATE_BEGIN_BUTTON_CLICK:"starter_template_begin_button_click",STARTER_TEMPLATE_CANCEL_BUTTON_CLICK:"starter_template_cancel_button_click",STARTER_TEMPLATE_DISPLAY_MODAL:"starter_template_display_modal",STARTER_TEMPLATE_DONE_CLICK:"starter_template_done_click",STARTER_TEMPLATE_FREE_FORM_BUTTON_CLICK:"starter_template_free_form_button_click",STARTER_TEMPLATE_NEXT_CLICK:"starter_template_next_click",STARTER_TEMPLATE_OPT_IN_BUTTON_CLICK:"starter_template_opt_in_button_click",STARTER_TEMPLATE_SKIP_CLICK:"starter_template_skip_click",STICKER_CLICK:"sticker_click",STICKER_CREATE_BEGIN:"sticker_create_begin",STICKER_DONATE_OUTRO_PAGE_VIEW:"sticker_donate_outro_page_view",STICKER_PICKER_RESULT_CLICK:"sticker_picker_result_click",STICKER_POST_ATTEMPT:"sticker_post_attempt",STICKER_POST_SUCCESS:"sticker_post_success",STICKER_TOOLTIP_CLICK:"sticker_tooltip_click",STICKER_VIEW:"sticker_view",STRIPE_CREATION_REQUIRES_INFO:"stripe_creation_requires_info",SUPPORTERS_SCREEN_LOADED:"supporters_screen_loaded",SUPPORTERS_SCREEN_TAPPED_PROFILE:"supporters_screen_tapped_profile",SUPPRESSED_POST_UPSELL:"suppressed_post_upsell",TAP_CREATOR_ITEM:"tap_creator_item",TAP_NONPROFIT_ITEM:"tap_nonprofit_item",TAPPED_COPY_LINK:"fundraiser_tapped_copy_link",TAPPED_NONPROFIT_CELL_FOR_BOTTOM_SHEET:"tapped_nonprofit_cell_for_bottom_sheet",TAPPED_NONPROFIT_LEARN_MORE:"tapped_nonprofit_learn_more",TAPPED_SHARE_AS_MESSAGE:"fundraiser_tapped_share_as_message",TAPPED_SHARE_AS_POST:"fundraiser_tapped_share_as_post",TAPPED_SHARE_SEE_MORE:"fundraiser_tapped_share_see_more",TAPPED_STICKY_CREATE_BUTTON:"fundraiser_tapped_sticky_create_button",TERMS_ACCEPT:"terms_accept",TERMS_ACCEPT_PAGE_LOAD:"terms_accept_page_load",TOGGLE_GROUP_FUNDRAISER_CREATION_PERMISSIONS:"toggle_group_fundraiser_creation_permissions",TOGGLE_GROUP_FUNDRAISER_FEATURE_SETTING:"toggle_group_fundraiser_feature_setting",TOGGLE_NOTIFICATIONS_ON_FUNDRAISER:"toggle_notifications_on_fundraiser",TRANSACTION_API_POST:"transaction_api_post",UNFOLLOW_CLICK:"unfollow_click",UNFOLLOW_COMPLETE:"unfollow_complete",UNINTERESTED_COMPLETE:"uninterested_complete",UNLIKE_GIVING_FUND:"unlike_giving_fund",UNSAVE_COMPLETE:"unsave_complete",UPLOAD_COVER_PHOTO:"upload_cover_photo",UPLOAD_COVER_PHOTO_FAIL:"upload_cover_photo_fail",UPLOAD_COVER_PHOTO_SUCCESS:"upload_cover_photo_success",VIEW_ABOUT_FUNDRAISERS:"view_about_fundraisers",VIEW_BENEFICIARY_SELECTOR:"view_beneficiary_selector",VIEW_BIRTHDAY_CENTER:"view_birthday_center",VIEW_BIRTHDAY_PRESENT_UPSELL:"view_birthday_present_upsell",VIEW_BOOKMARK_FUNDRAISER_PAGINATION:"view_bookmark_fundraiser_pagination",VIEW_BOOKMARK_HUB:"view_bookmark_hub",VIEW_BOOKMARK_HUB_COMPONENT:"view_bookmark_hub_component",VIEW_BOOKMARK_HUB_TAB:"view_bookmark_hub_tab",VIEW_CHARITY_ON_SELECTOR:"view_charity_on_selector",VIEW_CREATE_FORM:"view_create_form",VIEW_CREATE_OUTRO_DIALOG:"view_create_outro_dialog",VIEW_DONATION_BUDGET_DASHBOARD:"view_donation_budget_dashboard",VIEW_DONATION_HISTORY:"view_donation_history",VIEW_DONATIONS_IN_HONOR_OF_ME_SCREEN:"view_donations_in_honor_of_me_screen",VIEW_EDIT_DONATION_BUDGET_PAGE:"view_edit_donation_budget_page",VIEW_EDIT_FUNDRAISER_STORY:"view_edit_fundraiser_story",VIEW_FRIEND_SELECTOR_DONATION_IN_HONOR_OF:"view_friend_selector_donation_in_honor_of",VIEW_FUNDRAISER:"view_fundraiser",VIEW_FUNDRAISER_CLICK:"view_fundraiser_click",VIEW_FUNDRAISER_CREATION_LANDING_PAGE:"view_fundraiser_creation_landing_page",VIEW_FUNDRAISER_CREATION_PENDING_DIALOG:"view_fundraiser_creation_pending_dialog",VIEW_FUNDRAISER_CREATION_PENDING_EDIT_DIALOG:"view_fundraiser_creation_pending_edit_dialog",VIEW_FUNDRAISER_CREATION_REDIRECT:"view_fundraiser_creation_redirect",VIEW_FUNDRAISER_CREATION_TIP:"view_fundraiser_creation_tip",VIEW_FUNDRAISER_HUB_BIRTHDAY_TAB:"view_fundraiser_hub_birthday_tab",VIEW_FUNDRAISER_HUB_CATEGORY:"view_fundraiser_hub_category",VIEW_FUNDRAISER_HUB_COMPONENT:"view_fundraiser_hub_component",VIEW_FUNDRAISER_HUB_PERSONAL_TAB:"view_fundraiser_hub_personal_tab",VIEW_FUNDRAISER_ON_PERSONALIZED_HSCROLL:"view_fundraiser_on_personalized_hscroll",VIEW_FUNDRAISER_ORGANIZER_ACCEPT_REQUEST_OUTRO:"view_fundraiser_organizer_accept_request_outro",VIEW_FUNDRAISER_PAGE_COMPONENT:"view_fundraiser_page_component",VIEW_FUNDRAISER_PAYMENT_SETTINGS_CLICK:"view_fundraiser_payment_settings_click",VIEW_FUNDRAISER_RHC:"view_fundraiser_rhc",VIEW_FUNDRAISER_SUPPORTERS:"view_fundraiser_supporters",VIEW_FUNDRAISER_UPDATES:"view_fundraiser_updates",VIEW_GIVING_FUNDS_DONATE_SCREEN:"view_giving_funds_donate_screen",VIEW_GIVING_FUNDS_LIST:"view_giving_funds_list",VIEW_GROUP_FUNDRAISER_TAB:"view_group_fundraiser_tab",VIEW_GROUP_FUNDRAISER_TAB_CONTROLLER:"view_group_fundraiser_tab_controller",VIEW_INFO_DIALOG:"view_info_dialog",VIEW_MANAGE_TAB:"view_manage_tab",VIEW_MODEL_SELECTED_PAYMENT_SELECTOR:"view_model_selected_payment_selector",VIEW_NONPROFIT_BOTTOM_SHEET:"view_nonprofit_bottom_sheet",VIEW_NONPROFIT_CLICK:"view_nonprofit_click",VIEW_NONPROFIT_FUNDRAISER_CREATION_SHORT_URL_BANNER:"view_nonprofit_fundraiser_creation_short_url_banner",VIEW_NONPROFIT_SELECTOR_PERMANENT_FUNDRAISER_DONATION:"view_nonprofit_selector_permanent_fundraiser_donation",VIEW_PAGE_FUNDRAISERS_TAB:"view_page_fundraisers_tab",VIEW_PAYMENTS_SETTINGS_RECEIPT_BANNER:"view_payments_settings_receipt_banner",VIEW_PAYOUT_DETAILS:"view_payout_details",VIEW_PAYOUT_OVERVIEW:"view_payout_overview",VIEW_PAYOUT_OVERVIEW_CLICK:"view_payout_overview_click",VIEW_PERSONAL_BENEFICIARY_CLICK:"view_personal_beneficiary_click",VIEW_USER_ON_INVITE_FLOW:"view_user_on_invite_flow",WHITELIST_DAF_CHARITY:"whitelist_daf_charity",WHITELIST_DAF_CHARITY_FAILED:"whitelist_daf_charity_failed",WHITELIST_FUNDRAISERS_API:"whitelist_fundraisers_api",XMA_BAD_DONATE_LINK:"fundraiser_xma_bad_donate_link",XMA_FALLBACK_VIEW:"fundraiser_xma_fallback_view",XMA_TAP_ATTACHMENT:"fundraiser_xma_tap_attachment",XMA_TAP_DONATE:"fundraiser_xma_tap_donate",XMA_VIEW:"fundraiser_xma_view",XMA_VIEW_DONATE_BUTTON:"fundraiser_xma_view_donate_button"})}),null);
__d("SocialGoodCharityActionsLoggerUtils",["Event","SocialGoodCharityActionsLoggerEvents","SocialGoodCharityActionsTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();var g={logAction:function(a,c,d,e){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(a).setParentEventType(c).setCampaignID(d.campaign_id).setCampaignType(d.campaign_type).setAttributes(d.attributes).setSourceAttributes(d.source_attributes).setFundraiserID(d.fundraiser_id).log()},logOnboarding:function(a,c){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(a).setParentEventType("onboarding").setAttributes(c).log()},logDonate:function(a,c){c===void 0&&(c=null),new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(a).setParentEventType("donate").setAttributes(c).log()},logU2CFundraiserInvite:function(a,c,d){d===void 0&&(d=null),new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(a).setParentEventType("invite").setSourceAttributes(c).setAttributes(d).log()},logU2CFundraiserCreation:function(a,c,d,e){d===void 0&&(d=null),e===void 0&&(e=null),new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(a).setParentEventType("create").setSourceAttributes(c).setAttributes(d).setCampaignType(6).setAbTestNamesToGroups(e).log()},logU2CFundraiserEdit:function(a,c,d,e){d===void 0&&(d=null),e===void 0&&(e=null),new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(a).setParentEventType("edit").setSourceAttributes(c).setAttributes(d).setCampaignID(c.source_id).setCampaignType(6).setAbTestNamesToGroups(e).log()},logJoinActionClick:function(a,c){a=a?b("SocialGoodCharityActionsLoggerEvents").JOIN_CLICK:b("SocialGoodCharityActionsLoggerEvents").LEAVE_CLICK;this.logAction(a,"interact",c)},logFollowActionClick:function(a,b){a=a?"follow_click":"unfollow_click";this.logAction(a,"interact",b)},logShareActionClick:function(a){this.logAction("share_click","interact",a)},logCopyLinkActionClick:function(a){this.logAction("copy_link_click","interact",a)},logXMAView:function(a){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent("fundraiser_xma_view").setParentEventType("interact").setFundraiserID(a).setCampaignID(a).setCampaignType(6).log()},logXMATapDonate:function(a){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent("fundraiser_xma_tap_donate").setParentEventType("interact").setFundraiserID(a).setCampaignID(a).setCampaignType(6).log()},logComposerPreviewAttachmentClose:function(){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(b("SocialGoodCharityActionsLoggerEvents").LIGHTWEIGHT_MINUTIAE_PREVIEW_ATTACHMENT_CLOSE).setParentEventType("trigger").setCampaignType(8).log()},logFundraiserForStoryCreation:function(a,c){new(b("SocialGoodCharityActionsTypedLogger"))().setCampaignType(8).setParentEventType("create").setEvent(a).setSourceAttributes(c).log()},logPostCreationFlowChangeCharity:function(a){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent("change_charity").setParentEventType("create").setCampaignType(8).setAttributes(a).log()},logDonateSocialPluginLoggedInClick:function(a){this.logAction("donate_social_plugin_logged_in_click","donate",a)},logDonateSocialPluginLoggedOutClick:function(a){this.logAction("donate_social_plugin_logged_out_click","donate",a)},logCopyNonprofitCreationShortURLClick:function(a){this.logAction("copy_nonprofit_fundraiser_creation_short_url","interact",a)},logCopyNonprofitCreationShortURLOnClick:function(a,c){b("Event").listen(a,"click",function(a){g.logCopyNonprofitCreationShortURLClick(c)})}};e.exports=g}),null);
__d("ResumableUploadServiceState.enum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});e.exports=a}),null);
__d("ResumableUploadAsyncService",["regeneratorRuntime","Promise","AsyncRequest","EventEmitter","ResumableUploadServiceState.enum","URI","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="rupload",i="facebook.com";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,j,k,l,m,n){__p&&__p();var o;o=a.call(this)||this;o.consumer=c;o.accessToken=d;o.sessionKey=e||b("uuid")();o.contentKey=f||"";o.contentValue=g||"";o.serviceName=j&&j!=""?j:h;o.serviceDomain=k&&k!=""?k:i;o.receiveParameters=l;o.flowCaptureHeaderValue=m;o.tracingHeaderValue=n;return o}c.create=function(a){return new c(a.consumer,a.accessToken,a.sessionKey||"",a.contentKey,a.contentValue,a.serviceName,a.serviceDomain,a.receiveParameters,a.flowCaptureHeaderValue,a.tracingHeaderValue)};var d=c.prototype;d.resume=function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(this.sendOffsetRequest());case 3:c=e.sent;this.emit(b("ResumableUploadServiceState.enum").START,{offset:c.offset});e.next=7;return b("regeneratorRuntime").awrap(this.sendUploadRequest(a,c));case 7:d=e.sent;this.emit(b("ResumableUploadServiceState.enum").SUCCESS,d.h);e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.emit(b("ResumableUploadServiceState.enum").FAIL,e.t0);case 14:this.abortUpload=void 0;case 15:case"end":return e.stop()}},null,this,[[0,11]])};d.cancel=function(){this.abortUpload&&this.abortUpload(),this.emit(b("ResumableUploadServiceState.enum").CANCEL)};d.decorateRequestFlowCaptureHeader=function(a){this.flowCaptureHeaderValue&&a.setRequestHeader("X-Fb-Flow-Capture",String(this.flowCaptureHeaderValue))};d.sendOffsetRequest=function(){var a=this;return new(b("Promise"))(function(c,d){var e=new(b("AsyncRequest"))().disableInteractionServerTracing().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(a.getUploadUri()).setReadOnly(!0).setRequestHeader("Authorization","OAuth "+a.accessToken).setHandler(function(a){return c(JSON.parse(a.payload.response))}).setErrorHandler(d).setOption("suppressEvaluation",!0).setTransportErrorHandler(function(c){a.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,c)});a.decorateRequestFlowCaptureHeader(e);a.abortUpload=function(){return e.abort()};e.send()})};d.sendUploadRequest=function(a,c){__p&&__p();var d=this;c=c||{};var e=c.offset;c=c.duplicate;var f=c?"":a.slice(e);return new(b("Promise"))(function(c,g){__p&&__p();var h=new(b("AsyncRequest"))().disableInteractionServerTracing().setAllowCrossOrigin(!0).setAllowCredentials(!0).setURI(d.getUploadUri()).setRawData(f).setHandler(function(a){return c(JSON.parse(a.payload.response))}).setErrorHandler(g).setRequestHeader("Authorization","OAuth "+d.accessToken).setRequestHeader("X-Entity-Name",encodeURIComponent(a.name)).setRequestHeader("X-Entity-Type",a.type).setRequestHeader("X-Entity-Length",String(a.size)).setRequestHeader("Offset",String(e)).setOption("suppressEvaluation",!0).setUploadProgressHandler(function(c){c=new ProgressEvent("upload-service",{total:a.size,loaded:c.loaded+Number(e)});d.emit(b("ResumableUploadServiceState.enum").PROGRESS,c)}).setTransportErrorHandler(function(a){d.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a)});d.decorateRequestFlowCaptureHeader(h);d.abortUpload=function(){return h.abort()};g=d.receiveParameters;g&&(h.setRequestHeader("start_offset",String(g.start_offset)).setRequestHeader("end_offset",String(g.end_offset)).setRequestHeader("composer_session_id",String(g.composer_session_id)).setRequestHeader("id",String(g.upload_session_id)),g.fb_region&&h.setRequestHeader("X-FB-Region",String(g.fb_region)));d.tracingHeaderValue&&h.setRequestHeader("x-fb-product-log",d.tracingHeaderValue);h.send()})};d.getUploadUri=function(){var a=this.getServiceName();a=new(g||(g=b("URI")))("https://"+a+"/"+this.consumer+"/"+this.sessionKey);this.contentKey&&this.contentValue&&(a=a.addQueryData(this.contentKey,this.contentValue));return a};d.getServiceName=function(){return this.serviceName+"."+this.serviceDomain};return c}(b("EventEmitter"));e.exports=a}),null);
__d("ResumableUploadService",["Promise","AsyncRequest","EventEmitter","ResumableUploadServiceState.enum","URI","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h="rupload",i="facebook.com";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,j,k,l,m,n,o,p){__p&&__p();var q;q=a.call(this)||this;q.consumer=c;q.accessToken=d;q.sessionKey=e||b("uuid")();q.contentKey=f||"";q.contentValue=g||"";q.serviceName=j&&j!=""?j:h;q.serviceDomain=k&&k!=""?k:i;q.receiveParameters=l;q.flowCaptureHeaderValue=m;q.skipOffsetFetching=n;q.additionalHeaders=(c=o)!=null?c:b("immutable").Map();q.tracingHeaderValue=p;return q}c.create=function(a){return new c(a.consumer,a.accessToken,a.sessionKey||"",a.contentKey,a.contentValue,a.serviceName,a.serviceDomain,a.receiveParameters,a.flowCaptureHeaderValue,a.skipOffsetFetching,a.additionalHeaders,a.tracingHeaderValue)};var d=c.prototype;d.resume=function(a){__p&&__p();var c=this,d=this.getServiceName(),e=new(g||(g=b("URI")))("https://"+d+"/"+this.consumer+"/"+this.sessionKey);this.contentKey&&this.contentValue&&(e=e.addQueryData(this.contentKey,this.contentValue));d=function(){return new(b("Promise"))(function(a,d){a=new(b("AsyncRequest"))().disableInteractionServerTracing().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(e).setReadOnly(!0).setHandler(a).setErrorHandler(d).setOption("suppressEvaluation",!0).setTransportErrorHandler(function(a){c.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a)});c.decorateRequestFlowCaptureHeader(a);a.send()})};var f=function(d){__p&&__p();return new(b("Promise"))(function(f,g){__p&&__p();var h=0;if(d!==void 0){var i=JSON.parse(d.payload.response);h=i.offset}c.emit(b("ResumableUploadServiceState.enum").START,{offset:h});c.uploadAsyncRequest=new(b("AsyncRequest"))().disableInteractionServerTracing().setAllowCrossOrigin(!0).setAllowCredentials(!0).setURI(e).setRawData(a.slice(h)).setHandler(f).setErrorHandler(g).setRequestHeader("X-Entity-Name",encodeURIComponent(a.name)).setRequestHeader("X-Entity-Type",a.type).setRequestHeader("X-Entity-Length",String(a.size)).setRequestHeader("Offset",String(h)).setOption("suppressEvaluation",!0).setUploadProgressHandler(function(d){d=new ProgressEvent("upload-service",{total:a.size,loaded:d.loaded+Number(h)});c.emit(b("ResumableUploadServiceState.enum").PROGRESS,d)}).setTransportErrorHandler(function(a){c.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a)});c.decorateRequestFlowCaptureHeader(c.uploadAsyncRequest);if(c.receiveParameters){i=c.receiveParameters;c.uploadAsyncRequest.setRequestHeader("start_offset",String(i.start_offset));c.uploadAsyncRequest.setRequestHeader("end_offset",String(i.end_offset));c.uploadAsyncRequest.setRequestHeader("composer_session_id",String(i.composer_session_id));c.uploadAsyncRequest.setRequestHeader("id",String(i.upload_session_id));c.uploadAsyncRequest.setRequestHeader("product_media_id",String(i.product_media_id));i.fb_region&&c.uploadAsyncRequest.setRequestHeader("X-FB-Region",String(i.fb_region));i.total_file_size&&c.uploadAsyncRequest.setRequestHeader("X-Total-Asset-Size",String(i.total_file_size))}c.additionalHeaders.size>0&&c.uploadAsyncRequest.setRequestHeader("X-Thrift-Params",JSON.stringify(c.additionalHeaders));c.tracingHeaderValue&&c.uploadAsyncRequest.setRequestHeader("x-fb-product-log",c.tracingHeaderValue);c.uploadAsyncRequest.send()})},h=function(a){if(a!=null){a=JSON.parse(a.payload.response);a.return_whole==null?c.emit(b("ResumableUploadServiceState.enum").SUCCESS,a.h):c.emit(b("ResumableUploadServiceState.enum").SUCCESS,a)}else c.emit(b("ResumableUploadServiceState.enum").FAIL,"uploading failed")},i=function(a){return c.emit(b("ResumableUploadServiceState.enum").FAIL,a)};d=this.skipOffsetFetching?b("Promise").resolve():d();return d.then(f,i).then(h,i)};d.getServiceName=function(){return this.serviceName+"."+this.serviceDomain};d.cancel=function(){this.uploadAsyncRequest&&this.uploadAsyncRequest.abort(),this.emit(b("ResumableUploadServiceState.enum").CANCEL)};d.decorateRequestFlowCaptureHeader=function(a){this.flowCaptureHeaderValue&&a.setRequestHeader("X-Fb-Flow-Capture",String(this.flowCaptureHeaderValue))};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoUploadLogger",["Banzai"],(function(a,b,c,d,e,f){__p&&__p();function g(a){this._source=a.source,this._composerDialogVersion=a.composer_dialog_version,this._waterfallID=a.waterfall_id,this._adAccountID=a.ad_account_id,this._targetID=a.target_id,this._delay=a.delay,this._times=[],this._isChunkedUpload=a.is_chunked_upload,this._actorID=a.actor_id,this._composerEntryPointRef=a.composer_entry_point_ref,this._composerWorkSharedDraftMode=a.composer_work_shared_draft_mode,this._isRemoteUpload=a.is_remote_upload,this._containerType=a.container_type,this._hasFileBeenReplaced=a.has_file_been_replaced}a={BANZAI_GK:"videos",BANZAI_ROUTE:"video_waterfall",SOURCE_SIMPLE:"simple",SOURCE_COMPOSER:"composer",EVENT_STARTED_GENERATE_THUMBNAILS:"upload.client.started_generate_thumbnails",EVENT_FINISHED_GENERATE_THUMBNAILS:"upload.client.finished_generate_thumbnails",EVENT_SELECTED_CUSTOM_THUMBNAIL:"upload.client.selected_custom_thumbnail",EVENT_VIDEO_DIMENSIONS_UNREADABLE:"upload.client.video_dimensions_unreadable",EVENT_REPLACE_VIDEO:"upload.client.replace_video",EVENT_STARTED_FLOW:"upload.client.started_flow",EVENT_FINISHED_FLOW:"upload.client.finished_flow",EVENT_FAILED_FLOW:"upload.client.failed_flow",EVENT_CANCELED_FLOW:"upload.client.canceled_flow",EVENT_RESIGNED_FLOW:"upload.client.resigned_flow",EVENT_REQUESTED_UPLOADING:"upload.client.requested_uploading",EVENT_INVALIDATED_UPLOADING:"upload.client.invalidated_uploading",EVENT_STARTED_UPLOADING:"upload.client.started_uploading",EVENT_PROGRESS_UPLOADING_START_REQUEST:"upload.client.progress_uploading_start_request",EVENT_FINISHED_UPLOADING:"upload.client.finished_uploading",EVENT_CANCELED_UPLOADING:"upload.client.canceled_uploading",EVENT_ABANDONED_UPLOADING:"upload.client.abandoned_uploading",EVENT_FAILED_UPLOADING:"upload.client.failed_uploading",EVENT_STARTED_SENDING_BYTES:"upload.client.started_sending_bytes",EVENT_FINISHED_SENDING_BYTES:"upload.client.finished_sending_bytes",EVENT_CANCELED_SENDING_BYTES:"upload.client.canceled_sending_bytes",EVENT_FAILED_SENDING_BYTES:"upload.client.failed_sending_bytes",EVENT_STARTED_START_REQUEST:"upload.client.started_sending_start_request",EVENT_FINISHED_START_REQUEST:"upload.client.finished_sending_start_request",EVENT_FAILED_START_REQUEST:"upload.client.failed_sending_start_request",EVENT_CANCELED_START_REQUEST:"upload.client.canceled_sending_start_request",EVENT_STARTED_RECEIVE_REQUEST:"upload.client.started_sending_receive_request",EVENT_FINISHED_RECEIVE_REQUEST:"upload.client.finished_sending_receive_request",EVENT_FAILED_RECEIVE_REQUEST:"upload.client.failed_sending_receive_request",EVENT_STARTED_POST_REQUEST:"upload.client.started_sending_post_request",EVENT_FINISHED_POST_REQUEST:"upload.client.finished_sending_post_request",EVENT_FAILED_POST_REQUEST:"upload.client.failed_sending_post_request",EVENT_HANDLING_SERVER_FAILURE_RESPONSE:"upload.client.handling_server_failure_response",EVENT_HANDLING_TRANSPORT_FAILURE_RESPONSE:"upload.client.handling_transport_failure_response",EVENT_DUPLICATE_POST_REQUEST:"upload.client.duplicate_post_request",EVENT_STARTED_SENDING_CHUNK_BYTES:"upload.client.started_sending_chunk_bytes",EVENT_FINISHED_SENDING_CHUNK_BYTES:"upload.client.finished_sending_chunk_bytes",EVENT_CANCELED_SENDING_CHUNK_BYTES:"upload.client.canceled_sending_chunk_bytes",EVENT_FAILED_SENDING_CHUNK_BYTES:"upload.client.failed_sending_chunk_bytes",EVENT_TIMEOUT_SENDING_CHUNK_BYTES:"upload.client.timeout_sending_chunk_bytes",EVENT_STARTED_FETCHING_STATUS:"upload.client.started_fetching_status",EVENT_FINISHED_FETCHING_STATUS:"upload.client.finished_fetching_status",EVENT_RESUMABLE_CALLED:"upload.client.resumable_called",EVENT_RESUMABLE_STARTED:"upload.client.resumable_started",EVENT_RESUMABLE_SUCCESS:"upload.client.resumable_success",EVENT_RESUMABLE_FAILED:"upload.client.resumable_failed",EVENT_ENCODING_START_OBSERVED:"encode.client.encoding_start_observed",EVENT_ENCODING_SUCCESS_OBSERVED:"encode.client.encoding_success_observed",EVENT_ENCODING_FAIL_OBSERVED:"encode.client.encoding_fail_observed",EVENT_ENCODING_ABORT_OBSERVED:"encode.client.encoding_abort_observed",EVENT_FETCH_FAIL_OBSERVED:"encode.client.fetch_video_info_fail_observed",EVENT_ENCODING_SUBSCRIBE_TO_VIDEO_STATUS:"encode.client.subscribe_to_video_status",EVENT_ENCODING_POLLING_FALLBACK:"encode.client.polling_fallback",EVENT_RECEIVED_RESPONSE:"upload.client.received_response",EVENT_STARTED_FLOW_EXP1:"upload.client.started_flow_exp1",EVENT_FINISHED_FLOW_EXP1:"upload.client.finished_flow_exp1",EVENT_CANCELED_FLOW_EXP1:"upload.client.canceled_flow_exp1",EVENT_MEASURE_FREE_LOCAL_STORAGE:"upload.client.free_local_storage",EVENT_ASYNC_STORAGE_WRITE_STARTED:"upload.client.async_storage_write_started",EVENT_ASYNC_STORAGE_WRITE_SUCCEEDED:"upload.client.async_storage_write_succeeded",EVENT_ASYNC_STORAGE_WRITE_FAILED:"upload.client.async_storage_write_failed",EVENT_ASYNC_STORAGE_READ_STARTED:"upload.client.async_storage_read_started",EVENT_ASYNC_STORAGE_READ_SUCCEEDED:"upload.client.async_storage_read_succeeded",EVENT_ASYNC_STORAGE_READ_FAILED:"upload.client.async_storage_read_failed",EVENT_ASYNC_STORAGE_DATA_CLEANED:"upload.client.async_storage_data_cleaned",EVENT_ASYNC_STORAGE_DATA_VALIDATE_FAILED:"upload.client.async_storage_data_validate_failed",EVENT_ASYNC_STORAGE_DATA_VALIDATE_SUCCEEDED:"upload.client.async_storage_data_validate_succeeded"};Object.assign(g,a);Object.assign(g.prototype,{logEvent:function(a,c){__p&&__p();c=babelHelpers["extends"]({},c);c.elapsed_time==null&&(a.indexOf("started")!==-1?this._times[a]=Date.now():a.indexOf("finished")!==-1?c.elapsed_time=this._computeElapsedTime(a,"finished"):a.indexOf("canceled")!==-1?c.elapsed_time=this._computeElapsedTime(a,"canceled"):a.indexOf("failed")!==-1&&(c.elapsed_time=this._computeElapsedTime(a,"failed")));c.event=a;c.source=this._source;c.composer_dialog_version=c.composer_dialog_version||this._composerDialogVersion;c.waterfall_id=this._waterfallID;c.ad_account_id=this._adAccountID;c.target_id=this._targetID;c.is_chunked_upload=this._isChunkedUpload;c.actor_id=this._actorID;c.composer_entry_point_ref=this._composerEntryPointRef;c.composer_work_shared_draft_mode=this._composerWorkSharedDraftMode;c.is_remote_upload=this._isRemoteUpload;c.container_type=this._containerType;c.has_file_been_replaced=this._hasFileBeenReplaced;c.trigger_time=Date.now();b("Banzai").post(g.BANZAI_ROUTE,c,{delay:this._delay,retry:!0})},getWaterfallID:function(){return this._waterfallID},_computeElapsedTime:function(a,b){a=a.replace(b,"started");b=this._times[a];return b?Date.now()-b:null}});e.exports=g}),null);
__d("VideoUploadCrashMonitor",["Bandicoot","VideoUploadLogger"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i){var j;j=a.call(this,"VideoUploadSession")||this;j.$VideoUploadCrashMonitor1={waterfallID:b,actorID:c,source:d,targetID:e,loggingDelay:f,supportsChunking:g,composerEntryPointRef:h,flowStarted:i};return j}var d=c.prototype;d.flowStarted=function(){this.$VideoUploadCrashMonitor1.flowStarted=!0};d.getCrashTimeData=function(){return this.$VideoUploadCrashMonitor1};d.logCrash=function(a,c,d){if(!c.waterfallID)return;a=new(b("VideoUploadLogger"))({actor_id:c.actorID,source:c.source,waterfall_id:c.waterfallID,target_id:c.targetID,delay:c.loggingDelay,is_chunked_upload:c.supportsChunking,composer_entry_point_ref:c.composerEntryPointRef});d={error:"Crash Detected",error_description:"Detected video upload did not complete due to a crash"};a.logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,d);c.flowStarted&&a.logEvent(b("VideoUploadLogger").EVENT_RESIGNED_FLOW,{})};return c}(b("Bandicoot"));e.exports=a}),null);
__d("VideoUploadFileValidator",["errorCode","fbt","requireCond","cr:909496","cr:909497","React"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("React"),j=[1363019,1363020,1363021,1363022,1363023,1363024,1363025,1363026,1363027,1363030,1363031,1363032,1363033,1363038,1363039,1363040,1363048],k=["VIDEO__INVALID_GUIDE_DATA"];a=function(){"use strict";__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.validate=function(a,b){return this.$2(a)&&this.$3(a)&&this.$4(a.getExtension()==="gif",b)};c.getValidationErrorMessage=function(a,b){return this.$5(a)||this.$6(a)||this.$7(a.getExtension()==="gif",b)};a.canReplaceVideoForError=function(a){if(!a)return!0;if(k.indexOf(a)>-1)return!1;return j.indexOf(a)>-1?!0:!1};c.$2=function(a){a=this.$5(a);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$5=function(a){if(this.$1.extensions[a.getExtension()])return;a="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?";a=i.jsx(b("cr:909497"),{target:"_blank",href:a,children:h._("recommended formats")});return{summary:h._("Unsupported File Format"),description:h._("Sorry, the file you selected is in a format that we don't support. Please use one of our {link} for video files.",[h._param("link",a)])}};c.$3=function(a){a=this.$6(a);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$6=function(a){var b;if(a.getSize()===null)return;a.getSize()<this.$1.minSize&&(b=this.$8());a.getSize()>this.$1.maxSize&&(b=this.$9());return b};c.$8=function(){var a=Math.round(this.$1.minSize/1024);return{summary:h._("Video File Too Small"),description:h._("The video file you tried to upload is too small. The minimum size for a video file is {min-size} KB. Please try again with a larger file.",[h._param("min-size",a)])}};c.$9=function(){var a=Math.floor(this.$1.maxSize/1024/1024);return{summary:h._("Video File Too Large"),description:h._("The video file you tried to upload is too large. The maximum size for a video file is {max-size} MB. Please try again with a smaller file.",[h._param("max-size",a)])}};c.$4=function(a,c){a=this.$7(a,c);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$7=function(a,b){__p&&__p();var c;if(!b)return;var d=b.format.duration;d&&(d>this.$1.maxLength&&(c=this.$10()),d<this.$1.minLength&&!a&&(c=this.$11()));if(!b.streams||!b.streams.primaryVideo)return;d=b.streams.primaryVideo.width;a=b.streams.primaryVideo.height;var e=0,f=0;b.videoPlayerData!==null&&(e=b.videoPlayerData.height,f=b.videoPlayerData.width);this.$1.acceptDimensionsFromPlayer&&f!==0&&e!==0&&(d=f,a=e);!b.streams.primaryVideo&&b.streams.primaryAudio&&(c=this.$12());d<this.$1.minWidth&&(c=this.$13());a<this.$1.minHeight&&(c=this.$14());f=d/a;this.$1.require16to9AspectRatio&&((f>2||f<1.6)&&(c=this.$15()));this.$1.minAspectRatio&&(f<this.$1.minAspectRatio&&(c=this.$16()));this.$1.maxAspectRatio&&(f>this.$1.maxAspectRatio&&(c=this.$17()));return c};c.$10=function(){if(this.$1.source==="profile_video")return{summary:h._("Profile Video Duration Too Long"),description:h._("The maximum length is {max-length} seconds. Please upload a shorter video.",[h._param("max-length",this.$1.maxLength)])};else return{summary:h._("Video Duration Too Long"),description:h._("The duration of the video you tried to upload is too long. The maximum duration for a video is {max-length} minutes. Please upload a shorter video.",[h._param("max-length",Math.round(this.$1.maxLength/60))])}};c.$11=function(){return{summary:h._("Video File Too Short"),description:h._({"second":"The duration of the video you tried to upload is too short. The minimum length for a video is {min-length} second. Please upload a longer video.","seconds":"The duration of the video you tried to upload is too short. The minimum length for a video is {min-length} seconds. Please upload a longer video."},[h._param("min-length",this.$1.minLength),h._enum(this.$1.minLength===1?"second":"seconds",{second:"second",seconds:"seconds"})])}};c.$12=function(){var a="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?";a=i.jsx(b("cr:909497"),{href:a,children:h._("supported video format")});return{summary:h._("No Video Detected"),description:h._("It looks like you're trying to upload a file that isn't a video. Please try uploading a {supported-video-format link}",[h._param("supported-video-format link",a)])}};c.$13=function(){return{summary:h._("Video Width Too Narrow"),description:h._("The width of the video you tried to upload is too short. The minimum width for a video is {min-width}. Please upload a wider video.",[h._param("min-width",this.$1.minWidth)])}};c.$15=function(){return{summary:h._("Problem Uploading Video"),description:h._("Videos look best when they have a 16:9 aspect ratio. Please edit your video and upload again.")}};c.$14=function(){return{summary:h._("Video Height Too Short"),description:h._("The height of the video you tried to upload is too short. The minimum height for a video is {min-height}. Please upload a taller video.",[h._param("min-height",this.$1.minHeight)])}};c.$17=function(){return{summary:h._("Video Too Wide"),description:h._("The video you selected is too wide. Aspect ratios for videos need to be between {max_aspect_ratio} and {min_aspect_ratio}. Please record and upload a taller video.",[h._param("max_aspect_ratio",this.$1.maxAspectRatio+":1"),h._param("min_aspect_ratio",this.$1.minAspectRatio+":1")])}};c.$16=function(){return{summary:h._("Video Too Tall"),description:h._("The video you selected is too tall. Aspect ratios for videos need to be between {max_aspect_ratio} and {min_aspect_ratio}. Please record and upload a narrower video.",[h._param("max_aspect_ratio",this.$1.maxAspectRatio+":1"),h._param("min_aspect_ratio",this.$1.minAspectRatio+":1")])}};return a}();e.exports=a}),null);
__d("VideoUploadRequest",["AsyncRequest","DOM","DTSG","FileForm","Form","VideoUploadFeatureDetector","emptyFunction","flattenPHPQueryData","submitForm"],(function(a,b,c,d,e,f){__p&&__p();var g="video";a=function(){"use strict";__p&&__p();function a(a){__p&&__p();this.$1=a;this.$2=null;this.$3=!1;this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$8=a=b("emptyFunction");this.$9=a;this.$10=a;this.$11=a;this.$12=null}var c=a.prototype;c.setAllowCrossOrigin=function(a){this.$3=a;return this};c.setData=function(a){this.$4=a;return this};c.setWaterfallID=function(a){this.$6=a;return this};c.setSuccessHandler=function(a){this.$8=a;return this};c.setErrorHandler=function(a){this.$9=a;return this};c.setTransportErrorHandler=function(a){this.$10=a;return this};c.setUploadProgressHandler=function(a){this.$11=a;return this};c.setTimeoutHandler=function(a,b){this.$7=a;this.$12=b;return this};c.setThumbnail=function(a){this.$13=a;return this};c.setCustomProfileImage=function(a){this.$14=a;return this};c.setCustomBackgroundImage=function(a){this.$15=a;return this};c.setFeedBackgroundImage=function(a){this.$16=a;return this};c.setHandle=function(a){this.$5=a;return this};c.setCaptions=function(a){this.$17=a;return this};c.setPollOptionImages=function(a){this.$18=a;return this};c.send=function(){__p&&__p();if(this.$2)throw new Error("An upload request is already in progress.");if(b("VideoUploadFeatureDetector").supportsXHR()){this.$2=this.$19();if(this.$13||this.$17||this.$14||this.$15||this.$16||this.$18){var a=new FormData();this.$13&&a.append("thumb",this.$13);this.$14&&a.append("schedule_custom_profile_image",this.$14);this.$15&&a.append("schedule_custom_background_image",this.$15);this.$16&&a.append("schedule_feed_background_image",this.$16);this.$17&&this.$17.forEach(function(b,c){c=b.getIsDefault()?"captions_default":"captions_file"+c;a.append(c,b.getFile())});if(this.$18){var c=this.$18;Object.keys(c).forEach(function(b){a.append(b,c[b])})}if(this.$4){var d=b("flattenPHPQueryData")(this.$4);Object.keys(d).forEach(function(b){a.append(b,d[b])})}this.$2.setRawData(a)}this.$2.send()}else this.$2=this.$20(),this.$21(this.$2)};c.sendChunk=function(a){if(this.$2)throw new Error("An upload request is already in progress.");var b=new FormData();this.$5?b.append("fbuploader_video_file_chunk",this.$5):b.append("video_file_chunk",a);this.$2=this.$19();this.$2.setRawData(b);this.$2.send()};c.sendFile=function(a){__p&&__p();if(this.$2)throw new Error("An upload request is already in progress.");this.$2=this.$20();var c=a.cloneNode(!1);a.name=g;b("DOM").replace(a,c);b("DOM").appendContent(this.$2.getRoot(),a);this.$21(this.$2);a.name=c.name;b("DOM").replace(c,a)};c.abort=function(){if(!this.$2)return;this.$2.abort();this.$2=null};c.$19=function(){var a=this.__getAsyncRequest().setAllowCrossOrigin(this.$3).setURI(this.$1).setData(this.$4).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",this.$6).setHandler(this.$8).setErrorHandler(this.$9).setTransportErrorHandler(this.$10).setUploadProgressHandler(this.$11);this.$12&&a.setTimeoutHandler(this.$7,this.$12);return a};c.__getAsyncRequest=function(){return new(b("AsyncRequest"))()};c.$20=function(){var a=b("DOM").create("form",{action:this.$1,method:"POST"});b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this.$4),a);a=new(b("FileForm"))(a,null,{allowCrossOrigin:this.$3});a.subscribe("success",this.$22.bind(this));a.subscribe("failure",this.$23.bind(this));a.subscribe("progress",this.$24.bind(this));return a};c.$21=function(a){b("DOM").appendContent(document.body,a.getRoot()),b("submitForm")(a.getRoot())};c.$22=function(a,b){this.$8(b.response)};c.$23=function(a,b){this.$9(b.response)};c.$24=function(a,b){this.$11(b.event)};return a}();e.exports=a}),null);
__d("VideoUploadRequestContext",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$13=!1,this.$20=0,this.$21=!1,this.$22=!1,this.$25=!1,this.reset()}var b=a.prototype;b.setFile=function(a){this.$1=a;return this};b.getFile=function(){return this.$1};b.setMetadata=function(a){this.$23=a;return this};b.getMetadata=function(){return this.$23};b.setVideoID=function(a){this.$2=a;return this};b.getVideoID=function(){return this.$2};b.setUploadSessionID=function(a){this.$3=a;return this};b.getUploadSessionID=function(){return this.$3};b.setFbRegion=function(a){this.$4=a;return this};b.getFbRegion=function(){return this.$4};b.setStartOffset=function(a){this.$5=a;return this};b.getStartOffset=function(){return this.$5};b.setEndOffset=function(a){this.$6=a;return this};b.getEndOffset=function(){return this.$6};b.setPartitionStartOffset=function(a){this.$16=a;return this};b.getPartitionStartOffset=function(){return this.$16};b.setPartitionEndOffset=function(a){this.$17=a;return this};b.getPartitionEndOffset=function(){return this.$17};b.setPartitionNo=function(a){this.$18=a;return this};b.getPartitionNo=function(){return this.$18};b.setTargetID=function(a){this.$7=a;return this};b.getTargetID=function(){return this.$7};b.setSource=function(a){this.$8=a;return this};b.setComposerDialogVersion=function(a){this.$9=a;return this};b.getComposerDialogVersion=function(){return this.$9};b.getSource=function(){return this.$8};b.setWaterfallID=function(a){this.$10=a;return this};b.getWaterfallID=function(){return this.$10};b.setComposerEntryPointRef=function(a){this.$11=a;return this};b.getComposerEntryPointRef=function(){return this.$11};b.setComposerWorkSharedDraftMode=function(a){this.$12=a;return this};b.getComposerWorkSharedDraftMode=function(){return this.$12};b.setHasFileBeenReplaced=function(a){this.$13=a;return this};b.getHasFileBeenReplaced=function(){return this.$13};b.setSupportsChunking=function(a){this.$14=a;return this};b.getSupportsChunking=function(){return this.$14};b.setSupportsFileAPI=function(a){this.$15=a;return this};b.getSupportsFileAPI=function(){return this.$15};b.setCreatorProduct=function(a){this.$19=a;return this};b.getCreatorProduct=function(){return this.$19};b.setLastKnownUploadSpeed=function(a){this.$20=a;return this};b.getLastKnownUploadSpeed=function(){return this.$20||0};b.setUseParallelChunks=function(a){this.$21=a;return this};b.getUseParallelChunks=function(){return this.$21};b.setIsSphericalVideo=function(a){this.$22=a;return this};b.getIsSphericalVideo=function(){return this.$22};b.setSphericalMetadata=function(a){this.$24=a;return this};b.getSphericalMetadata=function(){return this.$24};b.setEnableOmnistab=function(a){this.$25=a;return this};b.getEnableOmnistab=function(){return this.$25};b.setClientChunkSize=function(a){this.$26=a;return this};b.getClientChunkSize=function(){return this.$26};b.setVideoPublisherActionSource=function(a){this.$27=a;return this};b.getVideoPublisherActionSource=function(){return this.$27};b.reset=function(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null,this.$12=null,this.$13=!1,this.$14=null,this.$15=null,this.$16=null,this.$17=null,this.$18=null,this.$19=null,this.$20=0,this.$21=!1,this.$22=!1,this.$23={},this.$24={},this.$25=!1,this.$26=null,this.$27={}};return a}();e.exports=a}),null);
__d("VideoUploadPostRequestManager",["requireCond","cr:909282","VideoUploadLogger","VideoUploadRequest","clearTimeout","mixin","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f){__p&&__p();var g;g=a.call(this)||this;g.$VideoUploadPostRequestManager2=b;g.$VideoUploadPostRequestManager3=c;g.$VideoUploadPostRequestManager4=d;g.$VideoUploadPostRequestManager5=0;g.$VideoUploadPostRequestManager6=e;g.$VideoUploadPostRequestManager7=f;g.$VideoUploadPostRequestManager8=0;return g}var d=c.prototype;d.$VideoUploadPostRequestManager9=function(){return this.$VideoUploadPostRequestManager1?new(b("VideoUploadLogger"))({source:this.$VideoUploadPostRequestManager1.getSource(),waterfall_id:this.$VideoUploadPostRequestManager1.getWaterfallID(),target_id:this.$VideoUploadPostRequestManager1.getTargetID(),composer_entry_point_ref:this.$VideoUploadPostRequestManager1.getComposerEntryPointRef&&this.$VideoUploadPostRequestManager1.getComposerEntryPointRef()}):null};d.getRequest=function(){return this.$VideoUploadPostRequestManager10};d.sendRequest=function(a){__p&&__p();this.$VideoUploadPostRequestManager1=a;if(this.$VideoUploadPostRequestManager10){var c=this.$VideoUploadPostRequestManager9();c&&c.logEvent(b("VideoUploadLogger").EVENT_DUPLICATE_POST_REQUEST);return}this.$VideoUploadPostRequestManager11=babelHelpers["extends"]({},a.getMetadata(),this.__createRequestData(a));this.$VideoUploadPostRequestManager12=this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager13=this.$VideoUploadPostRequestManager11.schedule_custom_profile_image;this.$VideoUploadPostRequestManager14=this.$VideoUploadPostRequestManager11.schedule_custom_background_image;this.$VideoUploadPostRequestManager15=this.$VideoUploadPostRequestManager11.schedule_feed_background_image;delete this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager16=this.$VideoUploadPostRequestManager11.captions;delete this.$VideoUploadPostRequestManager11.captions;this.$VideoUploadPostRequestManager17=a.getWaterfallID();this.$VideoUploadPostRequestManager18=this.$VideoUploadPostRequestManager11.pollImages;this.$VideoUploadPostRequestManager19();this.inform("request-started")};d.$VideoUploadPostRequestManager19=function(){b("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=null,this.$VideoUploadPostRequestManager10=this.__getVideoUploadRequest(this.$VideoUploadPostRequestManager2).setAllowCrossOrigin(!0).setData(this.$VideoUploadPostRequestManager11).setThumbnail(this.$VideoUploadPostRequestManager12).setCustomProfileImage(this.$VideoUploadPostRequestManager13).setCustomBackgroundImage(this.$VideoUploadPostRequestManager14).setFeedBackgroundImage(this.$VideoUploadPostRequestManager15).setCaptions(this.$VideoUploadPostRequestManager16).setWaterfallID(this.$VideoUploadPostRequestManager17).setPollOptionImages(this.$VideoUploadPostRequestManager18).setSuccessHandler(this.$VideoUploadPostRequestManager21.bind(this)).setErrorHandler(this.$VideoUploadPostRequestManager22.bind(this)).setTransportErrorHandler(this.$VideoUploadPostRequestManager23.bind(this)),this.$VideoUploadPostRequestManager10.send()};d.__createRequestData=function(a){return{video_id:a.getVideoID(),target_id:a.getTargetID(),source:a.getSource(),waterfall_id:a.getWaterfallID(),creator_product:a.getCreatorProduct(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking()}};d.__getVideoUploadRequest=function(a){return new(b("VideoUploadRequest"))(a)};d.clearRequest=function(){this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager8=0,this.$VideoUploadPostRequestManager5=0};d.isInProgress=function(){return!!this.$VideoUploadPostRequestManager10};d.$VideoUploadPostRequestManager24=function(a){b("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=b("setTimeout")(this.$VideoUploadPostRequestManager19.bind(this),a)};d.$VideoUploadPostRequestManager25=function(a,b){return Math.pow(a,b)*1e3};d.$VideoUploadPostRequestManager21=function(a){a=a.getPayload();this.inform("request-finished",{video_id:a.video_id,video_asset_id:a.video_asset_id,container_type:a.container_type,transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,premiere_destination_video_id:a.premiere_destination_video_id});this.clearRequest()};d.$VideoUploadPostRequestManager26=function(a){this.inform("request-failed",{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,error_is_transient:a.isTransient()}),this.clearRequest()};d.$VideoUploadPostRequestManager22=function(a){this.$VideoUploadPostRequestManager10=null;this.$VideoUploadPostRequestManager5=0;var c=this.$VideoUploadPostRequestManager9();if(c){var d={server_retries:this.$VideoUploadPostRequestManager8,extra_data:{failure_is_transient:a.isTransient()}};c.logEvent(b("VideoUploadLogger").EVENT_HANDLING_SERVER_FAILURE_RESPONSE,d)}a.isTransient()&&this.$VideoUploadPostRequestManager8<this.$VideoUploadPostRequestManager6?(this.$VideoUploadPostRequestManager8++,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager7,this.$VideoUploadPostRequestManager8))):this.$VideoUploadPostRequestManager26(a)};d.$VideoUploadPostRequestManager23=function(a){var c=this.$VideoUploadPostRequestManager9();if(c){var d={extra_data:{transport_retries:this.$VideoUploadPostRequestManager5}};c.logEvent(b("VideoUploadLogger").EVENT_HANDLING_TRANSPORT_FAILURE_RESPONSE,d)}this.$VideoUploadPostRequestManager3===0||this.$VideoUploadPostRequestManager5>=this.$VideoUploadPostRequestManager3?this.$VideoUploadPostRequestManager26(a):(this.$VideoUploadPostRequestManager5++,this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager4,this.$VideoUploadPostRequestManager5)))};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadConnectionMonitor",["requireCond","cr:909282","Network","VideoUploadFeatureDetector","debounce","mixin","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$VideoUploadConnectionMonitor1=!1;c.$VideoUploadConnectionMonitor2=[];c.$VideoUploadConnectionMonitor3=!1;c.$VideoUploadConnectionMonitor4=!0;c.$VideoUploadConnectionMonitor5=b("debounce")(function(){this.$VideoUploadConnectionMonitor6(!1)}.bind(babelHelpers.assertThisInitialized(c)),2e3);return c}var d=c.prototype;d.notifyStart=function(){if(this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor2.length===0&&(this.$VideoUploadConnectionMonitor2.push(b("Network").addListener("online",function(){this.$VideoUploadConnectionMonitor6(!0)}.bind(this))),this.$VideoUploadConnectionMonitor2.push(b("Network").addListener("offline",function(){this.$VideoUploadConnectionMonitor1?this.$VideoUploadConnectionMonitor5():(this.$VideoUploadConnectionMonitor5.reset(),b("setTimeout")(this.$VideoUploadConnectionMonitor5,2e3))}.bind(this))));this.$VideoUploadConnectionMonitor3=!0};d.notifyProgress=function(a){if(!this.$VideoUploadConnectionMonitor3)return;if(!a)return;b("VideoUploadFeatureDetector").supportsFullProgress()&&(this.$VideoUploadConnectionMonitor1=!0,a.total&&a.loaded===a.total?this.$VideoUploadConnectionMonitor5.reset():this.$VideoUploadConnectionMonitor5())};d.notifySuccess=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(!0)};d.notifyTransportError=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor3=!1;this.$VideoUploadConnectionMonitor6(!1)};d.notifyError=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(!0)};d.isOnline=function(){return this.$VideoUploadConnectionMonitor4};d.reset=function(){while(this.$VideoUploadConnectionMonitor2.length)this.$VideoUploadConnectionMonitor2.pop().remove();this.$VideoUploadConnectionMonitor5.reset();this.$VideoUploadConnectionMonitor3=!1};d.$VideoUploadConnectionMonitor6=function(a){this.$VideoUploadConnectionMonitor5.reset(),this.$VideoUploadConnectionMonitor4!==a&&(this.$VideoUploadConnectionMonitor4=a,this.$VideoUploadConnectionMonitor4?this.inform("online"):this.inform("offline"))};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadReceiveRequestManager",["fbt","requireCond","cr:909282","BanzaiODS","ResumableUploadAsyncService","ResumableUploadService","ResumableUploadServiceState.enum","VideoUploadConnectionMonitor","VideoUploadRequest","clearTimeout","md5","mixin","setTimeout","uuid"],(function(a,b,c,d,e,f,g){__p&&__p();var h=1363037,i={INITIAL:"initial",NEXT_CHUNK:"next chunk",INVALID_OFFSET_RETRY:"invalid offset retry",SERVER_FAILURE_RETRY:"server failure retry",TRANSPORT_FAILURE_RETRY:"transport failure retry",TIMEOUT_RETRY:"timeout retry",BACK_ONLINE:"back online"};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){__p&&__p();var A;m===void 0&&(m="");n===void 0&&(n=!1);o===void 0&&(o=!1);p===void 0&&(p=null);q===void 0&&(q=null);r===void 0&&(r=null);s===void 0&&(s=0);t===void 0&&(t=!1);u===void 0&&(u=!1);v===void 0&&(v=!1);w===void 0&&(w=!1);x===void 0&&(x=!1);y===void 0&&(y=!1);z===void 0&&(z=0);A=a.call(this)||this;A.$VideoUploadReceiveRequestManager1=c;A.$VideoUploadReceiveRequestManager2=d;A.$VideoUploadReceiveRequestManager3=e!=null?e:0;A.$VideoUploadReceiveRequestManager4=f;A.$VideoUploadReceiveRequestManager5=g;A.$VideoUploadReceiveRequestManager6=h;A.$VideoUploadReceiveRequestManager7=i;A.$VideoUploadReceiveRequestManager8=j;A.$VideoUploadReceiveRequestManager9=k;A.$VideoUploadReceiveRequestManager10=l;A.$VideoUploadReceiveRequestManager11=0;A.$VideoUploadReceiveRequestManager14=0;A.$VideoUploadReceiveRequestManager15=0;A.$VideoUploadReceiveRequestManager16=null;A.$VideoUploadReceiveRequestManager17=null;A.$VideoUploadReceiveRequestManager18=0;A.$VideoUploadReceiveRequestManager19="constructed";A.$VideoUploadReceiveRequestManager13=null;A.$VideoUploadReceiveRequestManager20=null;A.$VideoUploadReceiveRequestManager21=null;A.$VideoUploadReceiveRequestManager22=m;A.$VideoUploadReceiveRequestManager24=o;A.$VideoUploadReceiveRequestManager23=n;A.$VideoUploadReceiveRequestManager25=p;A.$VideoUploadReceiveRequestManager26=!1;A.$VideoUploadReceiveRequestManager27=q;A.$VideoUploadReceiveRequestManager30=t;A.$VideoUploadReceiveRequestManager31=u;A.$VideoUploadReceiveRequestManager32=v;A.$VideoUploadReceiveRequestManager29=s;A.$VideoUploadReceiveRequestManager33=w;A.$VideoUploadReceiveRequestManager28=r;A.$VideoUploadReceiveRequestManager34=x;A.$VideoUploadReceiveRequestManager12=b("uuid")();A.$VideoUploadReceiveRequestManager35=y;A.$VideoUploadReceiveRequestManager36=z;A.$VideoUploadReceiveRequestManager41=null;A.$VideoUploadReceiveRequestManager42=null;A.$VideoUploadReceiveRequestManager40=!1;A.$VideoUploadReceiveRequestManager39=null;A.$VideoUploadReceiveRequestManager37=new(b("VideoUploadConnectionMonitor"))();A.$VideoUploadReceiveRequestManager37.subscribe("online",A.$VideoUploadReceiveRequestManager50.bind(babelHelpers.assertThisInitialized(A)));A.$VideoUploadReceiveRequestManager37.subscribe("offline",A.$VideoUploadReceiveRequestManager51.bind(babelHelpers.assertThisInitialized(A)));return A}var d=c.prototype;d.updateVideoID=function(a){if(this.$VideoUploadReceiveRequestManager38.getVideoID())return;this.$VideoUploadReceiveRequestManager38.setVideoID(a);this.$VideoUploadReceiveRequestManager45&&this.$VideoUploadReceiveRequestManager45.setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager38));this.$VideoUploadReceiveRequestManager52()};d.isResumabilityEnabled=function(){return this.$VideoUploadReceiveRequestManager23};d.isResumableServiceProxyReceiveEnabled=function(){return this.$VideoUploadReceiveRequestManager30};d.sendRequest=function(a){this.$VideoUploadReceiveRequestManager19="sending request";if(this.$VideoUploadReceiveRequestManager45){this.$VideoUploadReceiveRequestManager19="request already in progress";return}this.$VideoUploadReceiveRequestManager18=a.getEndOffset()-a.getStartOffset();this.$VideoUploadReceiveRequestManager38=a;this.$VideoUploadReceiveRequestManager53(i.INITIAL)};d.cancelRequest=function(){if(!this.$VideoUploadReceiveRequestManager45)return;this.$VideoUploadReceiveRequestManager45.abort();this.$VideoUploadReceiveRequestManager21!==void 0&&this.$VideoUploadReceiveRequestManager21!==null&&this.$VideoUploadReceiveRequestManager21.cancel();this.$VideoUploadReceiveRequestManager54();this.inform("request-canceled")};d.appendStateLogData=function(a,b){a[b+"request_manager_state"]=this.$VideoUploadReceiveRequestManager19,a[b+"upload_speed"]=this.$VideoUploadReceiveRequestManager17,a[b+"transport_retries"]=this.$VideoUploadReceiveRequestManager11,a[b+"server_retries"]=this.$VideoUploadReceiveRequestManager14,a[b+"timeout_retries"]=this.$VideoUploadReceiveRequestManager15,a[b+"last_timeout_value"]=this.$VideoUploadReceiveRequestManager43,a[b+"last_request_start_time"]=this.$VideoUploadReceiveRequestManager16,a[b+"pending_request"]=this.$VideoUploadReceiveRequestManager45!=null,a[b+"pending_timer"]=this.$VideoUploadReceiveRequestManager46!=null,a[b+"cached_chunk"]=this.$VideoUploadReceiveRequestManager44!=null,a[b+"early_receive_start"]=this.$VideoUploadReceiveRequestManager40,this.$VideoUploadReceiveRequestManager38!=null&&(a[b+"start_offset"]=this.$VideoUploadReceiveRequestManager38.getStartOffset(),a[b+"end_offset"]=this.$VideoUploadReceiveRequestManager38.getEndOffset(),a[b+"partition_start_offset"]=this.$VideoUploadReceiveRequestManager38.getPartitionStartOffset(),a[b+"partition_end_offset"]=this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()),this.$VideoUploadReceiveRequestManager37!=null&&(a[b+"connection_monitor_online"]=this.$VideoUploadReceiveRequestManager37.isOnline())};d.getHostName=function(a){try{return new URL(a).hostname}catch(a){return null}};d.$VideoUploadReceiveRequestManager54=function(){this.$VideoUploadReceiveRequestManager45=null,this.$VideoUploadReceiveRequestManager44=null,this.$VideoUploadReceiveRequestManager11=0,this.$VideoUploadReceiveRequestManager14=0,this.$VideoUploadReceiveRequestManager12=b("uuid")(),this.$VideoUploadReceiveRequestManager15=0,this.$VideoUploadReceiveRequestManager16=null,this.$VideoUploadReceiveRequestManager17=null,this.$VideoUploadReceiveRequestManager18=0,this.$VideoUploadReceiveRequestManager41=null,this.$VideoUploadReceiveRequestManager42=null,this.$VideoUploadReceiveRequestManager40=!1,this.$VideoUploadReceiveRequestManager26=!1,this.$VideoUploadReceiveRequestManager39=null,this.$VideoUploadReceiveRequestManager38.reset(),this.$VideoUploadReceiveRequestManager37.reset(),b("clearTimeout")(this.$VideoUploadReceiveRequestManager46),this.$VideoUploadReceiveRequestManager46=null};d.$VideoUploadReceiveRequestManager53=function(a,c){__p&&__p();b("clearTimeout")(this.$VideoUploadReceiveRequestManager46);this.$VideoUploadReceiveRequestManager46=null;this.$VideoUploadReceiveRequestManager20=a;this.$VideoUploadReceiveRequestManager13=b("uuid")();if(this.$VideoUploadReceiveRequestManager38.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager38.getStartOffset()>=this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()){!c?(this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset()-1,end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}}),this.$VideoUploadReceiveRequestManager19="request finished - notified"):this.$VideoUploadReceiveRequestManager19="request finished - not notified";return}this.$VideoUploadReceiveRequestManager45=this.__getVideoUploadRequest(this.$VideoUploadReceiveRequestManager1).setAllowCrossOrigin(!0).setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager38)).setWaterfallID(this.$VideoUploadReceiveRequestManager38.getWaterfallID()).setSuccessHandler(this.__handleSuccessResponse.bind(this)).setErrorHandler(this.__handleServerFailureResponse.bind(this)).setTransportErrorHandler(this.$VideoUploadReceiveRequestManager55.bind(this));this.$VideoUploadReceiveRequestManager23||this.$VideoUploadReceiveRequestManager45.setUploadProgressHandler(this.$VideoUploadReceiveRequestManager56.bind(this));this.$VideoUploadReceiveRequestManager16=Date.now();this.$VideoUploadReceiveRequestManager39=this.getHostName(this.$VideoUploadReceiveRequestManager1);a=!1;if(this.$VideoUploadReceiveRequestManager38.getSupportsChunking()){if(this.$VideoUploadReceiveRequestManager5){c=this.$VideoUploadReceiveRequestManager57(this.$VideoUploadReceiveRequestManager38.getEndOffset()-this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager17);this.$VideoUploadReceiveRequestManager45.setTimeoutHandler(c,this.__handleResponseTimeout.bind(this));this.$VideoUploadReceiveRequestManager19="sending chunk with timeout = "+c;this.$VideoUploadReceiveRequestManager43=c}else this.$VideoUploadReceiveRequestManager19="sending chunk without timeout";c=this.$VideoUploadReceiveRequestManager58();if(c===null||c===void 0){this.$VideoUploadReceiveRequestManager59({error_description:"Provided chunk is null.",error_is_transient:!1});return}else this.$VideoUploadReceiveRequestManager23&&this.$VideoUploadReceiveRequestManager29<this.$VideoUploadReceiveRequestManager38.getFile().getSize()?(a=!0,this.$VideoUploadReceiveRequestManager60(c)):this.$VideoUploadReceiveRequestManager45.sendChunk(c)}else this.$VideoUploadReceiveRequestManager19="sending file",this.$VideoUploadReceiveRequestManager45.sendFile(this.$VideoUploadReceiveRequestManager38.getFile().getFileInput());this.$VideoUploadReceiveRequestManager61(a);this.$VideoUploadReceiveRequestManager37.notifyStart();this.inform("request-started",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}})};d.$VideoUploadReceiveRequestManager61=function(a){(this.$VideoUploadReceiveRequestManager38.getSource()==="create_flow"||this.$VideoUploadReceiveRequestManager38.getSource()==="ads_interfaces")&&b("BanzaiODS").bumpEntityKey(2966,"video_ads_upload",a?"upload_service":"graph_api")};d.$VideoUploadReceiveRequestManager62=function(a,b){!this.$VideoUploadReceiveRequestManager38.getVideoID()?(this.$VideoUploadReceiveRequestManager41=a,this.$VideoUploadReceiveRequestManager42=b):a(b)};d.$VideoUploadReceiveRequestManager52=function(){this.$VideoUploadReceiveRequestManager41&&(this.$VideoUploadReceiveRequestManager41(this.$VideoUploadReceiveRequestManager42),this.$VideoUploadReceiveRequestManager41=null,this.$VideoUploadReceiveRequestManager42=null)};d.$VideoUploadReceiveRequestManager60=function(a){__p&&__p();var c=this.$VideoUploadReceiveRequestManager38.getFile(),d=c.getFile().lastModified+c.getFile().name+c.getFile().type+this.$VideoUploadReceiveRequestManager63();d=String(b("md5")(d))+"-"+this.$VideoUploadReceiveRequestManager38.getStartOffset()+"-"+this.$VideoUploadReceiveRequestManager38.getEndOffset();var e=this.$VideoUploadReceiveRequestManager14+this.$VideoUploadReceiveRequestManager11+this.$VideoUploadReceiveRequestManager15;c=this.$VideoUploadReceiveRequestManager35&&this.$VideoUploadReceiveRequestManager36<c.getSize()?["video_upload_www",[this.$VideoUploadReceiveRequestManager12,String(e)].join("_"),[String(this.$VideoUploadReceiveRequestManager38.getWaterfallID()),String(this.$VideoUploadReceiveRequestManager38.getVideoID())].join("_")].join(":"):null;this.isResumabilityEnabled()&&this.$VideoUploadReceiveRequestManager25&&this.$VideoUploadReceiveRequestManager11>this.$VideoUploadReceiveRequestManager2/3&&(this.$VideoUploadReceiveRequestManager26=!0);e="fb_video";this.$VideoUploadReceiveRequestManager30&&(e="fb_video2");var f=null;if(this.$VideoUploadReceiveRequestManager30||this.$VideoUploadReceiveRequestManager31){var g={};g.start_offset=this.$VideoUploadReceiveRequestManager38.getStartOffset();g.end_offset=this.$VideoUploadReceiveRequestManager38.getEndOffset();g.composer_session_id=this.$VideoUploadReceiveRequestManager38.getWaterfallID();g.upload_session_id=this.$VideoUploadReceiveRequestManager38.getUploadSessionID();g.product_media_id=this.$VideoUploadReceiveRequestManager38.getVideoID();g.fb_region=this.$VideoUploadReceiveRequestManager38.getFbRegion();this.$VideoUploadReceiveRequestManager32&&(g.total_file_size=this.$VideoUploadReceiveRequestManager38.getFile().getSize());f=g}g={};g.consumer=e;g.accessToken=this.$VideoUploadReceiveRequestManager22;g.sessionKey=d;g.serviceName=this.$VideoUploadReceiveRequestManager26?null:this.$VideoUploadReceiveRequestManager25;g.serviceDomain=this.$VideoUploadReceiveRequestManager27;g.receiveParameters=f;g.flowCaptureHeaderValue=this.$VideoUploadReceiveRequestManager34?this.$VideoUploadReceiveRequestManager38.getWaterfallID():null;g.tracingHeaderValue=c;this.$VideoUploadReceiveRequestManager24?e=b("ResumableUploadAsyncService").create(g):e=b("ResumableUploadService").create(g);this.$VideoUploadReceiveRequestManager21=e;this.$VideoUploadReceiveRequestManager39=e.getServiceName();this.$VideoUploadReceiveRequestManager64();e.resume(a);this.inform("resumable-called",{debug:{single_request_id:this.$VideoUploadReceiveRequestManager13}})};d.$VideoUploadReceiveRequestManager64=function(){__p&&__p();var a=this;this.$VideoUploadReceiveRequestManager38.getVideoID()||(this.$VideoUploadReceiveRequestManager40=!0);var c=this.$VideoUploadReceiveRequestManager21;if(c===null||c===void 0)return;c.addListener(b("ResumableUploadServiceState.enum").START,function(b){a.inform("resumable-started",{resume_from_offset:b.offset,debug:{single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo()}})});this.$VideoUploadReceiveRequestManager47=function(b){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),debug:{error_source:"service",single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo()}}),a.__handleServerFailureResponse(b)};c.addListener(b("ResumableUploadServiceState.enum").FAIL,function(b){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager47,b)});this.$VideoUploadReceiveRequestManager48=function(b){!a.$VideoUploadReceiveRequestManager30?(a.$VideoUploadReceiveRequestManager45.setHandle(b),a.$VideoUploadReceiveRequestManager45.sendChunk(null)):a.__handleSuccessResponsePayload({start_offset:a.$VideoUploadReceiveRequestManager38.getEndOffset(),end_offset:a.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()}),a.inform("resumable-success",{everstore_handle:b,debug:{single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo()}})};c.addListener(b("ResumableUploadServiceState.enum").SUCCESS,function(b){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager48,b)});this.$VideoUploadReceiveRequestManager49=function(b){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),debug:{error_source:"transport",single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo()}}),a.$VideoUploadReceiveRequestManager55(b)};c.addListener(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,function(b){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager49,b)});c.addListener(b("ResumableUploadServiceState.enum").PROGRESS,function(b){a.$VideoUploadReceiveRequestManager33&&(a.$VideoUploadReceiveRequestManager11=0),a.$VideoUploadReceiveRequestManager56(b)})};d.__getVideoUploadRequest=function(a){return new(b("VideoUploadRequest"))(a)};d.$VideoUploadReceiveRequestManager65=function(a,c){this.$VideoUploadReceiveRequestManager19="setting request to send after"+c,b("clearTimeout")(this.$VideoUploadReceiveRequestManager46),this.$VideoUploadReceiveRequestManager46=b("setTimeout")(this.$VideoUploadReceiveRequestManager53.bind(this,a),c)};d.$VideoUploadReceiveRequestManager58=function(){if(this.$VideoUploadReceiveRequestManager44)return this.$VideoUploadReceiveRequestManager44;var a=this.$VideoUploadReceiveRequestManager38.getFile();if(this.$VideoUploadReceiveRequestManager23){var b=a.getFile();this.$VideoUploadReceiveRequestManager44=b?b.slice(this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager38.getEndOffset(),"application/octet-stream"):null}else this.$VideoUploadReceiveRequestManager44=a.getChunk(this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager38.getEndOffset());return this.$VideoUploadReceiveRequestManager44};d.__createRequestData=function(a){return{video_id:a.getVideoID(),start_offset:a.getStartOffset(),end_offset:a.getEndOffset(),source:a.getSource(),target_id:a.getTargetID(),waterfall_id:a.getWaterfallID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),upload_speed:this.$VideoUploadReceiveRequestManager17,partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset()}};d.__handleSuccessResponse=function(a){a=a.getPayload();this.__handleSuccessResponsePayload(a)};d.__handleSuccessResponsePayload=function(a){__p&&__p();this.$VideoUploadReceiveRequestManager19="success response received";var c=Date.now()-(this.$VideoUploadReceiveRequestManager16||0);c=c===0?1:c;if(a.start_offset===this.$VideoUploadReceiveRequestManager38.getEndOffset()){var d=this.$VideoUploadReceiveRequestManager38.getEndOffset()-this.$VideoUploadReceiveRequestManager38.getStartOffset();this.$VideoUploadReceiveRequestManager17=Math.floor(d/c)}else this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager37.notifySuccess();this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}});this.$VideoUploadReceiveRequestManager38.setStartOffset(a.start_offset);d=a.end_offset;this.$VideoUploadReceiveRequestManager38.getClientChunkSize()&&(d=a.start_offset+Math.min(this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()-a.start_offset,this.$VideoUploadReceiveRequestManager38.getClientChunkSize()));this.$VideoUploadReceiveRequestManager38.setEndOffset(d);this.$VideoUploadReceiveRequestManager38.setLastKnownUploadSpeed(this.$VideoUploadReceiveRequestManager17);this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager44=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager14=0;this.$VideoUploadReceiveRequestManager12=b("uuid")();this.$VideoUploadReceiveRequestManager15=0;this.$VideoUploadReceiveRequestManager38.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager53(i.NEXT_CHUNK,!0)};d.__handleServerFailureResponse=function(a){__p&&__p();this.$VideoUploadReceiveRequestManager19="failure response received";this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager15=0;this.$VideoUploadReceiveRequestManager37.notifyError();if(this.__hasInvalidStartOffsetAndHasRetries(a.getError())){this.$VideoUploadReceiveRequestManager14++;var b=a.getPayload();this.$VideoUploadReceiveRequestManager19="invalid offset response received start="+b.start_offset+" end="+b.end_offset;(this.$VideoUploadReceiveRequestManager38.getStartOffset()!=b.start_offset||this.$VideoUploadReceiveRequestManager38.getEndOffset()!=b.end_offset)&&(this.$VideoUploadReceiveRequestManager38.setStartOffset(b.start_offset),this.$VideoUploadReceiveRequestManager38.setEndOffset(b.end_offset),this.$VideoUploadReceiveRequestManager44=null);this.$VideoUploadReceiveRequestManager53(i.INVALID_OFFSET_RETRY)}else(a.isTransient()||this.$VideoUploadReceiveRequestManager10)&&this.$VideoUploadReceiveRequestManager14<this.$VideoUploadReceiveRequestManager4?(this.$VideoUploadReceiveRequestManager19="transient server error",this.$VideoUploadReceiveRequestManager14++,this.$VideoUploadReceiveRequestManager65(i.SERVER_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager66(this.$VideoUploadReceiveRequestManager9,this.$VideoUploadReceiveRequestManager14,0))):this.$VideoUploadReceiveRequestManager67(a)};d.__handleResponseTimeout=function(a){__p&&__p();this.inform("request-timeout",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,timeout_retries:this.$VideoUploadReceiveRequestManager15,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,debug:{upload_domain:this.$VideoUploadReceiveRequestManager39,single_request_id:this.$VideoUploadReceiveRequestManager13}});this.$VideoUploadReceiveRequestManager45.abort();this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager37.notifyTransportError();if(++this.$VideoUploadReceiveRequestManager15<=this.$VideoUploadReceiveRequestManager6){a=this.$VideoUploadReceiveRequestManager38.getEndOffset()-this.$VideoUploadReceiveRequestManager38.getStartOffset();a=Math.floor(a/2);a=Math.max(a,this.$VideoUploadReceiveRequestManager18);var b=this.$VideoUploadReceiveRequestManager38.getEndOffset();b=Math.min(b,this.$VideoUploadReceiveRequestManager38.getStartOffset()+a);this.$VideoUploadReceiveRequestManager38.setEndOffset(b);this.$VideoUploadReceiveRequestManager44=null;this.$VideoUploadReceiveRequestManager19="resending after timeout with chunksize="+a;this.$VideoUploadReceiveRequestManager53(i.TIMEOUT_RETRY)}else this.$VideoUploadReceiveRequestManager59({error_code:1006,error_description:g._("Your browser appears to be offline. Please check your internet connection and try again."),error_summary:g._("No Network Connection"),error_is_transient:!0})};d.__hasInvalidStartOffsetAndHasRetries=function(a){return a===h&&this.$VideoUploadReceiveRequestManager14<this.$VideoUploadReceiveRequestManager4};d.$VideoUploadReceiveRequestManager55=function(a){this.$VideoUploadReceiveRequestManager37.notifyTransportError(),this.$VideoUploadReceiveRequestManager17=null,this.$VideoUploadReceiveRequestManager15=0,this.$VideoUploadReceiveRequestManager11<this.$VideoUploadReceiveRequestManager2?(this.$VideoUploadReceiveRequestManager19="resending after transport failure",this.$VideoUploadReceiveRequestManager11++,this.$VideoUploadReceiveRequestManager45=null,this.$VideoUploadReceiveRequestManager65(i.TRANSPORT_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager66(this.$VideoUploadReceiveRequestManager8,this.$VideoUploadReceiveRequestManager11,this.$VideoUploadReceiveRequestManager3))):this.$VideoUploadReceiveRequestManager67(a)};d.$VideoUploadReceiveRequestManager67=function(a){this.$VideoUploadReceiveRequestManager59({error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),error_is_transient:a.isTransient(),upload_domain:this.uploadDomain})};d.$VideoUploadReceiveRequestManager59=function(a){this.$VideoUploadReceiveRequestManager19="handling failure error",a.debug=babelHelpers["extends"]({},a.debug,{single_request_id:this.$VideoUploadReceiveRequestManager13}),this.inform("request-failed",a),this.$VideoUploadReceiveRequestManager54()};d.$VideoUploadReceiveRequestManager56=function(a){this.$VideoUploadReceiveRequestManager37.notifyProgress(a),this.$VideoUploadReceiveRequestManager38&&this.$VideoUploadReceiveRequestManager38.getFile()&&this.inform("request-progressed",{file_size:this.$VideoUploadReceiveRequestManager38.getFile().getSize(),start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),sent_bytes:a.loaded,transport_retries:this.$VideoUploadReceiveRequestManager11,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{single_request_id:this.$VideoUploadReceiveRequestManager13}})};d.$VideoUploadReceiveRequestManager50=function(){this.inform("online"),this.$VideoUploadReceiveRequestManager11=0,this.$VideoUploadReceiveRequestManager15=0,this.$VideoUploadReceiveRequestManager46&&this.$VideoUploadReceiveRequestManager53(i.BACK_ONLINE)};d.$VideoUploadReceiveRequestManager51=function(){this.inform("offline")};d.$VideoUploadReceiveRequestManager66=function(a,b,c){var d;this.$VideoUploadReceiveRequestManager23?d=Math.min(Math.pow(a,b),8)*1e3:d=Math.pow(a,b)*1e3;c>0&&(d=Math.min(d,c));return d};d.$VideoUploadReceiveRequestManager57=function(a,b){b!==void 0&&b!==null&&b>0?b=b:b=10;a=Math.floor(a/b*this.$VideoUploadReceiveRequestManager7/100);return Math.max(a,3e4)};d.$VideoUploadReceiveRequestManager63=function(){return this.$VideoUploadReceiveRequestManager28?this.$VideoUploadReceiveRequestManager28:this.$VideoUploadReceiveRequestManager38.getWaterfallID()};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadStartRequestManager",["requireCond","cr:909282","Assert","FileHasher","VideoUploadRequest","clearTimeout","mixin","performanceNow","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i){__p&&__p();var j;j=a.call(this)||this;j.$VideoUploadStartRequestManager1=b;j.$VideoUploadStartRequestManager2=c;j.$VideoUploadStartRequestManager3=d;j.$VideoUploadStartRequestManager4=e;j.$VideoUploadStartRequestManager5=0;j.$VideoUploadStartRequestManager6=f;j.$VideoUploadStartRequestManager7=g;j.$VideoUploadStartRequestManager8=h;j.$VideoUploadStartRequestManager9=i;j.$VideoUploadStartRequestManager10=0;return j}var d=c.prototype;d.getRequest=function(){return this.$VideoUploadStartRequestManager11};d.sendRequest=function(a){var c=this;if(this.$VideoUploadStartRequestManager12||this.$VideoUploadStartRequestManager11)return;this.$VideoUploadStartRequestManager13=a;this.$VideoUploadStartRequestManager6&&this.$VideoUploadStartRequestManager13.getFile().getFile()&&this.$VideoUploadStartRequestManager13.getFile().getFile().size<this.$VideoUploadStartRequestManager7&&b("FileHasher").isSupported()?(this.$VideoUploadStartRequestManager14=(g||(g=b("performanceNow")))(),this.$VideoUploadStartRequestManager12=new(b("FileHasher"))(),this.$VideoUploadStartRequestManager12.hash(this.$VideoUploadStartRequestManager13.getFile().getFile(),function(a){c.$VideoUploadStartRequestManager14=(g||(g=b("performanceNow")))()-c.$VideoUploadStartRequestManager14,c.$VideoUploadStartRequestManager15=a.hash,c.$VideoUploadStartRequestManager12.destroy(),c.$VideoUploadStartRequestManager12=null,a.hash||(c.$VideoUploadStartRequestManager16=a.exception),c.$VideoUploadStartRequestManager17()})):this.$VideoUploadStartRequestManager17()};d.$VideoUploadStartRequestManager17=function(){this.$VideoUploadStartRequestManager18(),this.inform("request-started",{hash_time:this.$VideoUploadStartRequestManager14,hash_exception:this.$VideoUploadStartRequestManager16})};d.$VideoUploadStartRequestManager18=function(){b("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null,this.$VideoUploadStartRequestManager11=this.__getVideoUploadRequest(this.$VideoUploadStartRequestManager1).setAllowCrossOrigin(!0).setData(this.__getDataToSend(this.$VideoUploadStartRequestManager13,this.$VideoUploadStartRequestManager15)).setWaterfallID(this.$VideoUploadStartRequestManager13.getWaterfallID()).setSuccessHandler(this.$VideoUploadStartRequestManager20.bind(this)).setErrorHandler(this.$VideoUploadStartRequestManager21.bind(this)).setTransportErrorHandler(this.$VideoUploadStartRequestManager22.bind(this)),this.$VideoUploadStartRequestManager11.send()};d.__getVideoUploadRequest=function(a){return new(b("VideoUploadRequest"))(a)};d.__getDataToSend=function(a,b){return{file_size:a.getFile().getSize(),file_extension:a.getFile().getExtension(),target_id:a.getTargetID(),source:a.getSource(),composer_dialog_version:a.getComposerDialogVersion(),waterfall_id:a.getWaterfallID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),supports_file_api:a.getSupportsFileAPI(),partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset(),creator_product:a.getCreatorProduct(),original_file_hash:b,spherical:a.getIsSphericalVideo(),spherical_metadata:a.getSphericalMetadata(),video_publisher_action_source:a.getVideoPublisherActionSource()}};d.cancelRequest=function(){this.$VideoUploadStartRequestManager23(),this.inform("request-canceled")};d.$VideoUploadStartRequestManager24=function(a){b("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=b("setTimeout")(this.$VideoUploadStartRequestManager18.bind(this),a)};d.$VideoUploadStartRequestManager23=function(){this.$VideoUploadStartRequestManager12&&(this.$VideoUploadStartRequestManager12.destroy(),this.$VideoUploadStartRequestManager12=null),this.$VideoUploadStartRequestManager11&&(this.$VideoUploadStartRequestManager11.abort(),this.$VideoUploadStartRequestManager11=null),this.$VideoUploadStartRequestManager10=0,this.$VideoUploadStartRequestManager5=0,this.$VideoUploadStartRequestManager13=null,b("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null};d.$VideoUploadStartRequestManager25=function(a,b,c){a=Math.pow(a,b)*1e3;c>0&&(a=Math.min(a,c));return a};d.$VideoUploadStartRequestManager20=function(a){a=a.getPayload();this.inform("request-finished",this.__getSuccessInformData(a));this.$VideoUploadStartRequestManager11=null;b("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.__getSuccessInformData=function(a){return{video_id:a.video_id,upload_session_id:a.upload_session_id,fb_region:a.region_hint,start_offset:a.start_offset,end_offset:a.end_offset,transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,skip_upload:a.skip_upload,hash_time:this.$VideoUploadStartRequestManager14}};d.$VideoUploadStartRequestManager26=function(a){this.inform("request-failed",this.$VideoUploadStartRequestManager27(a)),this.$VideoUploadStartRequestManager11=null,b("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.$VideoUploadStartRequestManager21=function(a){this.$VideoUploadStartRequestManager11=null,this.$VideoUploadStartRequestManager5=0,a.isTransient()&&this.$VideoUploadStartRequestManager10<this.$VideoUploadStartRequestManager8?(this.$VideoUploadStartRequestManager10++,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager9,this.$VideoUploadStartRequestManager10))):this.$VideoUploadStartRequestManager26(a)};d.$VideoUploadStartRequestManager22=function(a){this.$VideoUploadStartRequestManager2===0||this.$VideoUploadStartRequestManager5>=this.$VideoUploadStartRequestManager2?this.$VideoUploadStartRequestManager26(a):(this.$VideoUploadStartRequestManager5++,this.$VideoUploadStartRequestManager11=null,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager3,this.$VideoUploadStartRequestManager5,this.$VideoUploadStartRequestManager4)))};d.$VideoUploadStartRequestManager27=function(a){return{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,error_is_transient:a.isTransient()}};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadSession",["requireCond","cr:909282","AsyncRequest","cr:967670","VideoUploadCrashMonitor","VideoUploadFeatureDetector","VideoUploadFileValidator","VideoUploadLogger","VideoUploadMetadataParser","VideoUploadPostRequestManager","VideoUploadReceiveRequestManager","VideoUploadRequestContext","VideoUploadStartRequestManager","WaterfallIDGenerator","getByPath","md5","mixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$VideoUploadSession1=c.source;d.$VideoUploadSession2=c.composer_dialog_version;d.$VideoUploadSession3=c.target_id;d.$VideoUploadSession4=c.logging_delay;d.$VideoUploadSession5=c.silent_file_validation;d.$VideoUploadSession6=c.background_upload;d.$VideoUploadSession7=c.actor_id;d.$VideoUploadSession8=c.composer_entry_point_ref;d.$VideoUploadSession9=c.composer_work_shared_draft_mode;d.$VideoUploadSession10=c.video_publisher_action_source;d.$VideoUploadSession11=c.monitor_crashes;d.$VideoUploadSession12=c.isMultiMediaPost;d.$VideoUploadSession13=c.container_type;d.$VideoUploadSession14=c.number_of_partitions;d.$VideoUploadSession15=c.multi_partitioning_enabled;d.$VideoUploadSession16=c.change_default_chunk_size;d.$VideoUploadSession17=c.has_file_been_replaced?c.has_file_been_replaced:!1;d.$VideoUploadSession16&&(d.$VideoUploadSession18=c.client_chunk_size);d.$VideoUploadSession19=c.early_receive;d.$VideoUploadSession20=!1;d.$VideoUploadSession21=c.accept_dimensions_from_player;d.$VideoUploadSession22=c.ad_account_id;d.$VideoUploadSession23=c.waterfall_id;d.$VideoUploadSession24=new(b("VideoUploadFileValidator"))({minSize:c.min_size,maxSize:c.max_size,minLength:c.min_length,maxLength:c.max_length,minWidth:c.min_width,minHeight:c.min_height,extensions:c.extensions,source:c.source,require16to9AspectRatio:c.require_16to9_aspect_ratio,minAspectRatio:c.min_aspect_ratio,maxAspectRatio:c.max_aspect_ratio,acceptDimensionsFromPlayer:c.accept_dimensions_from_player});d.$VideoUploadSession25=b("VideoUploadFeatureDetector").supportsChunking();d.$VideoUploadSession26=b("VideoUploadFeatureDetector").supportsFileAPI();d.$VideoUploadSession25?(d.$VideoUploadSession27=c.parallel_chunk_uploads,d.$VideoUploadSession27&&(d.$VideoUploadSession28=c.parallel_chunk_upload_filesize,d.$VideoUploadSession29=c.default_chunk_size)):d.$VideoUploadSession27=!1;d.$VideoUploadSession30=d.$VideoUploadSession31(c);d.$VideoUploadSession32=d.$VideoUploadSession33(c);if(d.$VideoUploadSession27)if(d.$VideoUploadSession15){var e=0;d.$VideoUploadSession34=[];for(e=0;e<d.$VideoUploadSession14-1;e++)d.$VideoUploadSession34[e]=d.$VideoUploadSession33(c)}else d.$VideoUploadSession34=d.$VideoUploadSession33(c);d.$VideoUploadSession35=d.$VideoUploadSession36(c);d.$VideoUploadSession37=c.log_free_local_storage;d.$VideoUploadSession38=c.async_storage_enabled;d.$VideoUploadSession39=c.async_storage_validate;d.$VideoUploadSession40=c.async_storage_min_file_size;d.$VideoUploadSession41=c.async_storage_max_file_size;d.$VideoUploadSession42=c.async_storage_min_free_storage;return d}var d=c.prototype;d.$VideoUploadSession43=function(){this.$VideoUploadSession44=[];this.$VideoUploadSession45=[];this.$VideoUploadSession46=[];this.$VideoUploadSession47=[];this.$VideoUploadSession48=[];var a=0;for(a=0;a<this.$VideoUploadSession49-1;a++)this.$VideoUploadSession44.push(!1)};d.$VideoUploadSession50=function(){this.$VideoUploadSession23==null&&(this.$VideoUploadSession23=b("WaterfallIDGenerator").generate()),this.$VideoUploadSession51=new(b("VideoUploadLogger"))({actor_id:this.$VideoUploadSession7,ad_account_id:this.$VideoUploadSession22,source:this.$VideoUploadSession1,composer_dialog_version:this.$VideoUploadSession2,waterfall_id:this.$VideoUploadSession23,target_id:this.$VideoUploadSession3,delay:this.$VideoUploadSession4,is_chunked_upload:this.$VideoUploadSession25,composer_entry_point_ref:this.$VideoUploadSession8,composer_work_shared_draft_mode:this.$VideoUploadSession9,container_type:this.$VideoUploadSession13,has_file_been_replaced:this.$VideoUploadSession17}),this.inform("set-waterfall-id",{waterfallID:this.$VideoUploadSession23})};d.createTestLogger=function(){this.$VideoUploadSession50()};d.getLogger=function(){return!this.$VideoUploadSession51?null:this.$VideoUploadSession51};d.start=function(a){__p&&__p();var c=this;this.$VideoUploadSession52=null;this.$VideoUploadSession53=null;this.$VideoUploadSession54=null;this.$VideoUploadSession55=!1;this.$VideoUploadSession56=!1;this.$VideoUploadSession57=a;this.$VideoUploadSession58=0;this.$VideoUploadSession59=!1;this.$VideoUploadSession60={sphericalMetadataXml:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null};this.$VideoUploadSession61=!1;this.$VideoUploadSession50();this.$VideoUploadSession15&&(this.$VideoUploadSession49=Math.min(this.$VideoUploadSession14,Math.ceil(this.$VideoUploadSession57.getSize()/this.$VideoUploadSession28)));this.__logEvent(b("VideoUploadLogger").EVENT_REQUESTED_UPLOADING);this.inform("upload-requested");a=new(b("VideoUploadMetadataParser"))(this.$VideoUploadSession57,this.$VideoUploadSession62.bind(this),this.$VideoUploadSession21);a.parse();this.$VideoUploadSession37&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota(function(a,d){c.__logEvent(b("VideoUploadLogger").EVENT_MEASURE_FREE_LOCAL_STORAGE,{free_space_in_device:d})})};d.setTargetID=function(a){this.$VideoUploadSession3=a};d.post=function(a){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_POST_REQUEST,this.$VideoUploadSession63);this.inform("post-started",a);var c=this.__createPostRequestContext(a);this.$VideoUploadSession35.sendRequest(c);this.$VideoUploadSession64=a};d.__createPostRequestContext=function(a){var c=new(b("VideoUploadRequestContext"))();this.__setupPostRequestContext(c,a);return c};d.__setupPostRequestContext=function(a,b){a.setMetadata(b).setVideoID(this.$VideoUploadSession52).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setSupportsChunking(this.$VideoUploadSession25).setCreatorProduct(this.$VideoUploadSession57.getCreatorProduct()).setFile(this.$VideoUploadSession57).setHasFileBeenReplaced(this.$VideoUploadSession17),b&&(b.spherical&&(this.$VideoUploadSession59=!0,a.setIsSphericalVideo(this.$VideoUploadSession59)),b.enable_omnistab&&(this.$VideoUploadSession61=!0,a.setEnableOmnistab(this.$VideoUploadSession61))),a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession8)};d.cancel=function(a){a===void 0&&(a=!1);if(this.$VideoUploadSession55){var d=this.__fetchReceiveRequestManagerStateLogData();this.$VideoUploadSession65();this.$VideoUploadSession6?(this.$VideoUploadSession56||this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_UPLOADING),this.$VideoUploadSession66&&(this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,d),this.$VideoUploadSession66=!1)):(this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_UPLOADING),this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,d))}else a&&this.$VideoUploadSession52&&c.deleteVideo(this.$VideoUploadSession52)};d.abandon=function(a){a===void 0&&(a=!1);if(this.$VideoUploadSession55){var d=this.__fetchReceiveRequestManagerStateLogData();this.$VideoUploadSession65();this.$VideoUploadSession6?(this.$VideoUploadSession56||this.__logEvent(b("VideoUploadLogger").EVENT_ABANDONED_UPLOADING),this.$VideoUploadSession66&&(this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,d),this.$VideoUploadSession66=!1)):(this.__logEvent(b("VideoUploadLogger").EVENT_ABANDONED_UPLOADING),this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,d))}else a&&this.$VideoUploadSession52&&c.deleteVideo(this.$VideoUploadSession52)};d.isPostInProgress=function(){return this.$VideoUploadSession35.isInProgress()};d.isInProgress=function(){return this.$VideoUploadSession55};d.getHasUploadFinished=function(){return this.$VideoUploadSession56};d.getVideoID=function(){return this.$VideoUploadSession52};d.getUploadTime=function(){return this.$VideoUploadSession67};d.getExPartitionNumber=function(a){var b;for(b=0;b<this.$VideoUploadSession49-1;b++)if(a>=this.$VideoUploadSession45[b]&&a<this.$VideoUploadSession46[b])break;return b===this.$VideoUploadSession49?-1:b};d.getIsSphericalVideo=function(){return this.$VideoUploadSession59||!1};d.startFlow=function(){if(!this.$VideoUploadSession6||this.$VideoUploadSession66)return;this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession66=!0;this.$VideoUploadSession68&&this.$VideoUploadSession68.flowStarted()};d.__extractVideoMetadata=function(a){var c;a=(c=b("getByPath"))(a,["streams","primaryVideo"]);c={source_height:c(a,["height"]),source_width:c(a,["width"]),duration:c(a,["duration"])*1e3};c.original_video_duration=c.duration;return c};d.$VideoUploadSession62=function(a){__p&&__p();var c=this,d;if(this.$VideoUploadSession5){var e=this.$VideoUploadSession24.getValidationErrorMessage(this.$VideoUploadSession57,a);e?(d={error_summary:e.summary,error_description:e.description},e=!1):e=!0}else e=this.$VideoUploadSession24.validate(this.$VideoUploadSession57,a);if(!e){this.__logEvent(b("VideoUploadLogger").EVENT_INVALIDATED_UPLOADING);this.inform("upload-failed",d);return}this.$VideoUploadSession63=this.__extractVideoMetadata(a);this.$VideoUploadSession38&&b("cr:967670")&&this.$VideoUploadSession57.getSize()>=this.$VideoUploadSession40&&this.$VideoUploadSession57.getSize()<=this.$VideoUploadSession41&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota(function(a,b){b>c.$VideoUploadSession42&&c.$VideoUploadSession69(c.$VideoUploadSession57,function(a,b){a||(c.$VideoUploadSession39?c.$VideoUploadSession70(c.$VideoUploadSession57,b,function(a){c.$VideoUploadSession71(b)}):c.$VideoUploadSession71(b))})});a&&a.format&&(this.$VideoUploadSession59=a.format.isSpherical,a.metadata&&(this.$VideoUploadSession60.sphericalMetadataXml=a.metadata.sphericalMetadataXml,this.$VideoUploadSession60.fbSpatialAudioMetadataXml=a.metadata.fbSpatialAudioMetadataXml,this.$VideoUploadSession60.ytSa3dMetadataJson=a.metadata.ytSa3dMetadataJson));this.$VideoUploadSession6||this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession72=this.$VideoUploadSession27&&this.$VideoUploadSession57.getSize()>=this.$VideoUploadSession28;this.$VideoUploadSession73=!1;this.$VideoUploadSession74=0;this.$VideoUploadSession75=this.$VideoUploadSession74;this.$VideoUploadSession76=0;this.$VideoUploadSession15?this.$VideoUploadSession43():this.$VideoUploadSession44=!1;if(this.$VideoUploadSession72)if(this.$VideoUploadSession15){e=0;this.$VideoUploadSession77=Math.ceil(this.$VideoUploadSession57.getSize()/this.$VideoUploadSession49);var f=this.$VideoUploadSession77,g=this.$VideoUploadSession77;for(e=0;e<this.$VideoUploadSession49-1;e++)this.$VideoUploadSession45[e]=f,f=Math.min(this.$VideoUploadSession45[e]+g,this.$VideoUploadSession57.getSize()),this.$VideoUploadSession46[e]=f,this.$VideoUploadSession47[e]=this.$VideoUploadSession45[e],this.$VideoUploadSession48[e]=0}else this.$VideoUploadSession77=Math.floor(this.$VideoUploadSession57.getSize()/2),this.$VideoUploadSession45=this.$VideoUploadSession77,this.$VideoUploadSession47=this.$VideoUploadSession45,this.$VideoUploadSession48=0,this.$VideoUploadSession46=this.$VideoUploadSession57.getSize();else this.$VideoUploadSession77=this.$VideoUploadSession57.getSize();e=new(b("VideoUploadRequestContext"))().setFile(this.$VideoUploadSession57).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setHasFileBeenReplaced(this.$VideoUploadSession17).setSupportsChunking(this.$VideoUploadSession25).setSupportsFileAPI(this.$VideoUploadSession26).setCreatorProduct(this.$VideoUploadSession57.getCreatorProduct()).setPartitionStartOffset(this.$VideoUploadSession74).setPartitionEndOffset(this.$VideoUploadSession77);this.$VideoUploadSession27&&e.setUseParallelChunks(this.$VideoUploadSession27);this.$VideoUploadSession59&&(e.setIsSphericalVideo(this.$VideoUploadSession59),e.setSphericalMetadata(this.$VideoUploadSession60));e.setComposerEntryPointRef&&e.setComposerEntryPointRef(this.$VideoUploadSession8);e.setVideoPublisherActionSource(this.$VideoUploadSession10);this.$VideoUploadSession78();this.$VideoUploadSession30.sendRequest(e);this.$VideoUploadSession19&&this.$VideoUploadSession16&&this.$VideoUploadSession32.isResumabilityEnabled()&&!this.$VideoUploadSession32.isResumableServiceProxyReceiveEnabled()&&this.$VideoUploadSession79();this.inform("metadata-parsed",a)};d.$VideoUploadSession69=function(a,c){__p&&__p();var d=this;this.__logEvent(b("VideoUploadLogger").EVENT_ASYNC_STORAGE_WRITE_STARTED);var e=a.getFile(),f="video_upload_cache_"+this.$VideoUploadSession7+"_"+e.name+"_"+e.lastModified;b("cr:967670").setItem(f,a,function(a){if(a){d.__logEvent(b("VideoUploadLogger").EVENT_ASYNC_STORAGE_WRITE_FAILED);c(a,"");return}d.__logEvent(b("VideoUploadLogger").EVENT_ASYNC_STORAGE_WRITE_SUCCEEDED);c(null,f)})};d.$VideoUploadSession70=function(a,c,d){__p&&__p();var e=this;this.__logEvent(b("VideoUploadLogger").EVENT_ASYNC_STORAGE_READ_STARTED);b("cr:967670").getItem(c,function(c,f){if(c){e.__logEvent(b("VideoUploadLogger").EVENT_ASYNC_STORAGE_READ_FAILED);d(c);return}e.__logEvent(b("VideoUploadLogger").EVENT_ASYNC_STORAGE_READ_SUCCEEDED);c=b("md5")(a)===b("md5")(f);c?e.__logEvent(b("VideoUploadLogger").EVENT_ASYNC_STORAGE_DATA_VALIDATE_SUCCEEDED):e.__logEvent(b("VideoUploadLogger").EVENT_ASYNC_STORAGE_DATA_VALIDATE_FAILED);d(null)})};d.$VideoUploadSession71=function(a){var c=this;b("cr:967670").removeItem(a,function(a){if(a)return;c.__logEvent(b("VideoUploadLogger").EVENT_ASYNC_STORAGE_DATA_CLEANED)})};d.$VideoUploadSession31=function(a){var b=this.$VideoUploadSession25?a.chunk_start_uri:a.start_uri;b=this.__getVideoUploadStartRequestManager(b,a.start_max_transport_retries,a.start_transport_retry_interval_base,a.start_max_transport_retry_timeout,a.skip_upload_enabled,a.skip_upload_file_size_limit,a.start_max_server_retries,a.start_server_retry_interval_base);b.subscribe("request-started",this.$VideoUploadSession80.bind(this));b.subscribe("request-finished",this.$VideoUploadSession81.bind(this));b.subscribe("request-failed",this.$VideoUploadSession82.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession83.bind(this));return b};d.$VideoUploadSession33=function(a){__p&&__p();var b=this.$VideoUploadSession25?a.chunk_receive_uri:a.receive_uri;b=this.__getVideoUploadReceiveRequestManager(b,a);b.subscribe("request-started",this.$VideoUploadSession84.bind(this));b.subscribe("request-progressed",this.$VideoUploadSession85.bind(this));b.subscribe("request-finished",this.$VideoUploadSession86.bind(this));b.subscribe("request-failed",this.$VideoUploadSession87.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession88.bind(this));b.subscribe("request-timeout",this.$VideoUploadSession89.bind(this));b.subscribe("online",this.$VideoUploadSession90.bind(this));b.subscribe("offline",this.$VideoUploadSession91.bind(this));b.subscribe("resumable-called",this.$VideoUploadSession92.bind(this));b.subscribe("resumable-started",this.$VideoUploadSession93.bind(this));b.subscribe("resumable-success",this.$VideoUploadSession94.bind(this));b.subscribe("resumable-failed",this.$VideoUploadSession95.bind(this));return b};d.$VideoUploadSession36=function(a){var b=this.$VideoUploadSession25?a.chunk_post_uri:a.post_uri;b=this.__getVideoUploadPostRequestManager(b,a);b.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));b.subscribe("request-failed",this.$VideoUploadSession96.bind(this));return b};d.$VideoUploadSession80=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_UPLOADING,babelHelpers["extends"]({hash_time:c.hash_time,hash_exception:c.hash_exception},this.$VideoUploadSession63)),this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_START_REQUEST,this.$VideoUploadSession63),this.$VideoUploadSession97=Date.now(),this.inform("upload-started")};d.$VideoUploadSession79=function(a){__p&&__p();if(!this.$VideoUploadSession20){this.$VideoUploadSession20=!0;a||(a={video_id:null});var b;b=this.__createReceiveRequestContext(a,!1);this.$VideoUploadSession32.sendRequest(b);if(this.$VideoUploadSession72)if(this.$VideoUploadSession15){var c=0;for(c=0;c<this.$VideoUploadSession49-1;c++)b=this.__createReceiveRequestContext(a,!0,c),this.$VideoUploadSession34[c].sendRequest(b)}else b=this.__createReceiveRequestContext(a,!0),this.$VideoUploadSession34.sendRequest(b)}else this.$VideoUploadSession98()};d.$VideoUploadSession98=function(){this.$VideoUploadSession32.updateVideoID(this.$VideoUploadSession52);if(this.$VideoUploadSession72)if(this.$VideoUploadSession15){var a=0;for(a=0;a<this.$VideoUploadSession49-1;a++)this.$VideoUploadSession34[a].updateVideoID(this.$VideoUploadSession52)}else this.$VideoUploadSession34.updateVideoID(this.$VideoUploadSession52)};d.$VideoUploadSession81=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_PROGRESS_UPLOADING_START_REQUEST,{transport_retries:c.transport_retries,hash_time:c.hash_time,skip_upload:c.skip_upload?1:null}),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_START_REQUEST,babelHelpers["extends"]({video_id:c.video_id},this.$VideoUploadSession63)),this.$VideoUploadSession52=c.video_id,this.$VideoUploadSession53=c.upload_session_id,this.$VideoUploadSession54=c.fb_region,this.$VideoUploadSession99=c.skip_upload,!c.skip_upload?this.$VideoUploadSession79(c):(this.$VideoUploadSession100(),this.inform("upload-progressed",{start_offset:0,end_offset:this.$VideoUploadSession57.getSize(),file_size:this.$VideoUploadSession57.getSize(),sent_bytes:this.$VideoUploadSession57.getSize(),video_id:c.video_id,skip_upload:c.skip_upload}),this.$VideoUploadSession6&&this.__logFinishedUploading(),this.inform("upload-finished",{start_offset:0,end_offset:this.$VideoUploadSession57.getSize(),video_id:c.video_id,is_spherical_video:this.$VideoUploadSession59}))};d.__fetchReceiveRequestManagerStateLogData=function(){var a={};this.$VideoUploadSession32!=null&&(this.$VideoUploadSession32.appendStateLogData(a,"requestManager_"),a.request_manager_state=a.requestManager_last_log_state);if(this.$VideoUploadSession15){var b=0;for(b=0;b<this.$VideoUploadSession49-1;b++)this.$VideoUploadSession34[b]!=null&&this.$VideoUploadSession34[b].appendStateLogData(a,"requestManagerEx_"+b.toString())}else this.$VideoUploadSession34!=null&&this.$VideoUploadSession34.appendStateLogData(a,"requestManagerEx_");return a};d.__createReceiveRequestContext=function(a,c,d){c||(c=!1);var e=new(b("VideoUploadRequestContext"))();this.$VideoUploadSession15?this.__setupReceiveRequestContext(e,a,c,d):this.__setupReceiveRequestContext(e,a,c);return e};d.__setupReceiveRequestContext=function(a,b,c,d){var e,f,g;!c?(c=this.$VideoUploadSession74,e=this.$VideoUploadSession77,this.$VideoUploadSession16?(f=this.$VideoUploadSession74,g=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession77):this.$VideoUploadSession77):(f=b.start_offset,g=b.end_offset)):this.$VideoUploadSession15?(this.$VideoUploadSession16&&(this.$VideoUploadSession29=this.$VideoUploadSession46[d]-this.$VideoUploadSession45[d],this.$VideoUploadSession29=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession29):this.$VideoUploadSession29),c=this.$VideoUploadSession45[d],e=this.$VideoUploadSession46[d],f=this.$VideoUploadSession45[d],g=this.$VideoUploadSession45[d]+this.$VideoUploadSession29>=this.$VideoUploadSession46[d]?this.$VideoUploadSession46[d]:this.$VideoUploadSession45[d]+this.$VideoUploadSession29):(this.$VideoUploadSession16&&(this.$VideoUploadSession29=this.$VideoUploadSession46-this.$VideoUploadSession45,this.$VideoUploadSession29=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession29):this.$VideoUploadSession29),c=this.$VideoUploadSession45,e=this.$VideoUploadSession46,f=this.$VideoUploadSession45,g=this.$VideoUploadSession45+this.$VideoUploadSession29>=this.$VideoUploadSession46?this.$VideoUploadSession46:this.$VideoUploadSession45+this.$VideoUploadSession29);a.setFile(this.$VideoUploadSession57).setVideoID(b.video_id).setUploadSessionID(b.upload_session_id).setFbRegion(b.fb_region).setStartOffset(f).setEndOffset(g).setPartitionStartOffset(c).setPartitionEndOffset(e).setPartitionNo(d).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setSupportsChunking(this.$VideoUploadSession25).setHasFileBeenReplaced(this.$VideoUploadSession17);this.$VideoUploadSession27&&a.setUseParallelChunks(this.$VideoUploadSession27);a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession8);this.$VideoUploadSession18&&a.setClientChunkSize(this.$VideoUploadSession18)};d.$VideoUploadSession82=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_START_REQUEST,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);a=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession6?this.$VideoUploadSession66&&(this.__logEvent(a),this.$VideoUploadSession66=!1):this.__logEvent(a);this.$VideoUploadSession100();this.$VideoUploadSession101();this.inform("upload-failed",c)};d.$VideoUploadSession83=function(a){this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_START_REQUEST)};d.$VideoUploadSession84=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_RECEIVE_REQUEST,{debug:c.debug}),!c.start_offset&&!c.transport_retries&&!c.server_retries&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_BYTES,{total_bytes:this.$VideoUploadSession57.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,total_bytes:c.end_offset-c.start_offset,transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug})};d.$VideoUploadSession85=function(a,b){__p&&__p();if(b.start_offset<this.$VideoUploadSession77)this.$VideoUploadSession75=b.start_offset,this.$VideoUploadSession76=b.sent_bytes;else if(this.$VideoUploadSession15){a=this.getExPartitionNumber(b.start_offset);a>-1&&(this.$VideoUploadSession47[a]=b.start_offset,this.$VideoUploadSession48[a]=b.sent_bytes)}else this.$VideoUploadSession47=b.start_offset,this.$VideoUploadSession48=b.sent_bytes;b.start_offset=this.$VideoUploadSession75;b.sent_bytes=this.$VideoUploadSession76;if(this.$VideoUploadSession72)if(this.$VideoUploadSession15)for(a=0;a<this.$VideoUploadSession49-1;a++)b.start_offset+=this.$VideoUploadSession47[a]-this.$VideoUploadSession45[a],b.sent_bytes+=this.$VideoUploadSession48[a];else b.start_offset+=this.$VideoUploadSession47-this.$VideoUploadSession45,b.sent_bytes+=this.$VideoUploadSession48;a=Math.min(b.start_offset+b.sent_bytes,b.file_size);a>this.$VideoUploadSession58&&(this.$VideoUploadSession58=a,this.inform("upload-progressed",b))};d.$VideoUploadSession86=function(a,c){__p&&__p();this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_RECEIVE_REQUEST,{debug:c.debug});this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug});a=!1;if(c.start_offset<this.$VideoUploadSession77)this.$VideoUploadSession73=c.end_offset>=this.$VideoUploadSession77;else if(this.$VideoUploadSession15){var d;d=this.getExPartitionNumber(c.start_offset);if(d===-1){var e={error_summary:"Invalid offset",error_description:"Offset doesn't fall in any exPartition range."};this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING);this.inform("upload-failed",e);return}this.$VideoUploadSession44[d]=c.end_offset>=this.$VideoUploadSession46[d]}else this.$VideoUploadSession44=c.end_offset>=this.$VideoUploadSession46;if(this.$VideoUploadSession15)for(d=0;d<this.$VideoUploadSession49-1;d++)if(this.$VideoUploadSession44[d]===!1){a=!1;break}else a=!0;else a=this.$VideoUploadSession44;(!this.$VideoUploadSession26||this.$VideoUploadSession73&&(!this.$VideoUploadSession72||a))&&(this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_BYTES,{sent_bytes:this.$VideoUploadSession57.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession67=Date.now()-this.$VideoUploadSession97,this.$VideoUploadSession6&&this.__logFinishedUploading(),c.video_id=this.$VideoUploadSession52,c.is_spherical_video=this.$VideoUploadSession59,this.inform("upload-finished",c),this.$VideoUploadSession12&&(this.$VideoUploadSession6||this.__logFinishedUploading(),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW,c),this.$VideoUploadSession66=!1,this.$VideoUploadSession101(),this.inform("multimedia-upload-finished",c)))};d.$VideoUploadSession87=function(a,c){__p&&__p();a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_RECEIVE_REQUEST,a);this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_CHUNK_BYTES,a);if(this.$VideoUploadSession55){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_BYTES,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession6?this.$VideoUploadSession66&&(this.__logEvent(d,a),this.$VideoUploadSession66=!1):this.__logEvent(d,a)}this.$VideoUploadSession101();this.inform("upload-failed",c)};d.$VideoUploadSession88=function(a){this.$VideoUploadSession25?this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_CHUNK_BYTES):this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_BYTES)};d.$VideoUploadSession89=function(a,c){a={start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,transport_retries:c.transport_retries,server_retries:c.server_retries,timeout_retries:c.timeout_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,debug:c.debug};this.__logEvent(b("VideoUploadLogger").EVENT_TIMEOUT_SENDING_CHUNK_BYTES,a)};d.$VideoUploadSession90=function(a,b){this.inform("online",b)};d.$VideoUploadSession91=function(a,b){this.inform("offline",b)};d.$VideoUploadSession92=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_CALLED,c)};d.$VideoUploadSession93=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_STARTED,c)};d.$VideoUploadSession94=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_SUCCESS,c)};d.$VideoUploadSession95=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_FAILED,c)};d.__handlePostRequestFinished=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_POST_REQUEST,babelHelpers["extends"]({video_id:this.$VideoUploadSession52},this.$VideoUploadSession63));c.video_id||(c.video_id=this.$VideoUploadSession52);this.$VideoUploadSession6||this.__logFinishedUploading();this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW);this.$VideoUploadSession66=!1;this.$VideoUploadSession101();a=babelHelpers["extends"]({},c,this.$VideoUploadSession64);this.inform("post-finished",a)};d.__logFinishedUploading=function(){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_UPLOADING,babelHelpers["extends"]({elapsed_time:this.$VideoUploadSession67,skip_upload:this.$VideoUploadSession99?1:null,video_id:this.$VideoUploadSession52},this.$VideoUploadSession63)),this.$VideoUploadSession56=!0};d.$VideoUploadSession96=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_POST_REQUEST,a);if(this.$VideoUploadSession55){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.__logEvent(d,a)}this.$VideoUploadSession101();this.inform("post-failed",c)};d.$VideoUploadSession100=function(){this.$VideoUploadSession32.cancelRequest();if(this.$VideoUploadSession72)if(this.$VideoUploadSession15){var a=0;for(a=0;a<this.$VideoUploadSession49-1;a++)this.$VideoUploadSession34[a].cancelRequest()}else this.$VideoUploadSession34.cancelRequest();this.$VideoUploadSession20=!1};d.$VideoUploadSession65=function(){this.$VideoUploadSession30.cancelRequest(),this.$VideoUploadSession100(),this.$VideoUploadSession101(),this.$VideoUploadSession52&&(c.deleteVideo(this.$VideoUploadSession52),this.$VideoUploadSession52=null,this.$VideoUploadSession53=null,this.$VideoUploadSession54=null)};d.$VideoUploadSession78=function(){this.$VideoUploadSession55=!0,this.$VideoUploadSession11&&(this.$VideoUploadSession68=new(b("VideoUploadCrashMonitor"))(this.$VideoUploadSession23,this.$VideoUploadSession7,this.$VideoUploadSession1,this.$VideoUploadSession3,this.$VideoUploadSession4,this.$VideoUploadSession25,this.$VideoUploadSession8,!this.$VideoUploadSession6||this.$VideoUploadSession66),this.$VideoUploadSession68.startSession())};d.$VideoUploadSession101=function(){this.$VideoUploadSession55=!1,this.$VideoUploadSession68&&(this.$VideoUploadSession68.endSession(),this.$VideoUploadSession68=null)};d.__getLogErrorData=function(a){return{error:a.error_summary,error_code:a.error_code,error_description:a.error_description,transport_retries:a.transport_retries,server_retries:a.server_retries,request_manager_state:a.request_manager_state,debug:a.debug}};d.__logEvent=function(a,b){var c=this.getLogger();b=b||{};this.$VideoUploadSession57&&(b.file_size=this.$VideoUploadSession57.getSize(),b.file_extension=this.$VideoUploadSession57.getExtension(),b.sent_bytes=this.$VideoUploadSession58);c.logEvent(a,b)};d.__getVideoUploadStartRequestManager=function(a,c,d,e,f,g,h,i){return new(b("VideoUploadStartRequestManager"))(a,c,d,e,f,g,h,i)};d.__getVideoUploadReceiveRequestManager=function(a,c){return new(b("VideoUploadReceiveRequestManager"))(a,c.max_transport_retries,c.max_transport_retry_timeout,c.max_server_retries,c.response_timeout_enabled,c.max_response_timeout_retries,c.response_timeout_speed_variation_factor_ppt,c.transport_retry_interval_base,c.server_retry_interval_base,c.receive_errors_force_retry,c.access_token,c.resumability_enabled,c.resumability_async_enabled,c.resumable_service_name,c.resumable_service_domain,c.datr,c.resumability_min_file_size,c.resumable_service_proxy_receive,c.resumable_service_send_media_info,c.resumable_service_send_file_size,c.resumable_reset_transport_retries_on_progress,c.add_flow_capture_header,c.traffic_tracing_enabled,c.traffic_tracing_min_file_size)};d.__getVideoUploadPostRequestManager=function(a,c){return new(b("VideoUploadPostRequestManager"))(a,c.post_max_transport_retries,c.post_transport_retry_interval_base,c.post_max_server_retries,c.post_server_retry_interval_base)};c.deleteVideo=function(a){a=new(b("AsyncRequest"))("/ajax/video/actions/delete").setData({fbid:a,redirect:!1});a.setErrorHandler(function(){});a.send()};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploader",["requireCond","cr:909282","VideoUploadCrashMonitor","VideoUploadSession","mixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$VideoUploader1=c;d.$VideoUploader2=null;d.$VideoUploader3=null;d.$VideoUploader4=c.waterfall_id==null?null:c.waterfall_id;d.$VideoUploader5=d.$VideoUploader1.ad_account_id;c.monitor_crashes&&(d.$VideoUploader6=new(b("VideoUploadCrashMonitor"))(),d.$VideoUploader6.logKnownCrashes());return d}var d=c.prototype;d.getLogger=function(){if(!this.$VideoUploader2)return;if(this.$VideoUploader2.getLogger)return this.$VideoUploader2.getLogger()};d.upload=function(a){var b=this;if(this.$VideoUploader2)return;var c=this.__getVideoUploadSession(this.$VideoUploader1);c.subscribe(this.__getEventsWhichShouldListenFromSession(),function(a,c){return b.$VideoUploader7(a,c)});this.$VideoUploader2=c;c.start(a)};d.__getVideoUploadSession=function(a){return new(b("VideoUploadSession"))(a)};d.__getEventsWhichShouldListenFromSession=function(){return["upload-requested","upload-started","upload-progressed","upload-finished","upload-failed","post-started","post-finished","post-failed","online","offline","metadata-parsed","set-waterfall-id"]};d.postUserRequest=function(){if(!this.$VideoUploader2)return;this.$VideoUploader2.startFlow&&this.$VideoUploader2.startFlow()};d.setTargetID=function(a){if(this.$VideoUploader2==null)return;this.$VideoUploader2.setTargetID(a)};d.setHasFileBeenReplaced=function(a){this.$VideoUploader1.has_file_been_replaced=a};d.post=function(a){if(!this.$VideoUploader2)return;this.$VideoUploader2.post(a)};d.getVideoID=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.$VideoUploader2.getVideoID());return this.$VideoUploader3};d.cancel=function(a){a===void 0&&(a=!1);var c=this.getVideoID();this.$VideoUploader2?this.$VideoUploader2.cancel(a):a&&c&&b("VideoUploadSession").deleteVideo(c);this.reset()};d.abandon=function(a){a===void 0&&(a=!1);var c=this.getVideoID();this.$VideoUploader2?this.$VideoUploader2.abandon(a):a&&c&&b("VideoUploadSession").deleteVideo(c);this.reset()};d.reset=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.getVideoID()),this.$VideoUploader2=null};d.getUploadSession=function(){return this.$VideoUploader2};d.getLoggerData=function(){return{waterfall_id:this.$VideoUploader2?this.$VideoUploader2.$VideoUploader4:null,actor_id:this.$VideoUploader1.actor_id,target_id:this.$VideoUploader1.target_id,target_type:this.$VideoUploader1.target_type,composer_entry_point_ref:this.$VideoUploader1.composer_entry_point_ref}};d.isPostInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isPostInProgress()};d.isSessionInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isInProgress()};d.isSessionExist=function(){return!!this.$VideoUploader2};d.getUploadParameters=function(){return this.$VideoUploader1};d.__getSession=function(){return this.$VideoUploader2};d.__getEventsForWhichSessionShouldBeSetToNull=function(){return["upload-failed","post-finished","multimedia-upload-finished"]};d.$VideoUploader7=function(a,b){this.__getEventsForWhichSessionShouldBeSetToNull().includes(a)&&this.reset(),this.__delegateEvent(a,b)};d.__delegateEvent=function(a,b){this.inform(a,b)};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);