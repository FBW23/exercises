if (self.CavalryLogger) { CavalryLogger.start_js(["\/+Efw"]); }

__d("IPB4BAssetTrackerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:IPB4BAssetTrackerLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:IPB4BAssetTrackerLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:IPB4BAssetTrackerLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAssetRefID=function(a){this.$1.asset_ref_id=a;return this};c.setAssetRefPath=function(a){this.$1.asset_ref_path=a;return this};c.setClientURI=function(a){this.$1.client_uri=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={asset_ref_id:!0,asset_ref_path:!0,client_uri:!0,time:!0,weight:!0};e.exports=a}),null);
__d("useIPB4BImpressionLog",["IPB4BAssetTrackerTypedLogger","React","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React");var h=c.useEffect;function a(a){h(function(){var c=typeof a==="string"?a:null,d=typeof a==="object"?a.loggingID:null;if(c!=null||d!=null){d=new(b("IPB4BAssetTrackerTypedLogger"))().setAssetRefID(d).setAssetRefPath(c).setClientURI((g||(g=b("URI"))).normalize(window.location.href));d.log()}},[a])}e.exports=a}),null);
__d("IPB4BImage.react",["Image.react","React","useIPB4BImpressionLog"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){b("useIPB4BImpressionLog")(a.src);return g.jsx(b("Image.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("XUIDataTableBody.react",["cx","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("React");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e=d.props.columns.map(function(b){return a[b.id]}),f=d.props.onRowMouseEnter?d.props.onRowMouseEnter.bind(null,a):null,g=d.props.onRowMouseLeave?d.props.onRowMouseLeave.bind(null,a):null,i=d.props.onRowClick?d.props.onRowClick.bind(null,a):null;e=e.map(function(b,e){return d.$2(b,c,e,a)});var j=d.props.highlightedRows&&d.props.highlightedRows.indexOf(a.index)>=0;return h.jsx("tr",{className:b("joinClasses")(a.className||null,(d.props.selectedRow===a?"_4jpt":"")+(d.props.selectedRow===a?" _6nr3":"")+(j?" _73go":"")+(j?" _73gp":"")),ref:d.props.rowRef(a,c),onMouseEnter:f,onMouseLeave:g,onClick:i,children:e},a.key||"row"+c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a,c,d,e){var f=this.props.columns[d];f.cellRenderer?c=f.cellRenderer(a,d,e,c):c=a;a=b("joinClasses")(f.cellClassName||null,(this.props.smallPadding&&!this.props.noPadding?"_73gq":"")+(this.props.noPadding?" _5m_a":"")+" _100u"+(f.isNumeric?" _54_7":""));this.props.height?c=h.jsx("div",{style:{display:"block",width:f.width},children:c}):this.props.fixColumnWidth&&(c=h.jsx("div",{style:{width:f.width},children:c}));f=f.hovercardURIGenerator&&e.active?f.hovercardURIGenerator(e):null;return h.jsx("td",{className:a,"data-hovercard":f,children:c},"cell"+d)};d.render=function(){var a=this.props.height?{height:this.props.height,overflowY:"scroll",display:"block"}:null;return h.jsx("tbody",{className:"_100w",style:a,children:this.props.rows.map(this.$1)})};return c}(h.Component);a.propTypes={columns:(c=b("prop-types")).array.isRequired,rows:c.array.isRequired,height:c.number,selectedRow:c.object,rowRef:c.func,onRowMouseEnter:c.func,onRowMouseLeave:c.func,onRowClick:c.func,fixColumnWidth:c.bool,highlightedRows:c.array,smallPadding:c.bool,noPadding:c.bool};a.defaultProps={rowRef:function(){return null}};e.exports=a}),null);
__d("XUIDataTableHead.react",["cx","AccessibleTableParts.react","Keys","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("AccessibleTableParts.react").HeadRow,i=b("React");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onSortSelection(a.id)},d.$2=function(a){var c="ascending",e="descending",f="none",g=a.sortable,h=a.id===d.props.columnToSortBy,j=b("joinClasses")("_jxx"+(g?" _54_8":"")+(h?" _54_9":"")+(a.isNumeric?" _54_7":"")+(h&&d.props.reverseSort?" _5y6x":""),a.className),k,l=null,m=null;isNaN(parseFloat(a.width))||(k=typeof a.width==="number"?"px":"",m=a.width+k);isNaN(parseFloat(a.paddingLeft))||(k=typeof a.paddingLeft==="number"?"px":"",l=a.paddingLeft+k);k=null;(l||m)&&(k={},l&&(k.paddingLeft=l),m&&(k.width=m));a.headerRenderer?l=a.headerRenderer(a.label):l=a.label||null;d.props.useFixedWidth&&(l=i.jsx("div",{style:{display:"block",width:a.width},children:l}));return i.jsx("th",{style:k,"aria-sort":h?d.props.reverseSort?e:c:f,onKeyPress:g?function(b){return d.$3(b,a)}:null,tabIndex:0,onClick:g?d.$1.bind(babelHelpers.assertThisInitialized(d),a):null,className:j,children:l},a.id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a,c){a=a||window.event;var d=a.keyCode||a.which;(d===b("Keys").RETURN||d===b("Keys").SPACE)&&(a.preventDefault(),this.$1(c))};d.render=function(){var a=this.props.useFixedWidth?{display:"block"}:null;return i.jsx("thead",{className:"_jy0"+(this.props.hidden?" _-4-":""),style:a,children:i.jsx(h,{className:"_jy1",children:this.props.columns.map(this.$2)})})};return c}(i.Component);a.propTypes={columns:(c=b("prop-types")).array.isRequired,columnToSortBy:c.string,onSortSelection:c.func.isRequired,reverseSort:c.bool,useFixedWidth:c.bool,hidden:c.bool};e.exports=a}),null);
__d("XUIDataTable.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React","XUIDataTableBody.react","XUIDataTableHead.react","XUITable.react","emptyFunction","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("React"),i=100;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){return!c.props.bodyHeight?c.props.columns:c.props.columns.map(function(a){return babelHelpers["extends"]({},a,{width:a.width||i})})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=null,c=this.props,d=c.viewStart;c=c.viewLength;c=this.props.viewLength!==null?this.props.rows.slice(d,d+c):this.props.rows.slice(d,this.props.rows.length);d=h.jsx(b("XUIDataTableBody.react"),{columns:this.$1(),rows:c,height:this.props.bodyHeight,selectedRow:this.props.selectedRow,rowRef:this.props.rowRef,onRowMouseEnter:this.props.onRowMouseEnter,onRowMouseLeave:this.props.onRowMouseLeave,onRowClick:this.props.onRowClick,fixColumnWidth:this.props.fixColumnWidth,highlightedRows:this.props.highlightedRows,smallPadding:this.props.smallPadding,noPadding:this.props.noPadding});c="_54_6"+(this.props.bodyHeight?" _4yv-":"");if(this.props.showHeader&&this.props.stickyHeader){a=h.jsx(b("BootloadOnRender.react"),{component:h.jsx(b("LazyComponent.react"),{className:"_3vw9",children:h.jsx(b("XUITable.react"),{"data-testid":void 0,outerBorder:this.props.outerBorder,className:(c,"_1i_v"),children:h.jsx(b("XUIDataTableHead.react"),{columns:this.$1(),columnToSortBy:this.props.columnToSortBy,onSortSelection:this.props.onSortAttempt,reverseSort:this.props.reverseSort,useFixedWidth:!!this.props.bodyHeight})})}),loader:b("JSResource")("StickyArea.react").__setRef("XUIDataTable.react"),placeholder:h.jsx("div",{})});return h.jsxs("div",{className:this.props.className,children:[a,h.jsxs(b("XUITable.react"),{"data-testid":void 0,outerBorder:this.props.outerBorder,className:c,children:[h.jsx(b("XUIDataTableHead.react"),{columns:this.$1(),onSortSelection:b("emptyFunction"),hidden:!0}),d]})]})}this.props.showHeader&&(a=h.jsx(b("XUIDataTableHead.react"),{columns:this.$1(),columnToSortBy:this.props.columnToSortBy,onSortSelection:this.props.onSortAttempt,reverseSort:this.props.reverseSort,useFixedWidth:!!this.props.bodyHeight}));return h.jsxs(b("XUITable.react"),{"data-testid":void 0,outerBorder:this.props.outerBorder,className:b("joinClasses")(this.props.className,c),children:[a,d]})};return c}(h.Component);a.propTypes={fixColumnWidth:(c=b("prop-types")).bool,onSortAttempt:c.func.isRequired,reverseSort:c.bool.isRequired,columnToSortBy:c.string,columns:c.array.isRequired,rows:c.array.isRequired,selectedRow:c.object,outerBorder:c.bool,showHeader:c.bool,stickyHeader:c.bool,bodyHeight:c.number,viewStart:c.number,viewLength:c.number,onRowMouseEnter:c.func,onRowMouseLeave:c.func,onRowClick:c.func,highlightedRows:c.array,smallPadding:c.bool,noPadding:c.bool,rowRef:c.func};a.defaultProps={showHeader:!0,viewStart:0,viewLength:null,fixColumnWidth:!1,rowRef:function(){return null}};e.exports=a}),null);
__d("ObjectSort",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();a={getStringSortFunction:function(a){return function(b,c){b=b[a];c=c[a];typeof b==="string"&&typeof c==="string"||g(0,2652);return b.toLowerCase().localeCompare(c.toLowerCase())}},getNullableStringSortFunction:function(a){return function(b,c){b=b[a];c=c[a];b==null||c==null||typeof b==="string"&&typeof c==="string"||g(0,19701);if(b==null)return 1;return c==null?-1:b.toLowerCase().localeCompare(c.toLowerCase())}},getReverseStringSortFunction:function(a){return function(b,c){b=b[a];c=c[a];typeof b==="string"&&typeof c==="string"||g(0,2652);return-b.toLowerCase().localeCompare(c.toLowerCase())}},getNumericSortFunction:function(a){return function(b,c){return(b[a]||0)-(c[a]||0)}},getReverseNumericSortFunction:function(a){return function(b,c){return-((b[a]||0)-(c[a]||0))}},getObjectInnerNumericSortFunction:function(a){return function(b,c){b=+b[a].innerHTML;c=+c[a].innerHTML;return(b||0)-(c||0)}},getReverseObjectInnerNumericSortFunction:function(a){return function(b,c){b=+b[a].innerHTML;c=+c[a].innerHTML;return-((b||0)-(c||0))}},getObjectInnerStringSortFunction:function(a){return function(b,c){b=b[a].innerHTML;c=c[a].innerHTML;return b.toLowerCase().localeCompare(c.toLowerCase())}},getReverseObjectInnerStringSortFunction:function(a){return function(b,c){b=b[a].innerHTML;c=c[a].innerHTML;return-b.toLowerCase().localeCompare(c.toLowerCase())}},getDateSortFunction:function(a){__p&&__p();return function(b,c){__p&&__p();b=b[a];c=c[a];b=Date.parse(b);c=Date.parse(c);(isNaN(b)||isNaN(c))&&g(0,2653);if(b===c)return 0;else if(b<c)return-1;else return 1}},getReverseDateSortFunction:function(a){__p&&__p();return function(b,c){__p&&__p();b=b[a];c=c[a];b=Date.parse(b);c=Date.parse(c);(isNaN(b)||isNaN(c))&&g(0,2653);if(b===c)return 0;else if(b<c)return 1;else return-1}},getLinkInnerStringSortFunction:function(a){return function(b,c){b=b[a].props.children;c=c[a].props.children;return b.toLowerCase().localeCompare(c.toLowerCase())}},getLinkInnerNumericSortFunction:function(a){return function(b,c){b=b[a].props.children;c=c[a].props.children;return(b||0)-(c||0)}},getTooltipInnerDateSortFunction:function(a){return function(b,c){b=b[a].props.children[0];c=c[a].props.children[0];return(b||0)-(c||0)}}};e.exports=a}),null);
__d("getDataTableSlice",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b===0&&(c==null||c>=a.length)?a:a.slice(b,c==null?void 0:b+c)}e.exports=a}),null);
__d("XUISortableDataTable.react",["invariant","ObjectSort","React","XUIDataTable.react","arrayStableSort","emptyFunction","getDataTableSlice","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("React");a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={columnToSortBy:c.props.columnToSortBy,selectedRow:null,reverseSort:c.props.reverseSort},c.$1=function(a,b){for(var c=0;c<a.length;c++)if(a[c].id===b)return a[c];return null},c.$4=function(a){var b=a===c.state.columnToSortBy&&!c.state.reverseSort;c.setState({columnToSortBy:a,reverseSort:b});c.props.onSort(a,b)},c.$5=function(a,b){c.props.highlightClickedRow&&c.setState({selectedRow:a}),c.props.onRowClick&&c.props.onRowClick(a,b)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){var b=this.state.columnToSortBy;if(!b)return;a=this.$1(a.columns,b);a||this.setState({columnToSortBy:null})};d.$2=function(a,c){switch(typeof a){case"string":return b("ObjectSort").getNullableStringSortFunction(c);case"number":return b("ObjectSort").getNumericSortFunction(c);case"object":a=a.innerHTML;if(typeof a==="string")if(!isNaN(a))return b("ObjectSort").getObjectInnerNumericSortFunction(c);else return b("ObjectSort").getObjectInnerStringSortFunction(c);default:throw new Error("No sort comparator available for column "+String(c)+".Columns not displaying strings or numbers should have custom comparator functions.")}};d.$3=function(a,c,d){var e=this.$1(this.props.columns,c),f=e?e.comparator:null;if(!f){for(var e=0;e<a.length;e++)if(a[e][c]!=null)break;f=a.length>0&&e<a.length?this.$2(a[e][c],c):b("emptyFunction")}return d?function(a,b){return-f(a,b)}:f};d.$6=function(){__p&&__p();var a=this.state,c=a.columnToSortBy;a=a.reverseSort;if(c){var d=this.$1(this.props.columns,c);d=this.$3(this.props.rows,c,a);c=b("arrayStableSort")(this.props.rows,d)}else c=this.props.rows;a=b("getDataTableSlice")(c,this.props.viewStart,this.props.viewLength);d=this.props.stickyRows.concat(a).concat(this.props.stickyFooterRows);this.props.onSortFinished&&this.props.onSortFinished(d,c);return d};d.render=function(){return h.jsx(b("XUIDataTable.react"),babelHelpers["extends"]({},this.props,{ref:"table",selectedRow:this.props.highlightClickedRow?this.state.selectedRow:this.props.selectedRow,columnToSortBy:this.state.columnToSortBy,reverseSort:this.state.reverseSort,onSortAttempt:this.$4,onRowClick:this.$5,rows:this.$6(),rowRef:this.props.rowRef,viewStart:0,stickyHeader:this.props.stickyHeader,fixColumnWidth:this.props.fixColumnWidth,highlightedRows:this.props.highlightedRows,smallPadding:this.props.smallPadding,noPadding:this.props.noPadding}))};return c}(h.Component);a.propTypes={fixColumnWidth:(c=b("prop-types")).bool,outerBorder:c.bool,columns:c.array.isRequired,columnToSortBy:c.string,selectedRow:c.object,rowRef:c.func,onSort:c.func,onSortFinished:c.func,reverseSort:c.bool,rows:c.array.isRequired,stickyRows:c.array,stickyFooterRows:c.array,stickyHeader:c.bool,showHeader:c.bool,highlightClickedRow:c.bool,viewStart:c.number,viewLength:c.number,onRowMouseEnter:c.func,onRowMouseLeave:c.func,onRowClick:c.func,highlightedRows:c.array,smallPadding:c.bool,noPadding:c.bool};a.defaultProps={onSort:b("emptyFunction"),showHeader:!0,highlightClickedRow:!1,reverseSort:!1,viewStart:0,viewLength:null,stickyRows:[],stickyFooterRows:[],fixColumnWidth:!1,rowRef:function(){return null}};e.exports=a}),null);
__d("XFamilyBulkTagAddAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/family/bulk_tag_save/",{subject:{type:"Int"},save_tags:{type:"String"}})}),null);
__d("PhotoTagStore",["ActorURI","AsyncRequest","XFamilyBulkTagAddAsyncController","isEmpty"],(function(a,b,c,d,e,f){__p&&__p();var g;a=function(){"use strict";__p&&__p();function a(){this._tagList={},this._textTagList={},this._originalTagList={},this._dirtyPhotosByUid={},a.instance=this}var c=a.prototype;c.getPhotoTags=function(a){return this._tagList[a]||{}};c.photoHasTags=function(a){return!(g||(g=b("isEmpty")))(this.getPhotoTags(a))};c.clear=function(){this._tagList={},this._textTagList={},this._originalTagList={},this._dirtyPhotosByUid={}};c.addTag=function(a,b,c,d){a[b]=a[b]||{};var e=a[b][c]||[];e.push(d);a[b][c]=e};c.revert=function(a){var c=this._tagList,d=this._originalTagList;for(var e in c)(g||(g=b("isEmpty")))(d[e][a])?c[e][a]=[]:c[e][a]=d[e][a];this._dirtyPhotosByUid={}};c.hasNewTags=function(){return!(g||(g=b("isEmpty")))(this._tagList)||!(g||(g=b("isEmpty")))(this._textTagList)};c.userHasDirtyTags=function(a){return!(g||(g=b("isEmpty")))(this._dirtyPhotosByUid[a])};c.userDirtyTagsCount=function(a){return Object.keys(this._dirtyPhotosByUid[a]).length};c.handleTagFetch=function(a){for(var b in a)this.loadTagInfo(b,a[b])};c.saveAlbumTagsForUser=function(a,c,d,e){__p&&__p();e===void 0&&(e=!1);var f={},h=[],i=this._dirtyPhotosByUid[a]||{};for(var j in i){i=this._tagList[j][a];if((g||(g=b("isEmpty")))(i)){h[h.length]=j;continue}i.forEach(function(a){f[j]={x:a.x,y:a.y}})}i={subject:a,action:"save",save_tags:f};h=b("ActorURI").create("/ajax/photos/album/tags.php",c);e&&(i={subject:a,save_tags:JSON.stringify(f)},h=b("XFamilyBulkTagAddAsyncController").getURIBuilder().getURI());new(b("AsyncRequest"))().setURI(h).setData(i).setHandler(function(a){d(a.payload)}).setAllowCrossPageTransition(!0).send();delete this._dirtyPhotosByUid[a]};c.getTagsFromList=function(a){var b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var d in a[c])Object.prototype.hasOwnProperty.call(a[c],d)&&a[c][d].forEach(function(a){return b.push(a)});return b};c.getAllTags=function(){var a=this.getTagsFromList(this._tagList),b=this.getTagsFromList(this._textTagList);return a.concat(b)};c.removeTag=function(a,c){var d=this._tagList[a],e=this._originalTagList[a]||{};e[c]?(this._dirtyPhotosByUid[c]=this._dirtyPhotosByUid[c]||{},this._dirtyPhotosByUid[c][a]=!0):delete this._dirtyPhotosByUid[c][a];for(var f in d)if(f==c){e=this._tagList[a][f];delete this._tagList[a][f];(g||(g=b("isEmpty")))(this._tagList[a])&&delete this._tagList[a];return e}};c.removeTextTag=function(a,c){var d=this._textTagList[a];if(!(g||(g=b("isEmpty")))(d[c])){d=this._textTagList[a][c];this._textTagList[a][c]=[];(g||(g=b("isEmpty")))(this._textTagList[a])&&delete this._textTagList[a];return d}return[]};c.removeAllNewTagsOfUser=function(a){var b=[];if(!this.userHasDirtyTags(a))return b;var c=this._dirtyPhotosByUid[a];for(var d in c)b=b.concat(this.removeTag(d,a));return b};c.removeAllTagsFromPhoto=function(a){__p&&__p();var c=[];if(!(g||(g=b("isEmpty")))(this._tagList[a]))for(var d in this._tagList[a]){if(!Object.prototype.hasOwnProperty.call(this._tagList[a],d))continue;c=c.concat(this.removeTag(a,d))}if(!(g||(g=b("isEmpty")))(this._textTagList[a]))for(var e in this._textTagList[a]){if(!Object.prototype.hasOwnProperty.call(this._textTagList[a],e))continue;c=c.concat(this.removeTextTag(a,e))}return c};c.storeTag=function(a,b,c,d,e){this.storeTagWithOptions(a,b,c,d,{can_remove:e})};c.storeTagWithOptions=function(a,b,c,d,e){this._dirtyPhotosByUid[b]=this._dirtyPhotosByUid[b]||{};this._dirtyPhotosByUid[b][a]=!0;c={x:c,y:d};Object.assign(c,e);!b?this.addTag(this._textTagList,a,c.name,c):this.addTag(this._tagList,a,b,c)};c.loadTagInfo=function(a,b){this._tagList[a]={};this._originalTagList[a]={};for(var c=0;c<b.length;c++){var d=b[c];this.addTag(this._tagList,a,d.subject,d);this.addTag(this._originalTagList,a,d.subject,d)}};a.getInstance=function(){a.instance===null&&new a();return a.instance};return a}();a.instance=null;e.exports=a}),null);