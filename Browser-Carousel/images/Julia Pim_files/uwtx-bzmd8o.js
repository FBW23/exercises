if (self.CavalryLogger) { CavalryLogger.start_js(["jQ2oA"]); }

__d("VideoChannelCallerToPlayerOriginMap",[],(function(a,b,c,d,e,f){e.exports={internal:"unknown",www_feed_pivots:"newsfeed",www_feed_snowlift:"unknown",misc_photo_set:"unknown",mobile:"unknown",search:"search",www_feed_rhc:"newsfeed",www_notification:"notifications",www_permalink:"permalink",www_permalink_rhc:"permalink",www_permalink_rhc_from_notification:"notifications",my_video_channels_ent_query:"unknown",top_followed_video_channels_ent_query:"unknown",badge:"unknown",pagination:"unknown",subtitle:"unknown",channel_view_from_unknown:"unknown",channel_view_from_newsfeed:"newsfeed",channel_view_from_explorefeed:"unknown",live_indexer_from_explorefeed:"unknown",live_indexer_from_newsfeed:"unknown",nn_indexer_from_newsfeed:"unknown",channel_view_from_search:"unknown",channel_view_from_newsfeed_pivot:"unknown",newsfeed_pivot_inline:"unknown",mobile_newsfeed_pivot_inline:"unknown",channel_view_from_page_call_to_action:"unknown",channel_view_from_page_timeline:"page_timeline",channel_view_from_page_timeline_featured:"unknown",channel_view_from_page_video_tab:"page_timeline",channel_view_from_page_home_hero:"unknown",channel_view_from_user_timeline:"user_timeline",channel_view_from_user_video_tab:"unknown",channel_view_from_group_timeline:"group",channel_view_from_group_video_tab:"unknown",channel_view_from_video_page_spotlight:"unknown",channel_view_from_video_page_video_list:"unknown",channel_view_from_video_page_video_tab:"unknown",channel_view_from_channel_tab:"unknown",channel_view_from_saved_story:"unknown",saved_story_inline:"unknown",channel_view_from_shared_with_you_story:"unknown",shared_with_you_story_inline:"unknown",channel_view_from_latest_from_your_channels_story:"unknown",latest_from_your_channels_story_inline:"unknown",channel_view_from_channel_pivot:"unknown",channel_pivot_inine:"unknown",channel_view_from_recommended_channel_story:"unknown",recommended_channel_story_inline:"unknown",channel_view_from_video_home:"video_home",video_home_inline:"unknown",video_home_channel_see_all:"unknown",social_player_up_next:"unknown",channel_view_from_casting:"unknown",connected_tv:"unknown",connected_tv_discovery:"unknown",connected_tv_player:"unknown",connected_tv_profile:"unknown",video_home_feed:"unknown",video_home_hero:"unknown",feed_survey_swipe:"unknown",feed_pivots_inline:"newsfeed",channel_view_from_feed_pivots:"newsfeed",video_sets_cache_refresh:"unknown",video_sets_cache_check:"unknown",dummy_story_recommended_videos:"unknown",dummy_story_friends_enjoying:"unknown",live_event_video_set:"unknown",live_videos_set:"unknown",single_creator_video_set:"unknown",frt_tool:"unknown",dummy_story_friends_enjoying_now:"unknown",dummy_story_dummy_action:"unknown",oculus_video:"unknown",trending_demographics_live:"unknown",live_map:"live_map",unconnected_live_video:"unknown",profile_video_gallery:"unknown",channel_view_from_playlist:"unknown",oculus_social_hub:"unknown",akira:"unknown",is_live_video_chaining:"unknown",is_live_video_chaining_others:"unknown",video_creator_chaining:"unknown",tahoe:"unknown",living_room:"unknown",shows_cover_trailer:"page_timeline",shows_episodes_tab:"page_timeline",shows_playlists_tab:"page_timeline",shows_home_tab:"page_timeline",shows_more_videos_tab:"page_timeline",show_episode_feed_recommendations:"unknown",parent_page_timeline:"page_timeline",watch_watchlist_tab:"unknown",watch_feed_tab:"unknown",watch_injection:"unknown",watch_topic_feed:"unknown",watch_topic_channel_feed:"unknown",watch_subtopic_channel_feed:"unknown",watch_section_see_all:"unknown",social_player_from_video_home:"unknown",watch_custom_ads:"unknown",watch_embedded_endscreen:"unknown",wns:"unknown",explore_feed_deep_dive:"unknown",voyager:"unknown",games_video_channel:"games_video_channel",lol_video_feed:"unknown",avd:"unknown",live_chaining:"unknown",live_tab:"unknown",living_room_chaining:"unknown",fblite_trending_video:"unknown",portal:"unknown",lasso:"unknown",watch_social:"unknown",messenger:"unknown",chaining_gaming_promotion:"unknown",chaining_gaming_only:"unknown",cricket_videos:"unknown",premium_music_video:"unknown",channel_view_from_newsfeed_related:"newsfeed",channel_view_from_video_home_related:"video_home",feed_short_video:"unknown",photo_chaining:"unknown",youtube_share:"unknown",watch_rainbow_qp:"unknown",interest_destination:"unknown",test:"unknown",unknown:"unknown"}}),null);
__d("LiveTahoeInStreamChainingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:LiveTahoeInStreamChainingLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveTahoeInStreamChainingLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveTahoeInStreamChainingLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCurrentVideoID=function(a){this.$1.current_video_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setNextVideoID=function(a){this.$1.next_video_id=a;return this};c.setNextVideoIsLive=function(a){this.$1.next_video_is_live=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={current_video_id:!0,event:!0,next_video_id:!0,next_video_is_live:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("TahoeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setChainDepth=function(a){this.$1.chain_depth=a;return this};c.setChainingContextIdentifier=function(a){this.$1.chaining_context_identifier=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsAutoplaying=function(a){this.$1.is_autoplaying=a;return this};c.setMediaID=function(a){this.$1.media_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUpNextMediaID=function(a){this.$1.up_next_media_id=a;return this};c.setUpNextPosition=function(a){this.$1.up_next_position=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={chain_depth:!0,chaining_context_identifier:!0,event:!0,is_autoplaying:!0,media_id:!0,time:!0,up_next_media_id:!0,up_next_position:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("VideoTipJarTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoTipJarLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoTipJarLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoTipJarLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setGamesOrderID=function(a){this.$1.games_order_id=a;return this};c.setIsCustomAmount=function(a){this.$1.is_custom_amount=a;return this};c.setMatchingQuantity=function(a){this.$1.matching_quantity=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setPaymentID=function(a){this.$1.payment_id=a;return this};c.setProductID=function(a){this.$1.product_id=a;return this};c.setSparkQuantity=function(a){this.$1.spark_quantity=a;return this};c.setSpendID=function(a){this.$1.spend_id=a;return this};c.setSpendingSubtype=function(a){this.$1.spending_subtype=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTipJarEvent=function(a){this.$1.tip_jar_event=a;return this};c.setTipPaymentID=function(a){this.$1.tip_payment_id=a;return this};c.setUsdAmount=function(a){this.$1.usd_amount=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setVirtualGiftID=function(a){this.$1.virtual_gift_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={games_order_id:!0,is_custom_amount:!0,matching_quantity:!0,name:!0,payment_id:!0,product_id:!0,spark_quantity:!0,spend_id:!0,spending_subtype:!0,surface:!0,time:!0,tip_jar_event:!0,tip_payment_id:!0,usd_amount:!0,vc:!0,video_id:!0,virtual_gift_id:!0,weight:!0};e.exports=a}),null);
__d("LiveVideoInteractiveAlertSidePaneView.react",["Arbiter","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React");a=b("React");var h=a.useEffect,i=a.useState,j=b("lazyLoadComponent")(b("JSResource")("IdentityBadgeEarnedAlertView.react").__setRef("LiveVideoInteractiveAlertSidePaneView.react"));c=function(a){__p&&__p();var c=i(null),d=c[0],e=c[1];h(function(){var a=b("Arbiter").subscribe("LiveVideoInteractiveAlert/sidePaneAlertReceived",function(a,b){return e(b)});return function(){return a&&a.unsubscribe()}});if(d===null)return null;switch(d.type){case"IDENTITY_BADGE_EARNED":return g.jsx(g.Suspense,{fallback:g.jsx("span",{}),children:g.jsx(j,{badgeName:"Familiar Face",badgeType:"frequent_watcher",videoID:a.videoID,onDismiss:function(){return e(null)}})});default:return null}};e.exports=c}),null);
__d("prevNextControlActionTypes",[],(function(a,b,c,d,e,f){"use strict";a={ADD_ID:"ADD_ID",POP_ID:"POP_ID"};e.exports=a}),null);
__d("prevNextControlActions",["prevNextControlActionTypes"],(function(a,b,c,d,e,f){"use strict";a={addID:function(a){return{type:b("prevNextControlActionTypes").ADD_ID,payload:a}},popID:function(){return{type:b("prevNextControlActionTypes").POP_ID}}};e.exports=a}),null);
__d("prevNextControlReducer",["prevNextControlActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={videoIdQueue:[]};a=function(a,c){a===void 0&&(a=g);switch(c.type){case b("prevNextControlActionTypes").ADD_ID:if(c.payload!==void 0)return{videoIdQueue:a.videoIdQueue.concat(c.payload)};else return a;case b("prevNextControlActionTypes").POP_ID:return{videoIdQueue:a.videoIdQueue.slice(0,a.videoIdQueue.length-1)};default:return a}};e.exports=a}),null);
__d("prevNextControlStore",["prevNextControlReducer","redux"],(function(a,b,c,d,e,f){"use strict";a=b("redux").createStore(b("prevNextControlReducer"));e.exports=a}),null);
__d("TahoeActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({SET_MC:null,EXIT:null,SET_UFI_INSTANCE_ID:null});e.exports=a}),null);
__d("TahoeDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("TahoeActions",["TahoeActionTypes","TahoeDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setMediaController:function(a){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").SET_MC,mediaController:a})},setUFIInstanceID:function(a){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").SET_UFI_INSTANCE_ID,ufiInstanceID:a})},exit:function(){b("TahoeDispatcher").dispatch({type:b("TahoeActionTypes").EXIT})}};e.exports=a}),null);
__d("TahoeConstants",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";a={MIN_PLAYER_WIDTH:640,MIN_PLAYER_HEIGHT:360,MAX_PLAYER_HEIGHT:1e3,MIN_BOTTOM_PANE_HEIGHT:160,SIDE_PANE_WIDTH:400,BLUE_BAR_HEIGHT:b("CurrentUser").isLoggedIn()?49:0,DEFAULT_BROWSER_TITLE:b("CurrentUser").isWorkUser()?"Workplace":"Facebook",UP_NEXT_UNIT_ID_PREFIX:"video-up-next-"};e.exports=a}),null);
__d("TahoeDOM",["csx","cx","BlueBar","BootloadedComponent.react","CSS","DialogX","DOM","DOMQuery","JSResource","React","ReactDOM","Style","XUISpinner.react","ge","getElementPosition","getVendorPrefixedName"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React"),j=876;a=function(){__p&&__p();function a(a){this.$6=a}var c=a.prototype;c.createDialog=function(){__p&&__p();var a={width:j},c=this.$6.getFeedLocation();this.$1=b("CSS").setClass(b("DOM").create("div"),"_5-g-");var d=b("ge")("bizBlackBar");b("CSS").conditionClass(this.$1,"_699q",!b("BlueBar").hasFixedBlueBar()&&!d);d=b("ge")("mediaManagerGlobalChromeBar");b("CSS").conditionClass(this.$1,"_1dm_",c===164||d);this.$4=b("CSS").setClass(b("DOM").create("div"),"_6444");b("DOM").appendContent(this.$1,this.$4);this.$8=b("CSS").setClass(b("DOM").create("div"),"_6445 _6j32");b("DOM").appendContent(this.$1,this.$8);c=new(b("DialogX"))(a,this.$1);d=c.getRoot();d!=null&&b("CSS").setClass(d,"_5-g_");document.body&&b("CSS").addClass(document.body,"_1_-b");c.show();this.$9(c);return c};c.$9=function(a){var c=b("DOMQuery").find(document.body,"._li");b("DOM").appendContent(c,a.getRoot())};c.placeBackAffordance=function(a,c,d,e){b("ReactDOM").render(i.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("TahoeBackAffordanceContainer.react").__setRef("TahoeDOM"),bootloadPlaceholder:i.jsx("div",{className:"_4ua2"}),entryURI:a,isPermalink:c,landingPageType:e,mediaController:d}),this.$4)};c.insertPlaceholderMedia=function(){var a,c=b("CSS").setClass((a=b("DOM")).create("div"),"_1c_u");b("ReactDOM").render(i.jsx(b("XUISpinner.react"),{className:"_179h",size:"large",background:"dark"}),c);this.$5=c;c=b("CSS").setClass(a.create("div"),"_5-yb _5_63");a.setContent(c,this.$5);a.prependContent(this.$4,c)};c.insertMedia=function(a){var c=b("getElementPosition")(a);this.$5=a;this.$2=(a=b("DOM")).create("div");a.insertAfter(this.$5,this.$2);this.$7=!0;var d=b("CSS").setClass(a.create("div"),"_5-yb _5_63");a.setContent(d,this.$5);a.prependContent(this.getContent(),d);this.$10(d,c)};c.$10=function(a,c){var d;this.$6.setMediaState();var e=(d=b("Style")).getFloat(this.$5,"width"),f=d.getFloat(this.$5,"height"),g="translate("+c.x+"px,"+c.y+"px)";e="scale("+c.width/e+", "+c.height/f+")";d.set(a,b("getVendorPrefixedName")("transform"),g+" "+e);a.offsetWidth;d.set(a,"transition","all .4s cubic-bezier(.12,.8,.32,1)");d.set(a,b("getVendorPrefixedName")("transform"),"none")};c.returnFeedElement=function(){var a=this.$5.clientHeight,c=b("CSS").setClass(b("DOM").create("div"),"_1c_u _61-j");b("ReactDOM").render(i.jsx(b("XUISpinner.react"),{size:"large",background:"dark"}),c);b("Style").set(c,"height",a+"px");b("DOM").prependContent(this.getContent(),c);this.$7?(b("DOM").insertAfter(this.$2,this.$3),b("DOM").remove(this.$2),b("Style").set(this.$3,"width",""),b("Style").set(this.$3,"height","")):b("DOM").remove(this.getContent().children[1]);this.$7=!1};c.cleanup=function(){var a=document.body;a&&(b("CSS").removeClass(a,"_1_-b"),b("CSS").removeClass(a,"_3yn5"));b("ReactDOM").unmountComponentAtNode(this.$4)};c.getDialogContent=function(){return this.$1};c.getContent=function(){return this.$4};c.getMediaContent=function(){return this.$5};c.setMediaContent=function(a){this.$5=a};c.setMediaContentSize=function(a,c){b("Style").set(this.$5,"width",a),b("Style").set(this.$5,"height",c)};c.setMediaSizeForTahoeV2=function(a,c){b("Style").set(this.$5,"width",a+"px"),b("Style").set(this.$5,"height",c+"px"),b("Style").set(this.$4,"width",a+"px")};c.setInitialMediaContent=function(a){this.$3=a};c.getSideContent=function(){return this.$8};return a}();e.exports=a}),null);
__d("TahoeVideoResizingController",["TahoeConstants"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("TahoeConstants")).MIN_BOTTOM_PANE_HEIGHT,h=a.MIN_PLAYER_WIDTH,i=a.MIN_PLAYER_HEIGHT,j=a.BLUE_BAR_HEIGHT,k=a.SIDE_PANE_WIDTH;c={getPlayerSize:function(a,b){a=a-k;b=b-g-j;a=Math.max(a,h);b=Math.max(b,i);return{width:a,height:b}}};e.exports=c}),null);
__d("TahoeVideoStore",["FluxMapStore","TahoeActionTypes","TahoeDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,c){switch(c.type){case b("TahoeActionTypes").SET_MC:a=a.set("mediaController",c.mediaController);break;case b("TahoeActionTypes").SET_UFI_INSTANCE_ID:a=a.set("ufiInstanceID",c.ufiInstanceID);break;case b("TahoeActionTypes").EXIT:a=b("immutable").Map();break;default:break}return a};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("TahoeDispatcher"))}),null);
__d("TahoeCopyrightMessage.react",["ix","cx","fbt","Image.react","React","SubscriptionsHandler","XUICloseButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("React");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasCopyrightAction:c.props.videoController.isAudioBlocked()},c.$2=function(){c.setState({hasCopyrightAction:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(this.props.videoController.addListener("blockVideo",function(){a.setState({hasCopyrightAction:!1})}),this.props.videoController.addListener("blockAudio",function(){a.setState({hasCopyrightAction:!0})}),this.props.videoController.addListener("unblockAudio",function(){a.setState({hasCopyrightAction:!1})}))};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){return!this.state.hasCopyrightAction?null:j.jsxs("div",{className:"_6ukn",children:[j.jsx(b("Image.react"),{src:g("519615")}),j.jsx("div",{className:"_6uko",children:this.props.videoController.isBroadcaster()?i._("Your video may be muted in some countries while you're playing this song."):i._("This video is muted because it contains music that can't be played in the country you're in.")}),j.jsx(b("XUICloseButton.react"),{className:"_6ujz",shade:"light",tooltip:"Close",onClick:this.$2})]})};return c}(j.Component);e.exports=a}),null);
__d("TahoeMainPlayerViewportTracking",["csx","StreamViewportTracking"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=25,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getTimetrackingDataToLog=function(a){a=b.prototype.getTimetrackingDataToLog.call(this,a);a.ft.src=h;return a};return a}(b("StreamViewportTracking"));e.exports={setup:function(a,c,d){c=new i(b("StreamViewportTracking").getBehavior(a,c,"._5-yb",d));c.init(a);return c}}}),null);
__d("TahoeUpNextUnitPlaceholder.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(){return h.jsxs("div",{children:[h.jsx("div",{className:"_27do"}),h.jsx("div",{className:"_27dr"}),h.jsx("div",{className:"_27em"}),h.jsx("div",{className:"_27en"})]})}e.exports=a}),null);
__d("TahoeSidePanePlaceholder.react",["cx","Layout.react","React","TahoeUpNextUnitPlaceholder.react","TahoeV2Config","cxMargin"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("React"),i=b("Layout.react").Column,j=b("Layout.react").FillColumn;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("TahoeV2Config").showTahoe2UI?h.jsx("div",{className:"_wxj _6j4x",children:h.jsxs("div",{className:"_6j4y",children:[h.jsx("div",{className:"_6j4z _6j4-"}),h.jsx("div",{className:"_6j4z _6j4_"}),h.jsx("div",{className:"_6j4z _6j50"}),h.jsx("div",{className:"_6j4z _6j54"}),h.jsx("div",{className:"_6j55",children:h.jsxs(b("Layout.react"),{children:[h.jsx(i,{className:"_3-90",children:h.jsx("div",{className:"_6j56"})}),h.jsx(j,{children:h.jsx("div",{className:"_6j57"})})]})})]})}):h.jsxs("div",{className:"_wxj _1-z7",children:[h.jsx("div",{className:"_1kna"}),h.jsx("div",{className:"_1knc"}),h.jsx("div",{className:"_1knd"}),h.jsx("div",{className:"_1kne"}),h.jsx("div",{className:"_1knf"}),h.jsx("div",{className:"_1kng"}),h.jsx(b("TahoeUpNextUnitPlaceholder.react"),{})]})};return c}(h.Component);e.exports=a}),null);
__d("TahoeLivingRoomPill.react",["ix","cx","fbt","Image.react","React","Text.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_4s4e _6jsd",children:[j.jsx(b("Image.react"),{className:"_4s4f",src:g("487848")}),j.jsx(b("Text.react"),{className:"_4s4g",children:i._("Watch Party")})]})};return c}(j.Component);e.exports=a}),null);
__d("TahoeUpNextOverlay.react",["cx","fbt","ix","Badge.react","CenteredContainer.react","CssBackgroundImage.react","Image.react","Layout.react","LineClamp.react","Link.react","React","Tahoe","TahoeEndScreenProgressCircle.react","TahoeLivingRoomPill.react","URI","VideoDuration.react","XUIGrayText.react","XUIText.react","asset","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("React"),l=b("Layout.react").Column,m=b("Layout.react").FillColumn,n=145,o=257,p=52;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.dismissString,e=c.ownerName,f=c.thumbURI,g=c.title,j=c.viewCount,q=c.duration,r=c.isLive,s=c.isSpherical,t=c.isLivingRoom;c=c.queueCount;var u=this.props.shouldAutoChain&&this.state.shown;return k.jsxs(b("Layout.react"),{className:"_64gd"+(u?"":" _1yks"),children:[k.jsx(l,{className:t?"_6ju4":"",children:k.jsxs(b("Link.react"),{onClick:function(){return a.$1(!1)},children:[k.jsx(b("CssBackgroundImage.react"),{height:n,width:o,imageURI:f,backgroundPosition:"50% 50%",className:"_6rcn"}),t?k.jsx(b("TahoeLivingRoomPill.react"),{}):null,k.jsx(b("CenteredContainer.react"),{className:"_4m5g",horizontal:!0,vertical:!0,fullHeight:!0,children:k.jsxs("div",{className:"_4m83",children:[k.jsx(b("TahoeEndScreenProgressCircle.react"),{makeProgress:u&&this.props.makeProgress,circleDiameter:p,onProgressDone:function(){return a.$1(!0)},timeoutSec:this.props.countdownTimeoutSec,children:k.jsx(b("Image.react"),{className:"_4m8c",src:i("101657")})}),k.jsx("div",{className:"_4m8d",children:h._("UP NEXT")})]})}),q?k.jsx("div",{className:"_4m8e",children:k.jsx(b("VideoDuration.react"),{isLive:r,isSpherical:s,duration:q})}):null]})}),k.jsxs(m,{className:"_64ge",children:[k.jsxs("div",{className:"_64gf",children:[g?k.jsx("div",{className:"_64gj",children:k.jsx(b("Link.react"),{onClick:function(){return a.$1(!1)},children:k.jsx(b("LineClamp.react"),{lines:3,fitHeightToShorterText:!0,enableTooltipOnOverflow:!0,children:k.jsx(b("XUIText.react"),{size:"header4",weight:"bold",children:g})})})}):null,e?k.jsx("div",{className:"_2pim",children:k.jsxs(b("LineClamp.react"),{lines:1,enableTooltipOnOverflow:!0,children:[k.jsx(b("XUIGrayText.react"),{size:"meta1",children:e}),this.$2()]})}):null,t&&c?k.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",children:h._("{queue_count} Videos",[h._param("queue_count",c)])}):null,j>0?t?this.$3(j):k.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",children:h._({"*":"{number} Views","_1":"1 View"},[h._plural(j,"number",b("intlSummarizeNumber")(j))])}):null]}),k.jsx("div",{className:"_64gk",children:k.jsxs(b("Link.react"),{onClick:function(){return a.$4()},children:[k.jsx(b("Image.react"),{className:"_64gl",src:i("368787")}),k.jsx(b("XUIText.react"),{className:"_64gl _2pir",size:"header3",children:d?d:h._("Cancel")})]})})]})]})};d.$3=function(a){a=a>1?k.jsx(b("XUIGrayText.react"),{display:"block",size:"meta1",children:h._("{view counter} watching now",[h._param("view counter",b("intlSummarizeNumber")(a))])}):null;return a};d.$4=function(){this.$5(),this.props.onDismiss(),this.props.logEvent("up_next_overlay_cancel")};d.$1=function(a){this.$5();if(a&&!this.props.shouldAutoChain)return;var c=b("Tahoe").get();c&&c.setPlayReason(a?"autoplay_initiated":"user_initiated");c=this.props.permalink;c&&(j||(j=b("URI"))).go(c);a?this.props.logEvent("up_next_overlay_redirect_on_countdown_finished"):this.props.logEvent("up_next_overlay_redirect_on_click")};d.$5=function(){this.setState({shown:!1})};d.$2=function(){var a=this.props,c=a.isOwnerBlueVerified;a=a.isOwnerGrayVerified;return!c&&!a?null:k.jsx("span",{className:"_3h80",children:c?k.jsx(b("Badge.react"),{size:"small",type:"verified"}):k.jsx(b("Badge.react"),{size:"small",type:"page_gray_check"})})};return c}(k.Component);e.exports=a}),null);
__d("TahoeUpNextLiveOverlay.react",["fbt","LiveTahoeInStreamChainingTypedLogger","React","TahoeUpNextOverlay.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("React");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){new(b("LiveTahoeInStreamChainingTypedLogger"))().setEvent(a).setCurrentVideoID(d.props.currentVideoID).setNextVideoID(d.props.upNextOverlayVideoData.id).setNextVideoIsLive(!!d.props.upNextOverlayVideoData.isLive).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!this.props.isShown?null:h.jsx("div",{onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,children:h.jsx(b("TahoeUpNextOverlay.react"),babelHelpers["extends"]({},this.props.upNextOverlayVideoData,{countdownTimeoutSec:30,dismissString:g._("Close"),shouldAutoChain:!0,makeProgress:!1,onDismiss:function(){},logEvent:this.$1}))})};return c}(h.Component);e.exports=a}),null);
__d("XTahoeVideoDataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/video_data/",{current_video_id:{type:"FBID"},video_ids:{type:"FBIDSet",required:!0}})}),null);
__d("TahoeUpNextLiveOverlayController",["AsyncRequest","DeferredComponent.react","EventListener","React","ReactDOM","XTahoeVideoDataAsyncController","cancelAnimationFrame","nullthrows","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g=b("React");a=function(){"use strict";__p&&__p();function a(a,b,c,d){this.$6=a,this.$2=null,this.$3=!1,this.$1=c,this.$7=d,this.$8=b,this.$4=!1}var c=a.prototype;c.cleanup=function(){this.$2&&this.$2(),this.$9&&this.$9.remove(),this.$10&&this.$10.remove(),this.$11&&this.$11.remove()};c.setup=function(){__p&&__p();var a=this;new(b("AsyncRequest"))(b("XTahoeVideoDataAsyncController").getURIBuilder().setFBIDSet("video_ids",this.$7).setFBID("current_video_id",this.$1).getURI()).setHandler(function(c){var d=(c=c)!=null?(c=c.payload)!=null?c.videosData:c:c;d&&d.length>0&&(a.$9=b("EventListener").listen(a.$8,"mouseenter",function(){a.$4=!0,a.render(d[0])}),a.$11=b("EventListener").listen(a.$8,"mousemove",function(){!a.$4&&a.$11&&(a.$11.remove(),a.$11=null,a.$4=!0,a.render(d[0]))}),a.$2=function(){if(a.$3)return;a.$4=!1;a.render(d[0],!0)},a.$10=b("EventListener").listen(a.$8,"mouseleave",function(){b("setTimeout")(b("nullthrows")(a.$2),10)}))}).send()};c.getCurrentVideoID=function(){return this.$1};c.render=function(a,c){c===void 0&&(c=!1),b("cancelAnimationFrame")(this.$5),this.$5=b("requestAnimationFrame")(this.renderReactComponent.bind(this,a,c))};c.renderReactComponent=function(a,c){var e=this;b("ReactDOM").render(g.jsx(b("DeferredComponent.react"),{deferredPlaceholder:g.jsx("span",{}),deferredComponent:function(a){return d(["TahoeUpNextLiveOverlay.react"],a)},currentVideoID:this.$1,isShown:!c,upNextOverlayVideoData:a,onMouseEnter:function(){e.$3=!0},onMouseLeave:function(){e.$3=!1}}),this.$6)};return a}();e.exports=a}),null);
__d("TahoeUpNextViewportTracking",["csx","StreamViewportTracking"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="tahoe_up_next_videos",i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.getTimetrackingDataToLog=function(a){a=b.prototype.getTimetrackingDataToLog.call(this,a);a.ft.tracking_source=h;return a};return a}(b("StreamViewportTracking"));e.exports={setup:function(a,c,d){c=new i(b("StreamViewportTracking").getBehavior(a,c,"._bne",d));c.init(a);return c}}}),null);
__d("TahoeWatchLogo.react",["fbt","Image.react","Link.react","React","TetraText.react","URI","VideoHomeTypedLoggerLite","XVideoHomeFeedController","stylex"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=b("React");c=b("React");var k=c.useCallback,l=b("VideoHomeTypedLoggerLite").log;(h||(h=b("stylex"))).inject(".i85zmo3j{align-items:center}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".rq8durfe{font-size:1.25rem}",1);h.inject(".igjjae4c{font-weight:bold}",1);h.inject(".dwcz42gf{line-height:24}",1);h.inject(".evpwb5b3{padding-right:10px}",1);h.inject(".d1pn00lf{margin-left:12px}",1);h.inject(".a6fdb1jh{margin-right:12px}",1);h.inject(".alzwoclg{display:flex}",1);h.inject(".juxnsli8{margin-left:10px}",1);h.inject(".fcysig3v{margin-right:8px}",1);h.inject(".l3ldwz01:hover{text-decoration:none}",7.1);function a(a){var c=a.paddingBottom,d=a.paddingTop;a=a.clickable;a=a===void 0?!1:a;var e=j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"fcysig3v juxnsli8 alzwoclg",children:j.jsx(b("Image.react"),{src:"/images/litestand/bookmarks/sidebar/icons/mobile/icon-watch-tv.png"})}),j.jsx(b("TetraText.react"),{type:"headlineEmphasized2",children:g._("Watch")})]}),f=k(function(){l({event:"click",click_target:"tahoe_watch_logo"}),(i||(i=b("URI"))).go(b("XVideoHomeFeedController").getURIBuilder().getURI(),!0)},[]);return a?j.jsx(b("Link.react"),{className:"a6fdb1jh d1pn00lf evpwb5b3 dwcz42gf igjjae4c rq8durfe alzwoclg i85zmo3j l3ldwz01",style:{paddingBottom:c,paddingTop:d},onClick:f,children:e}):j.jsx("div",{className:"a6fdb1jh d1pn00lf evpwb5b3 dwcz42gf igjjae4c rq8durfe alzwoclg i85zmo3j",style:{paddingBottom:c,paddingTop:d},children:e})}e.exports=a}),null);
__d("TahoeUpNextWatchEntryPoint.react",["cx","fbt","React","TahoeWatchLogo.react","TetraButton.react","VideoHomeTypedLoggerLite","XVideoHomeFeedController","useFullViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React");c=b("React");var j=c.useCallback,k=b("VideoHomeTypedLoggerLite").log;function a(a){a.sidepaneElement;a=j(function(a){a.currentTime,k({event:"tahoe_up_next_video_watch_entry_point_impression"})},[]);a=b("useFullViewImpression")({onFullViewStart:a});var c=j(function(){k({event:"click",click_target:"tahoe_up_next_video_watch_entry_point"})},[]);return i.jsxs("div",{className:"_8c-h",ref:a,children:[i.jsx("div",{className:"_8c-i",children:h._("More Videos on Watch")}),i.jsx(b("TahoeWatchLogo.react"),{paddingBottom:6,paddingTop:6}),i.jsx(b("TetraButton.react"),{label:h._("Visit Watch"),onPress:c,linkProps:{url:b("XVideoHomeFeedController").getURIBuilder().getURI().toString()},size:"medium"})]})}e.exports=a}),null);
__d("VideoInfoBottomPaneShimmer.react",["cx","ImageBlock.react","InlineBlock.react","LeftRight.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_2ve3 _2ve4",children:[h.jsxs("div",{children:[h.jsxs(b("LeftRight.react"),{children:[h.jsx(i,{width:320}),h.jsxs("span",{children:[h.jsx(k,{}),h.jsx(k,{}),h.jsx(k,{})]})]}),h.jsx(i,{width:222}),h.jsx("div",{className:"_2vev",children:h.jsxs(b("ImageBlock.react"),{children:[h.jsx("span",{className:"_2vew"}),h.jsx(b("InlineBlock.react"),{alignv:"middle",height:36,fullWidth:!0,children:h.jsx(l,{width:90,height:16})})]})})]}),h.jsxs("div",{className:"_2vex",children:[h.jsx(j,{width:132}),h.jsx(j,{width:780}),h.jsx(j,{width:460})]})]})};return c}(h.Component);var i=function(a){return h.jsx(l,{width:a.width,height:16,className:"_2vey"})},j=function(a){return h.jsx(l,{className:"_2vez",height:8,width:a.width})},k=function(){return h.jsx(l,{width:60,height:16,display:"inline-block",className:"_2ve-"})},l=function(a){var c=b("joinClasses")(a.className,"_2ve_");return h.jsx("div",{className:c,style:{width:a.width,height:a.height,display:a.display}})};l.defaultProps={display:"block"};e.exports=a}),null);
__d("VodPncSeeAllReactionsClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("vod_pnc_see_all_reactions_click");e.exports=a}),null);
__d("XTahoeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/async/{id}/",{id:{type:"FBID",required:!0},externallogid:{type:"String"},sponsoreddata:{type:"String"},originalmediaid:{type:"String"},preload:{type:"Bool",defaultValue:!1},playerorigin:{type:"Enum",enumType:1},playersuborigin:{type:"String"},videolistid:{type:"String"},reactionvideochanneltype:{type:"Enum",enumType:1},reactionvideochannelsubtype:{type:"String"},upstreamplayersource:{type:"Enum",enumType:1},ispermalink:{type:"Bool",defaultValue:!1},feedtracking:{type:"StringVector",defaultValue:[]},storyidentifier:{type:"String"},numcopyrightmatchedvideoplayedconsecutively:{type:"Int"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"},payloadtype:{type:"Enum",enumType:1},tahoeviewhasrendered:{type:"Bool",defaultValue:!1}})}),null);
__d("XTahoeUpNextAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/upnext/async/{media_id}/",{channel_id:{type:"String"},media_id:{type:"FBID",required:!0},viewed_videos:{type:"FBIDSet"},caller:{type:"Enum",enumType:1},chainingindex:{type:"Int"},cursor:{type:"String"},search_keywords:{type:"String"},ispermalink:{type:"Bool",defaultValue:!1}})}),null);
__d("upNextVideoStateActionTypes",[],(function(a,b,c,d,e,f){"use strict";a={APPEND_TO_BUFFER:"APPEND_TO_BUFFER",REMOVE_BUFFER_HEADS:"REMOVE_BUFFER_HEADS",RETRIEVE_FROM_BUFFER:"RETRIEVE_FROM_BUFFER",SET_CHAINING_CURSOR:"SET_CHAINING_CURSOR"};e.exports=a}),null);
__d("upNextVideoStateReducer",["TahoeConstants","upNextVideoStateActionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={upNextVideoBuffer:[],retrievedUnits:[],chainingCursor:null},h=b("TahoeConstants").UP_NEXT_UNIT_ID_PREFIX,i=20;a=function(a,c){__p&&__p();a===void 0&&(a=g);switch(c.type){case b("upNextVideoStateActionTypes").APPEND_TO_BUFFER:var d=c.payload;if(Array.isArray(d))return{upNextVideoBuffer:a.upNextVideoBuffer.concat(d),retrievedUnits:a.retrievedUnits,chainingCursor:a.chainingCursor};else return a;case b("upNextVideoStateActionTypes").REMOVE_BUFFER_HEADS:d=c.payload;if(typeof d==="string"){d=h+d;while(a.upNextVideoBuffer.length>0&&a.upNextVideoBuffer[0].id!==d)a.upNextVideoBuffer.shift();a.upNextVideoBuffer.length>0&&a.upNextVideoBuffer.shift();return{upNextVideoBuffer:a.upNextVideoBuffer,retrievedUnits:a.retrievedUnits,chainingCursor:a.chainingCursor}}else return a;case b("upNextVideoStateActionTypes").RETRIEVE_FROM_BUFFER:d=c.payload;if(typeof d==="number"){var e=Math.min(i,a.upNextVideoBuffer.length);d=a.upNextVideoBuffer.slice(d,e);return{upNextVideoBuffer:a.upNextVideoBuffer,retrievedUnits:d,chainingCursor:a.chainingCursor}}else return a;case b("upNextVideoStateActionTypes").SET_CHAINING_CURSOR:if(typeof c.payload==="string")return{upNextVideoBuffer:a.upNextVideoBuffer,retrievedUnits:a.retrievedUnits,chainingCursor:c.payload};else return a;default:return a}};e.exports=a}),null);
__d("upNextVideoStateStore",["redux","upNextVideoStateReducer"],(function(a,b,c,d,e,f){"use strict";a=b("redux").createStore(b("upNextVideoStateReducer"));e.exports=a}),null);
__d("TahoeVideoView",["csx","cx","ActorURI","Arbiter","AsyncRequest","Bootloader","CSS","CurrentUser","DOM","DOMQuery","Event","EventProfiler","HTML","Keys","LiveVideoInteractiveAlertSidePaneView.react","React","ReactDOM","ReactRenderer","Run","StreamingReactionsTrayEvents","SubscriptionsHandler","TabBar","Tahoe","TahoeConstants","TahoeCopyrightMessage.react","TahoeMainPlayerViewportTracking","TahoeSidePanePlaceholder.react","TahoeUpNextLiveOverlayController","TahoeUpNextViewportTracking","TahoeUpNextWatchEntryPoint.react","TahoeV2Config","TahoeVideoStore","TimeSlice","UFICentralUpdates","UFISharedDispatcher","URI","VideoInfoBottomPaneShimmer.react","VideoPermalinkURI","VideoTipJarTypedLogger","VodPncSeeAllReactionsClickFalcoEvent","XTahoeAsyncController","XTahoeUpNextAsyncController","ge","gkx","nullthrows","qex","upNextVideoStateStore","uuid"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("React"),k=4,l=b("TahoeV2Config").maximizeEndScreenVideoCount?16:9,m=/^[1-9]\d*$/,n=15,o="tahoe-preloaded-video",p=7,q="video-up-next-",r="video-up-next-wp-",s=4,t=97,u=7;a=function(){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$8=null;this.$21=!1;this.$41=function(){f.$47()};this.$39=function(){b("CSS").hide(f.$20),f.$7.setFullWidth(!0),f.$47()};this.$40=function(){b("CSS").show(f.$20),f.$7.setFullWidth(!1),f.$27&&f.$27.setup()};this.$78=function(){f.$11!=null&&b("CSS").hide(f.$11)};this.$7=a;this.$9=!1;this.$16=this.$7.getID();this.$33=c;this.$34=d;this.$32=this.$7.getVideoListID();this.$35=new Set([this.$16]);this.$4=b("uuid")();this.$29=!1;this.$30=[];this.$28=null;this.$7.addEvent(b("Event").listen(document,"keydown",this.$37.bind(this)));this.$24=(c=b("CSS")).setClass((d=b("DOM")).create("div"),"_1e8c _2b-0");this.$20=c.setClass(d.create("div"),"_5-lm _3aw0 _6j1g _6j1h");this.$6=c.setClass(d.create("div"),"_17am");this.$12=c.setClass(d.create("div"),"_76-1");this.$17=c.setClass(d.create("div"),"hidden_elem");this.$18=b("TahoeConstants").DEFAULT_BROWSER_TITLE;this.$22=d.create("div");b("ReactDOM").render(j.jsx(b("TahoeSidePanePlaceholder.react"),{}),this.$20);b("gkx")("732464")&&b("ReactDOM").render(j.jsx(b("LiveVideoInteractiveAlertSidePaneView.react"),{videoID:a.getID()}),this.$12);b("TahoeV2Config").showTahoe2UI&&(this.$25=b("CSS").setClass(b("DOM").create("div"),"_437j"),b("CSS").hide(this.$24),b("DOM").appendContent(this.$7.getContent(),this.$25),b("ReactDOM").render([j.jsx(b("VideoInfoBottomPaneShimmer.react"),{},"shimmer"),j.jsx("div",{className:"_3l-q"},"inner")],this.$25));this.$24&&b("DOM").appendContent(this.$7.getContent(),this.$24);b("DOM").appendContent(this.$7.getSideContent(),this.$20);b("DOM").appendContent(this.$20,this.$6);b("DOM").appendContent(this.$20,this.$12);b("DOM").appendContent(this.$7.getContent(),this.$17);b("DOM").appendContent(this.$7.getContent(),this.$22);c=this.$7.getChannelID();d=this.$7.getCaller();this.$7.getMediaController()?(this.$38(this.$7.getID(),!1,c,d,null,e),this.setUpEndScreen(),this.setUpUFI(),this.setCopyrightMessage()):this.updateView(this.$7.getID(),c,d,null,e);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe("UFIAddComment/focus",function(a,c){a=b("TahoeVideoStore").getState().toObject();a=a.ufiInstanceID;a===c.instanceid&&f.selectCommentTab()}),b("Arbiter").subscribe("quiet-mode-on",this.$39),b("Arbiter").subscribe("quiet-mode-off",this.$40),b("Arbiter").subscribe("watch-and-scroll-on",this.$41),b("Arbiter").subscribe("quick-comments-visible-changed",function(a,b){return f.$42(b)}),b("UFICentralUpdates").subscribe("actor-changed",function(a,c){return f.$43(c.actorID===b("CurrentUser").getAccountID())}));b("UFISharedDispatcher").register(function(a){a.type==="story_show_comments"&&f.selectCommentTab()});this.$44();b("Run").onCleanupOrLeave(this.$7.getContent(),this.$45);b("Run").onUnload(this.$45)}var c=a.prototype;c.$45=function(){window.history.replaceState(window.history.state,"",new(i||(i=b("URI")))(location.href).addQueryData({redirect:!1}).toString())};c.$44=function(){window.history.replaceState(window.history.state,"",new(i||(i=b("URI")))(location.href).removeQueryData(["redirect"]).toString())};c.$42=function(a){var c=this.$46();if(c==null)return;a?b("CSS").addClass(c,"_4j8y"):b("CSS").removeClass(c,"_4j8y")};c.setUpUFI=function(){var a=this,b=this.$7.getMediaController();this.$48();b&&(this.$7.addEvent(b.addListener("commercialBreak/hideUFI",function(){return a.$49(!0)})),this.$7.addEvent(b.addListener("commercialBreak/showUFI",function(){return a.$49(!1)})))};c.$49=function(a){b("gkx")("678266")||b("CSS").conditionClass(this.$6,"_17an",a),this.$24&&b("CSS").conditionClass(this.$24,"_3qt9",a)};c.setCopyrightMessage=function(){__p&&__p();if(this.$8)return;var a=this.$7.getMediaController();a=a;if(!a)return;var c=b("DOM").create("div",{className:"_6ukq"});this.$8=c;b("DOM").appendContent(this.$7.getMediaContent(),c);b("ReactDOM").render(j.jsx(b("TahoeCopyrightMessage.react"),{videoController:a}),c)};c.$50=function(){this.$8&&(b("ReactDOM").unmountComponentAtNode(this.$8),this.$8=null)};c.setUpEndScreen=function(){__p&&__p();var a=this;this.$21=!1;var b=this.$7.getMediaController();this.$7.addEvent(b.addListener("stateChange",this.$51.bind(this)));if(b.isLiveVideo())return;this.$7.addEvent(b.addListener("toggleFullscreen",this.$51.bind(this)));var c=b;if(!c)return;c.addListener("updateStatus",function(b){__p&&__p();var d=c.getPlaybackDuration();b=d-b.position;if(b>k){a.$28&&a.$52();return}b=c.getState();if(a.$28||b==="paused")return;a.$53(!1,!0,d>n,p)})};c.$53=function(a,c,d,e){__p&&__p();var f=this;if(this.$28)return;var g=this.$7.getMediaController(),h=g;if(!h)return;var i=b("DOM").create("div",{className:"_4n-p"});g=b("upNextVideoStateStore").getState().upNextVideoBuffer;var j=this.$54(g);b("Bootloader").loadModules(["TahoeUpNextOverlayAndEndScreen.react"],function(g){b("ReactRenderer").constructAndRenderComponent(g,{currentVideoID:f.$7.getID(),videoIDs:b("TahoeV2Config").showMoreUpNext?j:f.$30.slice(0,l),shouldShowUpNextOverlay:d&&!f.$21,countdownTimeoutSec:e,vpc:h,logEvent:function(a){f.$7.logEvent(a)},tahoeController:f.$7,hasCustomBackgroundForUpNextOverlay:a,isCurrentVideoReplayable:c,livingRoomID:f.$14,viewportTrackingConfig:f.$36},i,function(){f.$21=!0})},"TahoeVideoView");g=h.getRootNode();g=g&&g.firstChild;g&&(g.appendChild(i),this.$28=i,this.$47())};c.$51=function(){var a=this.$7.getMediaController();a=a;!a.isLiveVideo()?this.$24&&b("CSS").conditionClass(this.$24,"_65dt",a.isState("finished")):a.isState("finished")&&!a.isGaming()&&this.$53(!0,!1,!0,p)};c.$52=function(){var a=this.$28;a&&(b("ReactDOM").unmountComponentAtNode(a),b("DOM").remove(a),this.$28=null)};c.$55=function(){b("CSS").addClass(this.$7.getContent(),"_29du"),b("CSS").addClass(this.$20,"_4f4w"),this.$25&&b("CSS").addClass(this.$25,"_1udj"),this.$24&&b("DOM").empty(this.$24)};c.$56=function(){__p&&__p();var a=this;b("CSS").removeClass(this.$7.getContent(),"_29du");b("CSS").removeClass(this.$20,"_4f4w");this.$25&&b("CSS").removeClass(this.$25,"_1udj");var c=b("DOMQuery").find(this.$20,"._3dj6"),d=this.$36;d&&(this.$31=b("TahoeUpNextViewportTracking").setup(d,c,t),this.$26=b("TahoeUpNextViewportTracking").setup(d,c,s));if(this.$29){c=b("CSS").removeClass(c,"_3dj6");d=b("DOM").find(this.$17,"._3dj7");b("DOM").setContent(c,d);var e=b("DOMQuery").scry(this.$20,"._8fyn");if(e.length>0&&this.$30.length>=u){e=b("DOM").create("div",{className:"_8fym"});b("ReactDOM").render(j.jsx(b("TahoeUpNextWatchEntryPoint.react"),{sidepaneElement:this.$46()}),e);b("DOM").appendContent(c,e)}b("EventProfiler").informManualInteractionTimestamp(["Tahoe"],!0,"click");this.$29=!1;!this.$2&&d.childNodes&&d.childNodes[0]&&this.$57(d.childNodes[0],function(){b("TimeSlice").guard(a.$58.bind(a),"Tahoe preload next video",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()},function(){return a.selectCommentTab()})}b("TahoeV2Config").showTahoe2UI&&this.$7.resizeMedia()};c.$37=function(a){a.keyCode===b("Keys").ESC&&!a.cancelBubble&&!a.defaultPrevented&&!this.$7.getIsPermalink()&&(this.$7.logEvent("exit_with_esc"),this.$7.onExit())};c.$59=function(a,c){b("TahoeV2Config").showTahoe2UI&&(a&&this.$60(),c&&this.$61())};c.$62=function(c,d,e,f){__p&&__p();if(!b("TahoeV2Config").showMoreUpNext){c=this.$63(c,e,f);c&&c.send()}e=b("DOMQuery").scry(this.$7.getContent(),"._1c_u");e[0]&&b("DOM").replace(e[0],b("DOMQuery").scry(d,"._5-yb")[0]);f=b("DOMQuery").scry(d,"._1w6j");c=b("DOMQuery").scry(d,"._3l-q");this.$59(f[0],c[0]);this.$24&&f[0]&&b("DOM").setContent(this.$24,f[0]);this.$25&&c[0]&&b("DOM").setContent(this.$25,c[0]);e=this.$46();e?b("DOM").replace(e,b("DOMQuery").find(d,"._1rgu")):b("DOM").appendContent(this.$20,b("DOMQuery").find(d,"._1rgu"));document.title=this.$18;a.registerPendingController(this.$19);this.$56();f=b("Tahoe").get();f&&f.emit("insertPreloadedElements")};c.$38=function(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=null);this.$3=null;f=this.$64(a,c,f);g&&(g.commentID!=="0"&&f.setInt("comment_id",g.commentID),g.replyCommentID!=="0"&&f.setInt("reply_comment_id",g.replyCommentID));g=this.$7.getStoryIdentifier();g&&f.setString("storyidentifier",g);c&&this.$65(this.$66(f.setEnum("payloadtype","primary")));this.$67(this.$66(f.setEnum("payloadtype","secondary")),c);if(!b("TahoeV2Config").showMoreUpNext){g=this.$63(a,d,e);g&&g.send()}this.$55()};c.$68=function(a){__p&&__p();a.disablePreload&&(this.$10=!0);a.viewportTrackingConfig&&(this.$36=a.viewportTrackingConfig);this.$9=!!a.hasNearlyCompleteLicensedMusicTag;document.title=a.videoTitle||b("TahoeConstants").DEFAULT_BROWSER_TITLE;a=this.$7.getContent();var c=this.$36;if(a&&c){var d=b("DOMQuery").scry(a,"._5-yb")[0];d&&(this.$15=b("TahoeMainPlayerViewportTracking").setup(c,a,t))}this.$56();b("EventProfiler").informManualInteractionTimestamp(["Tahoe"],!0,"click")};c.$69=function(a,c,d){d===void 0&&(d=null);if(!a)return;var e=b("DOMQuery").scry(this.$7.getContent(),"._1c_u");e[0]&&(b("DOM").replace(e[0],a),this.$70(this.$7.getContent(),d));this.$7.setAutoplayAllowed(c)};c.$71=function(a,c,d,e){if(e){d&&b("DOM").setContent(this.$24,d);if(a){e=this.$46();e?b("DOM").replace(e,a):b("DOM").appendContent(this.$20,a)}}else d&&b("DOM").appendContent(this.$24,d),a&&b("DOM").appendContent(this.$20,a);c&&b("DOM").replace(this.$25.lastChild,c)};c.$46=function(){return b("DOMQuery").scry(this.$20,"._1rgu")[0]};c.$64=function(a,c,d){c=c?this.$72(a):[JSON.stringify(this.$7.getFeedTracking())];return b("XTahoeAsyncController").getURIBuilder().setFBID("id",a).setString("originalmediaid",this.$16).setEnum("playerorigin",this.$33).setString("playersuborigin",this.$34).setString("videolistid",this.$32).setString("sponsoreddata",d).setString("externallogid",this.$7.getExternalLogID()).setEnum("reactionvideochanneltype",this.$7.getReactionVideoChannelType()).setString("reactionvideochannelsubtype",this.$7.getReactionVideoChannelSubtype()).setEnum("upstreamplayersource",this.$7.getUpstreamPlayerSource()).setBool("ispermalink",this.$7.getIsPermalink()).setStringVector("feedtracking",c).setInt("numcopyrightmatchedvideoplayedconsecutively",this.$7.getNumCopyrightMatchedVideosPlayedConsecutively())};c.$66=function(a){var c=this.$7.getUserID();if(c)return b("ActorURI").create(a.getURI(),c);else return a.getURI()};c.$60=function(){b("CSS").show(this.$24),b("CSS").hide(this.$25),b("CSS").removeClass(this.$7.getContent(),"_-pb")};c.$61=function(){b("CSS").show(this.$25),b("CSS").hide(this.$24),b("CSS").addClass(this.$7.getContent(),"_-pb")};c.$57=function(a,c,d){a=b("DOMQuery").scry(a,"a")[0];a?(this.$3=a.getAttribute("href"),c&&c()):d&&d()};c.setUpNextChainingInfoFromReactElement=function(a){var c=this;this.$57(a,function(){b("TimeSlice").guard(c.$58.bind(c),"Tahoe preload next video",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()},function(){return c.selectCommentTab()})};c.$63=function(a,c,d){__p&&__p();var e=this,f=b("ge")(q+a);if(f){var g=f.parentNode,h=Array.from(g.children);h.some(function(c){if(c.id!==q+a){b("DOM").remove(c);return!1}else return!0});b("DOM").remove(g.firstChild);b("DOM").appendContent(this.$17,g);if(g.children.length>=10){this.$73(Array.from(g.children));this.$29=!0;return null}}else!f&&a!==this.$16&&(this.$7.resetChannelData(),this.$5=null,c=null,d=null);h=b("XTahoeUpNextAsyncController").getURIBuilder().setFBID("media_id",a).setFBIDSet("viewed_videos",Array.from(this.$35)).setString("channel_id",c).setEnum("caller",d).setString("cursor",this.$5).setString("search_keywords",this.$7.getSearchKeywordsForVideoChaining()).setBool("ispermalink",this.$7.getIsPermalink());g=new(b("AsyncRequest"))(h.getURI()).setHandler(function(a){__p&&__p();a=a.getPayload();e.$5=a.chainingCursor;a.viewportTrackingConfig&&(e.$36=a.viewportTrackingConfig);a=b("HTML").replaceJSONWrapper(a.upNextUnit.markup);e.$29=!0;var c=b("DOMQuery").scry(e.$20,"._3dj6"),d=b("DOMQuery").scry(e.$17,"._3dj7");if(d[0]){b("DOM").appendContent(e.$17,a);d=b("DOMQuery").scry(e.$17,"._3dj7");var f=Array.from(d[1].children);f.forEach(function(a){b("DOM").appendContent(d[0],a)});b("DOM").remove(d[1]);a=d[0];var g={};Array.from(a.children).forEach(function(a){g[a.id]?b("DOM").remove(a):g[a.id]=!0});b("DOM").remove(d[0])}f=null;if(c[0]){c=b("CSS").removeClass(c[0],"_3dj6");b("DOM").setContent(c,a);var h=b("DOMQuery").scry(e.$20,"._8fyn"),i=b("DOMQuery").scry(e.$20,"._bne");if(h.length>0&&i.length>u){h=b("DOM").create("div",{className:"_8fym"});b("ReactDOM").render(j.jsx(b("TahoeUpNextWatchEntryPoint.react"),{sidepaneElement:e.$46()}),h);b("DOM").appendContent(c,h)}e.$29=!1;f=c}else b("DOM").appendContent(e.$17,a),f=e.$17;d=b("DOMQuery").scry(f,"._3dj7");d[0]&&e.$73(Array.from(d[0].children));i=b("DOMQuery").scry(e.$20,"._bne");b("EventProfiler").informManualInteractionTimestamp(["Tahoe"],!0,"click");!e.$2&&i.childNodes&&i.childNodes[0]&&e.$57(i.childNodes[0],function(){b("TimeSlice").guard(e.$58.bind(e),"Tahoe preload next video",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()},function(){return e.selectCommentTab()})});return g};c.$65=function(a){var c=this;new(b("AsyncRequest"))(a).setHandler(function(a){a=a.getPayload();var d=a.video,e=a.autoplayAllowed;a=a.trackingData;c.$69(b("HTML").replaceJSONWrapper(d&&d.markup),e,a)}).send()};c.$67=function(a,c){var d=this;new(b("AsyncRequest"))(a).setHandler(function(a){a=a.getPayload();var e=a.ufiTray,f=a.infoBottomPane,g=a.sidePane;d.$59(e,f);d.$71(b("HTML").replaceJSONWrapper(g&&g.markup),b("HTML").replaceJSONWrapper(f&&f.markup),b("HTML").replaceJSONWrapper(e&&e.markup),c);d.$68(a)}).send()};c.$54=function(a){var b=this;return a.map(function(a){return a.id&&a.id.substring(q.length)}).filter(function(a){return b.$74(a)})};c.$75=function(a){a=a.id&&a.id.substring(r.length);return this.$74(a)?a:null};c.$74=function(a){return!a?!1:m.test(a)};c.$47=function(){this.$27&&this.$27.cleanup()};c.$48=function(){__p&&__p();var a=this.$7.getMediaController();if(a==null||!a.isLiveVideo())return;var c=this.$7.getID(),d=b("DOMQuery").scry(this.$7.getContent(),"._170l");if(!d.length)return;this.$13&&b("DOM").remove(this.$13);if(!this.$30||this.$30.length===0)return;if(!b("qex")._("1138569"))return;(!this.$27||this.$27.getCurrentVideoID()!==c)&&(this.$47(),this.$13=b("DOM").create("div",{className:"_8k_t"}),b("DOM").insertAfter(d[0],this.$13),this.$27=new(b("TahoeUpNextLiveOverlayController"))(b("nullthrows")(this.$13),a.getRootNode(),c,this.$30.slice(0,l)),this.$27.setup())};c.$73=function(a){this.$30=this.$54(a),this.$48(),this.$30.length<a.length&&(this.$14=this.$75(a[0]),this.$2=!0)};c.getCurrentVideoHasCopyrightMusicMatch=function(){return this.$9};c.setUpNextVideoIDs=function(a){this.$30=this.$54(a)};c.getUpNextVideoIDs=function(){return this.$30};c.$58=function(){__p&&__p();var a=this;if(this.$10)return;var c=new(i||(i=b("URI")))(this.$3),d=b("VideoPermalinkURI").parse(c);if(d===null)return;var e=d.video_id;if(!e)return;d=c.getQueryData().sp;c=this.$64(e,!0,d).setEnum("payloadtype","all").setBool("preload",!0);d=new(b("AsyncRequest"))(c.getURI()).setHandler(function(c){__p&&__p();c=c.getPayload();var d=b("DOM").create("div",{id:"preload-"+e,"class":o});b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(c.video.markup));c.ufiTray&&b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(c.ufiTray.markup));c.infoBottomPane&&b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(c.infoBottomPane.markup));b("DOM").appendContent(d,b("HTML").replaceJSONWrapper(c.sidePane.markup));b("DOM").appendContent(a.$17,d);a.$70(d,c.trackingData);d=typeof c.autoplayAllowed==="boolean"?c.autoplayAllowed:!0;a.$18=c.videoTitle||b("TahoeConstants").DEFAULT_BROWSER_TITLE;a.$7.setAutoplayAllowed(d);a.$9=!!c.hasNearlyCompleteLicensedMusicTag});d.send()};c.$72=function(a){var c=null;a=b("ge")(q+a);a&&a.getAttribute("data-ft")&&(c=['{"ft":'+a.getAttribute("data-ft")+"}"]);return c};c.selectAddComment=function(){var a=b("DOMQuery").scry(this.$20,".UFIAddCommentInput");a[0]&&a[0].click();this.selectCommentTab()};c.selectCommentTab=function(){var a=this.$46();a&&(b("CSS").addClass(a,"_7r9y"),b("CSS").removeClass(a,"_601i"),b("CSS").removeClass(a,"_6yny"),b("Arbiter").inform("TahoeView/selectCommentTab"))};c.selectUpNextTab=function(){var a=this.$46();a&&(b("CSS").addClass(a,"_601i"),b("CSS").removeClass(a,"_7r9y"),b("CSS").removeClass(a,"_6yny"))};c.selectFriendPresenceTab=function(){var a=this.$46();a&&(b("CSS").addClass(a,"_6yny"),b("CSS").removeClass(a,"_601i"))};c.setCommentOverlayActive=function(a){var c=this.$46();if(!c)return;a?b("CSS").addClass(c,"_2l-1"):b("CSS").removeClass(c,"_2l-1")};c.updateView=function(a,c,d,e,f){e===void 0&&(e=null);f===void 0&&(f=null);this.$52();this.$35.add(a);var g=b("DOMQuery").scry(this.$17,"#preload-"+a);g[0]&&this.$19?(this.$62(a,g[0],c,d),this.$76()):(this.$76(),this.$31&&this.$31.cleanup(),this.$26&&this.$26.cleanup(),this.$15&&this.$15.cleanup(),this.$38(a,!0,c,d,e,f));this.$49(!1)};c.$76=function(){this.$19=null;var a=b("DOMQuery").scry(this.$17,"."+o);Array.from(a).forEach(function(a){b("DOM").remove(a)})};c.toggleNativeSupportFlyout=function(){var a=b("DOMQuery").scry(this.$20,".UFICommentSupportButton");a.length>0&&(a[0].dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),a[0].dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),a[0].click())};c.loadStickerGallery=function(a){var c=this;b("Bootloader").loadModules(["TahoeStickerGallery"],function(b){b.loadStickerGallery(c.$22,a)},"TahoeVideoView")};c.$77=function(a,c){var d=this;this.$11==null?(this.$11=b("DOM").create("div"),b("DOM").prependContent(this.$20,this.$11),b("Bootloader").loadModules(["TahoeWoodhengeSignupViewRenderer"],function(b){b.render(a,c,d.$11,d.$78)},"TahoeVideoView")):this.$11!=null&&b("CSS").show(this.$11)};c.$43=function(a){var c=this.$23;if(!c)return;a!==b("CSS").shown(c)&&b("CSS").toggle(c)};c.$70=function(a,c){a=b("DOMQuery").scry(a,"._1c_u");a.length>0&&c!=null&&a[0].setAttribute("data-ft",c)};c.getBottomTrayHeight=function(){return this.isRenderingBottomInfoPane()?this.$25&&this.$25.clientHeight:this.$24.clientHeight};c.isRenderingBottomInfoPane=function(){return!b("CSS").shown(this.$24)};c.getLiveAlertSidePaneOverlayNode=function(){return this.$12};c.onExit=function(){this.$1.release(),this.$47(),this.$52(),this.$50()};a.registerCommentLink=function(a){var c=b("Tahoe").get();c&&c.addEvent(b("Event").listen(a,"click",function(){b("Arbiter").inform(b("StreamingReactionsTrayEvents").EnableReactions),b("Arbiter").inform("quiet-mode-off"),c.getView().selectAddComment()}))};a.registerBecomeSupporterLink=function(c,d){var e=b("Tahoe").get();if(e==null)return;var f=e.getView();if(!(f instanceof a))return;var g=e.getMediaController().getMediaID();e.addEvent(b("Event").listen(c,"click",function(){f.$77(d,g)}))};a.registerPendingController=function(a){var c=b("Tahoe").get();c&&a&&(c.updateMedia(a),c.emit("TahoeController/mediaControllerRegistered"))};a.registerPreloadController=function(a){var c=b("Tahoe").get();c&&(c.getView().$19=a)};a.registerSidepaneTabbar=function(c){var d=b("Tahoe").get();if(d!=null){var e=d.getView();e instanceof a&&c.subscribe(b("TabBar").TAB_CLICK,function(a,b){switch(b){case"up-next":e.selectUpNextTab();break;case"comments":e.selectCommentTab()}})}};a.registerSupportLink=function(c){var d=b("Tahoe").get();if(d==null)return;var e=d.getView();if(!(e instanceof a))return;e.$23=c;d.addEvent(b("Event").listen(c,"click",function(){e.toggleNativeSupportFlyout(),new(b("VideoTipJarTypedLogger"))().setTipJarEvent("support_button_clicked").setVideoID(d.getMediaController().getMediaID()).log()}))};a.registerShowCommentsTabLink=function(a){var c=b("Tahoe").get(),d=c&&c.getView();c&&d&&c.addEvent(b("Event").listen(a,"click",function(){return d.selectCommentTab()}))};a.registerShowMainTabLink=function(a){var c=b("Tahoe").get(),d=c&&c.getView();c&&d&&c.addEvent(b("Event").listen(a,"click",function(){return d.selectUpNextTab()}))};a.registerShowFriendPresenceTabLink=function(a,c,d,e,f,g){var h=b("Tahoe").get(),i=h&&h.getView(),j=function(){i&&i.selectFriendPresenceTab(),b("VodPncSeeAllReactionsClickFalcoEvent").log(function(){return{video_id:c,number_of_friends:d,friend_presence_type_first:e,friend_presence_type_second:f,friend_presence_type_third:g}})};h&&i&&h.addEvent(b("Event").listen(a,"click",j))};a.loadView=function(b,c,d,e){return new a(b,c,d,e)};return a}();e.exports=a}),null);
__d("XTahoeReactionsTrayAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/async/reactions/",{video_id:{type:"FBID",required:!0}})}),null);
__d("TahoeController",["cx","Arbiter","AsyncRequest","BlueBar","Bootloader","CSS","DialogX","Env","EventEmitter","EventProfiler","FantaTabActions","LiveVideoStreamingReactionEligibleLocations","PageTransitions","ResizeListener","ScriptPath","Tahoe","TahoeActions","TahoeConstants","TahoeDispatcher","TahoeDOM","TahoeTypedLogger","TahoeV2Config","TahoeVideoResizingController","TahoeVideoView","TimeSlice","URI","VideoAutoplayControllerX","VideoChannelCallerToPlayerOriginMap","VideoPermalinkURI","XTahoeReactionsTrayAsyncController","collectDataAttributes","ge","prevNextControlActions","prevNextControlStore","requireWeak","shouldWNSRenderToRHC","TahoeVideoStore"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j;b("requireWeak")("VideoProgressPreviewBar.react",function(a){j=a});var k;b("requireWeak")("VideoWatchAndScrollController",function(a){k=a});var l=48,m=0;a=876;var n=a-b("TahoeConstants").SIDE_PANE_WIDTH,o=4,p=560,q=350;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$TahoeController1=!1;d.$TahoeController3=!0;d.$TahoeController21=!1;d.$TahoeController22=!1;d.$TahoeController26="user_initiated";d.$TahoeController32=null;d.$TahoeController38=!1;d.$TahoeController40=0;d.$TahoeController53=function(){d.$TahoeController51()};b("TahoeDispatcher").explicitlyRegisterStores([b("TahoeVideoStore")]);b("EventProfiler").tagCurrentActiveInteractionsAs("Tahoe");d.$TahoeController13=[];d.$TahoeController21=c.isPermalink;d.$TahoeController24=0;d.$TahoeController37=c.storyIdentifier;d.$TahoeController41=p-b("TahoeConstants").BLUE_BAR_HEIGHT-d.$TahoeController44();d.$TahoeController32=c.userID;d.$TahoeController34=c.origin;d.$TahoeController35=c.suborigin;d.$TahoeController5=c.channelID;d.$TahoeController33=c.videoListID;d.$TahoeController4=c.caller;d.$TahoeController27=c.reactionVideoChannelType;d.$TahoeController28=c.reactionVideoChannelSubtype;d.$TahoeController31=c.upstreamPlayerSource;d.$TahoeController29=c.searchKeywordsForVideoChaining;d.$TahoeController12=c.externalLogID;d.$TahoeController42=c.feedLocation;d.$TahoeController43=!0;d.$TahoeController11=(h||(h=b("URI"))).getNextURI();d.$TahoeController25=d.$TahoeController45.bind(babelHelpers.assertThisInitialized(d));c.landingPage&&(d.$TahoeController39=new(h||(h=b("URI")))(c.landingPage));c.landingPageType&&(d.$TahoeController40=c.landingPageType);d.$TahoeController10=c.entryDocumentTitle;b("PageTransitions").registerHandler(d.$TahoeController25,o);!(i||(i=b("Env"))).isCQuick&&c.uri!==window.location&&b("PageTransitions").go(c.uri);d.$TahoeController9=new(b("TahoeDOM"))(babelHelpers.assertThisInitialized(d));d.$TahoeController8=d.$TahoeController9.createDialog();if(c.mediaController)d.$TahoeController46(c.mediaController.video),d.$TahoeController15=d.$TahoeController23.getMediaID(),d.$TahoeController47(),d.$TahoeController9.setInitialMediaContent(d.getMediaContent());else{d.$TahoeController48();var e=b("VideoPermalinkURI").parse(c.uri);d.$TahoeController15=e.video_id}b("FantaTabActions").minimizeAllTabs();b("Arbiter").inform("chat/option-changed",{name:"hide_buddylist",value:!0});d.$TahoeController14=c.feedTracking;d.$TahoeController36=b("TahoeVideoView").loadView(babelHelpers.assertThisInitialized(d),d.$TahoeController34,d.$TahoeController35,{commentID:c.uri.getQueryData().comment_id,replyCommentID:c.uri.getQueryData().reply_comment_id});return d}var d=c.prototype;d.go=function(a){b("PageTransitions").go(a)};d.onExit=function(a){this.$TahoeController1?this.$TahoeController49():a=="wns"?(this.logEvent("exit_with_wns_control"),b("PageTransitions").go(this.$TahoeController11)):b("PageTransitions").go(this.$TahoeController11);a=this.$TahoeController23;if(a.isVideo()){var c=a.getMediaID();b("Bootloader").loadModules(["CreateLivingRoomActionLinkStore","LivingRoomCreationSource"],function(a,b){a.activateLivingRoomCTAForVideo(c,b.FEED_CTA_ON_VIDEO_PRESS)},"TahoeController")}};d.getVideoPlayerOrigin=function(){return this.$TahoeController34};d.getReactionVideoChannelType=function(){return this.$TahoeController27};d.getReactionVideoChannelSubtype=function(){return this.$TahoeController28};d.getUpstreamPlayerSource=function(){return this.$TahoeController31};d.getSearchKeywordsForVideoChaining=function(){return this.$TahoeController29};d.getFeedTracking=function(){return this.$TahoeController14};d.getStoryIdentifier=function(){return this.$TahoeController37};d.getNumCopyrightMatchedVideosPlayedConsecutively=function(){return this.$TahoeController24};d.$TahoeController50=function(){var a=this.$TahoeController39?this.$TahoeController39:this.$TahoeController11;this.$TahoeController9.placeBackAffordance(a,this.$TahoeController21,this.$TahoeController23,this.$TahoeController40)};d.$TahoeController46=function(a){b("TahoeActions").setMediaController(a);this.$TahoeController23=a;a=a;var c=a.isBroadcast();c&&document.body&&b("CSS").addClass(document.body,"_3yn5");this.emit("TahoeController/mediaController",{videoController:a})};d.$TahoeController48=function(){this.$TahoeController50(),this.$TahoeController9.insertPlaceholderMedia(),this.$TahoeController51()};d.$TahoeController47=function(){this.$TahoeController50();var a=this.$TahoeController23,b=a.getRootNode();this.$TahoeController16=this.$TahoeController23;a=a.getSource();this.$TahoeController18=a?a:"inline";b&&(this.$TahoeController19=b.clientWidth);b&&(this.$TahoeController17=b.clientHeight);this.$TahoeController30=!0;b&&this.$TahoeController9.insertMedia(b)};d.setMediaState=function(){__p&&__p();this.$TahoeController2=parseFloat(this.getMediaContent().getAttribute("data-original-aspect-ratio"));this.$TahoeController52();var a=this.$TahoeController23;a.updateSource("tahoe");b("VideoAutoplayControllerX").setShouldAutoplay(!1);this.$TahoeController20||a.unmute();this.$TahoeController7!=null&&a.setVolume(this.$TahoeController7);(this.$TahoeController3||this.$TahoeController26==="user_initiated")&&(a.play(this.$TahoeController26),this.$TahoeController20&&a.mute());this.setNumCopyrightMatchedVideosPlayedConsecutively();this.$TahoeController23.emit("TahoeController/enterTahoe");this.$TahoeController23.getRootNode().focus();j&&j.destroyComponentIfAvailable(this.$TahoeController23);this.$TahoeController51();this.$TahoeController13.push(b("ResizeListener").add(this.$TahoeController53))};d.setPlayReason=function(a){this.$TahoeController26=a};d.addEvent=function(a){this.$TahoeController13.push(a)};d.getMediaController=function(){return this.$TahoeController23};d.setNumCopyrightMatchedVideosPlayedConsecutively=function(){this.$TahoeController3&&this.$TahoeController26!=="user_initiated"&&this.$TahoeController36&&this.$TahoeController36.getCurrentVideoHasCopyrightMusicMatch()?this.$TahoeController24++:this.$TahoeController24=0};d.setFullWidth=function(a){this.$TahoeController38=a,this.$TahoeController51()};d.resizeMedia=function(){this.$TahoeController51()};d.$TahoeController52=function(){__p&&__p();var a=this.$TahoeController16;if(!a)return;a=b("LiveVideoStreamingReactionEligibleLocations").locations.includes(a.getSource());if(a)return;var c=b("ge")("fbVideoStreamingReactionsTray");if(!c)return;var d=this.$TahoeController23;a=b("XTahoeReactionsTrayAsyncController").getURIBuilder().setFBID("video_id",d.getVideoID());var e=function(a){var e=a.payload;if(!e)return;b("Bootloader").loadModules(["StreamingReactionsTray"],function(a){new a(c,d,"tahoe",e.feedbackID,e.broadcastID,e.profilePicUri,e.actorProfilePics,!0,!0,!0)},"TahoeController")};new(b("AsyncRequest"))().setURI(a.getURI()).setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).setHandler(e).send()};d.$TahoeController51=function(){__p&&__p();if(this.$TahoeController22)return;var a=this.$TahoeController36;if(b("TahoeV2Config").showTahoe2UI&&!(a instanceof b("TahoeVideoView")&&!a.isRenderingBottomInfoPane())){a=b("TahoeVideoResizingController").getPlayerSize(window.innerWidth,window.innerHeight);var c=a.width;a=a.height;this.$TahoeController9.setMediaSizeForTahoeV2(c,a);this.$TahoeController23&&this.$TahoeController23.setDimensions(c,a)}else{c=this.$TahoeController38?window.innerWidth:window.innerWidth-b("TahoeConstants").SIDE_PANE_WIDTH;c=Math.max(c,n);a=window.innerHeight-this.$TahoeController44();b("BlueBar").hasFixedBlueBar()&&(a-=b("TahoeConstants").BLUE_BAR_HEIGHT);a=Math.max(a,this.$TahoeController41);this.$TahoeController9.setMediaContentSize(c+"px",a+"px");var d=this.$TahoeController23;d&&d.removeOffsetStylings();this.$TahoeController23&&this.$TahoeController23.setDimensions(c,a)}};d.$TahoeController45=function(a){__p&&__p();var c;this.$TahoeController43?(c=this.$TahoeController11,this.$TahoeController43=!1):c=(h||(h=b("URI"))).getRequestURI();if(a.getPath()===this.$TahoeController11.getPath()&&a.getQueryData().ref!=="tahoe"&&!this.getIsPermalink())this.$TahoeController18==="watch_scroll"?(this.$TahoeController1=!0,b("shouldWNSRenderToRHC")()?this.$TahoeController23.emit("crossfadeWatchAndScroll"):this.$TahoeController23.emit("enterWatchAndScroll")):this.$TahoeController49();else if(!this.$TahoeController54(a)){this.$TahoeController49();return!1}else if((this.$TahoeController11.getPath()!=c.getPath()||c.getQueryData().ref==="tahoe")&&c.getPath()!=a.getPath())this.$TahoeController55(a);else if(c.getPath()===a.getPath()){c=this.$TahoeController23;c&&c.isState("fallback")&&this.$TahoeController55(a)}else this.getIsPermalink()&&this.$TahoeController55(a);b("PageTransitions").transitionComplete();return!0};d.$TahoeController54=function(a){return b("VideoPermalinkURI").isValid(a)};d.$TahoeController55=function(a){__p&&__p();this.$TahoeController22=!0;var c=this.$TahoeController23;c.pause();this.$TahoeController9.returnFeedElement();var d=b("VideoPermalinkURI").parse(a),e=d.video_id;this.$TahoeController37=d.story_id;d=b("prevNextControlStore").getState().videoIdQueue;d.length!==0&&d[d.length-1]===e?b("prevNextControlStore").dispatch(b("prevNextControlActions").popID()):b("prevNextControlStore").dispatch(b("prevNextControlActions").addID(this.$TahoeController15));d=a.getQueryData().sp;c.emit("tahoeController/displayNewMedia");this.$TahoeController36.updateView(e,this.$TahoeController5,this.$TahoeController4,d)};d.resetChannelData=function(){this.$TahoeController5=null,this.$TahoeController4=null};d.$TahoeController44=function(){if(b("TahoeV2Config").showTahoe2UI)return l;var a=null,c=this.$TahoeController36;c instanceof b("TahoeVideoView")&&(a=c.getBottomTrayHeight());return Math.min(a||m,q)};d.$TahoeController49=function(){__p&&__p();this.emit("TahoeController/beforeExit");this.$TahoeController36&&this.$TahoeController36.onExit();b("PageTransitions").removeHandler(this.$TahoeController25,o);this.$TahoeController13.forEach(function(a){return a.remove()});this.$TahoeController13=[];this.$TahoeController9.setMediaContentSize("","");this.$TahoeController9.returnFeedElement();var a=this.$TahoeController16;b("VideoAutoplayControllerX").setShouldAutoplay(!0);this.$TahoeController16&&(this.$TahoeController18==="watch_scroll"&&this.$TahoeController16!==this.$TahoeController23||(a.addOffsetStylings(),a.setDimensions(this.$TahoeController19,this.$TahoeController17),a.updateSource(this.$TahoeController18)),a.pause("autoplay_initiated"),a.mute(),a.getState()!=="finished"&&this.$TahoeController16.emit("resumeAutoplay"),this.$TahoeController16.emit("TahoeController/exitTahoe"));b("Arbiter").inform("TahoeController/exitTahoe");this.$TahoeController23&&this.$TahoeController23.emit("TahoeController/exitTahoe");b("ScriptPath").closeOverlayView("tahoe");if(this.$TahoeController23!==this.$TahoeController16){a=this.$TahoeController23;a.pause("user_initiated")}this.$TahoeController9.cleanup();this.$TahoeController8!=null&&(this.$TahoeController8.destroy(),this.$TahoeController8=null);this.$TahoeController10&&(document.title=this.$TahoeController10);this.$TahoeController6&&b("TimeSlice").cancel(this.$TahoeController6);b("TahoeActions").exit();b("Tahoe").set(null);this.$TahoeController21&&b("PageTransitions").go("/")};d.getID=function(){return this.$TahoeController15};d.getDialogContent=function(){return this.$TahoeController9.getDialogContent()};d.getContent=function(){return this.$TahoeController9.getContent()};d.getMediaContent=function(){return this.$TahoeController9.getMediaContent()};d.getSideContent=function(){return this.$TahoeController9.getSideContent()};d.getUserID=function(){return this.$TahoeController32};d.getChannelID=function(){return this.$TahoeController5};d.getVideoListID=function(){return this.$TahoeController33};d.getCaller=function(){return this.$TahoeController4};d.getExternalLogID=function(){return this.$TahoeController12};d.getIsPermalink=function(){return this.$TahoeController21};d.updateMedia=function(a){__p&&__p();var b=this.$TahoeController23;b&&typeof b.getVolume==="function"&&typeof b.isMuted==="function"&&(this.$TahoeController7=b.getVolume(),this.$TahoeController20=b.isMuted());this.$TahoeController46(a);this.$TahoeController9.setMediaContent(this.$TahoeController23.getRootNode());this.$TahoeController15=this.$TahoeController23.getMediaID();this.$TahoeController22=!1;this.setMediaState();b=this.$TahoeController36;b.setUpEndScreen();this.$TahoeController36.setUpUFI();this.$TahoeController26="user_initiated"};d.getView=function(){return this.$TahoeController36};d.setAutoplayAllowed=function(a){this.$TahoeController3=a};d.logEvent=function(a){new(b("TahoeTypedLogger"))().setEvent(a).setMediaID(this.$TahoeController15).log()};d.getFeedLocation=function(){return this.$TahoeController42};c.openFromVideoPlayer=function(a,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();b("ScriptPath").openOverlayView("tahoe");b("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoPlayer");var p=b("TimeSlice").getGuardedContinuation("TahoeController beginPlayback");a.once("beginPlayback",p.bind(void 0,function(){b("EventProfiler").informPointOnActiveInteractions("tahoe_media_done",{isPointOfInterest:!0},!0)}));var q=b("collectDataAttributes")(a.getRootNode(),["ft"]);a=new c({mediaController:{video:a},uri:d,userID:m,channelID:e,caller:f,origin:h,suborigin:i,feedTracking:q,storyIdentifier:j,feedLocation:k,entryDocumentTitle:document.title,reactionVideoChannelType:l,externalLogID:n,searchKeywordsForVideoChaining:o});a.$TahoeController6=p;b("Tahoe").set(a);switch(g){case"player_click":a.logEvent("enter_with_player_click");break;case"control_click":a.logEvent("enter_with_control_click");break;case"live_video_reply_click":a.logEvent("enter_with_live_video_reply_click");break}};c.openFromVideoLink=function(a,d){__p&&__p();d===void 0&&(d={channelID:null,caller:null});d=d;var e=d.channelID,f=d.caller,g=d.origin,h=d.suborigin,i=d.userID,j=d.reactionVideoChannelType,l=d.reactionVideoChannelSubtype,m=d.externalLogID,n=d.searchKeywordsForVideoChaining,o=d.feedLocation,p=d.upstreamPlayerSource;d=d.videoListID;b("ScriptPath").openOverlayView("tahoe");b("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoLink");k&&k.pauseActiveVideo();var q=b("Tahoe").get();if(q){document.title=b("TahoeConstants").DEFAULT_BROWSER_TITLE;b("PageTransitions").go(a);return q}g||(g=f&&f in b("VideoChannelCallerToPlayerOriginMap")?b("VideoChannelCallerToPlayerOriginMap")[f]:"unknown");q=new c({uri:a,channelID:e,caller:f,origin:g,suborigin:h,userID:i,reactionVideoChannelType:j,reactionVideoChannelSubtype:l,externalLogID:m,searchKeywordsForVideoChaining:n,feedLocation:o,entryDocumentTitle:document.title,upstreamPlayerSource:p,videoListID:d});b("Tahoe").set(q);return q};c.openFromVideoLinkHelper=function(a,d,e,f,g,i){var j=a.getAttribute("data-channel-caller");j=j;var k=a.getAttribute("data-external-log-id")||void 0;d=a.getAttribute("data-player-origin")||d;c.openFromVideoLink(new(h||(h=b("URI")))(a.getAttribute("href")).addQueryData("ref","tahoe"),{channelID:a.getAttribute("data-video-channel-id"),caller:j,origin:d,suborigin:e,userID:i,externalLogID:k,searchKeywordsForVideoChaining:a.getAttribute("data-search-keyword"),reactionVideoChannelType:f||void 0,feedLocation:g})};c.openFromVideoPermalink=function(a,d){d===void 0&&(d=null);var e=new(h||(h=b("URI")))(a),f=e.getSubdomain()==="business";b("Tahoe").set(new c({uri:e,origin:"permalink",suborigin:a.indexOf("notif_id")!==-1?"notifications":"tahoe",isPermalink:!f,storyIdentifier:d}))};c.openFromVideoPermalinkToLandingPage=function(a,d,e,f){f===void 0&&(f=null),b("Tahoe").set(new c({uri:new(h||(h=b("URI")))(a),origin:"permalink",suborigin:"tahoe",isPermalink:!0,landingPage:d,landingPageType:e,storyIdentifier:f}))};return c}(b("EventEmitter"));e.exports=c}),null);